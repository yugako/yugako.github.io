{"version":3,"sources":["webpack:///./src/components/blog/FormPost.vue?c686","webpack:///./src/components/blog/FormPost.vue?3f9f","webpack:///src/components/blog/FormPost.vue","webpack:///./src/components/blog/FormPost.vue?5f33","webpack:///./src/components/blog/FormPost.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FormPost_vue_vue_type_style_index_0_id_7fcaabe6_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FormPost_vue_vue_type_style_index_0_id_7fcaabe6_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","article","title","on","submit","$event","preventDefault","update","id","item","attrs","for","directives","name","rawName","value","expression","type","domProps","input","target","composing","$set","currentImage","img","getImg","getSrc","model","callback","$$v","click","deleteItem","addPost","tag","to","params","$_friendlyUrl","addToStorage","staticRenderFns","PreviewImage","e","then","bind","FormPostvue_type_script_lang_js_","props","data","JSON","parse","localStorage","getItem","excerpt","content","components","VueEditor","vue2_editor","methods","draft","Date","$_db","collection","doc","Object","objectSpread","removeItem","setItem","stringify_default","proId","createdAt","add","delete","blog_FormPostvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"src/assets/js/chunk-30c4b03c.322c7a44.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPost.vue?vue&type=style&index=0&id=7fcaabe6&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPost.vue?vue&type=style&index=0&id=7fcaabe6&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('h1',[_vm._v(\"Редагувати запис: \"+_vm._s(_vm.article.title))]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.update(_vm.article.id, _vm.item)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Назва запису\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.title),expression:\"item.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"title\"},domProps:{\"value\":(_vm.item.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.item, \"title\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"pre\"}},[_vm._v(\"Прев'ю запису:\")]),_c('PreviewImage',{attrs:{\"currentImage\":_vm.article.img},on:{\"getImg\":_vm.getSrc}})],1)])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"excerpt\"}},[_vm._v(\"Короткий опис:\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.excerpt),expression:\"item.excerpt\"}],staticClass:\"form-control\",attrs:{\"name\":\"excerpt\",\"id\":\"excerpt\"},domProps:{\"value\":(_vm.item.excerpt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.item, \"excerpt\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"describe\"}},[_vm._v(\"Контент:\")]),_c('vue-editor',{attrs:{\"for\":\"describe\"},model:{value:(_vm.item.content),callback:function ($$v) {_vm.$set(_vm.item, \"content\", $$v)},expression:\"item.content\"}})],1),(_vm.draft)?_c('div',[_c('button',{staticClass:\"admin-button\",on:{\"click\":function($event){return _vm.deleteItem(_vm.article.id)}}},[_vm._v(\"Видалити чернетку\")]),_c('button',{staticClass:\"admin-button\",on:{\"click\":function($event){return _vm.addPost(_vm.article.id,_vm.item)}}},[_vm._v(\"Додати запис\")])]):_c('button',{staticClass:\"admin-button\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Оновити запис\")])]),_c('router-link',{staticClass:\"admin-button\",attrs:{\"tag\":\"button\",\"to\":{ name: 'live_preview', params: { title: _vm.$_friendlyUrl(_vm.item.title), item: _vm.item }}},on:{\"click\":function($event){return _vm.addToStorage(_vm.item)}}},[_vm._v(\"\\n\\t\\t      \\tПопередній перегляд\\n\\t\\t    \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"wrapper\">\n        <h1>Редагувати запис: {{article.title}}</h1>\n\t\t\t<form @submit.prevent=\"update(article.id, item)\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t    <label for=\"title\">Назва запису</label>\n\t\t\t\t\t\t    <input type=\"text\" v-model='item.title' class=\"form-control\" id=\"title\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- /.col-12 col-lg-6 -->\t\t\t\t\t\n\t\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t    \t<label for=\"pre\">Прев'ю запису:</label>\n\t\t\t\t\t    \t<PreviewImage @getImg='getSrc' :currentImage='article.img'/>\n\t\t\t\t\t  \t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- /.col-12 -->\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t    \t<label for=\"excerpt\">Короткий опис:</label>\n\t\t\t    \t<textarea name=\"excerpt\" class=\"form-control\" v-model='item.excerpt' id=\"excerpt\"></textarea>\n\t\t\t  \t</div>\n\t\t\t  \t<div class=\"form-group\">\n\t\t\t    \t<label for=\"describe\">Контент:</label>\n\t\t\t\t\t<vue-editor for='describe' v-model=\"item.content\"></vue-editor>\n\t\t\t  \t</div>\n\t\t\t\t\n\t\t\t\t<div v-if='draft'>\n\t\t\t\t\t<button class=\"admin-button\" @click='deleteItem(article.id)'>Видалити чернетку</button>\n\t\t\t\t\t<button class=\"admin-button\" @click='addPost(article.id,item)'>Додати запис</button>\t\t\t  \n\t\t\t\t</div>\n\t\t\t\t<button v-else class=\"admin-button\" type=\"submit\">Оновити запис</button>\n\t\t\t\t\n\t\t\t</form>\n\t\t\t<router-link\n\t  \t\t\t@click='addToStorage(item)'\n\t  \t\t\ttag='button'\n\t\t      \tclass=\"admin-button\" \n\t\t      \t:to=\"{ name: 'live_preview', params: { title: $_friendlyUrl(item.title), item }}\"\n\t\t     >\n\t\t      \tПопередній перегляд\n\t\t    </router-link>\t\t\n    </div>\n</template>\n<script>\n\timport { VueEditor } from 'vue2-editor';\n\n\tconst PreviewImage = () => import('@/components/PreviewImage');\n\n\texport default {\n\t\tname: 'NewPost',\n        props: ['article', 'draft', 'proId'],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\titem: JSON.parse(localStorage.getItem('item')) || {\n\t\t\t\t\ttitle: this.article.title,\n\t\t\t\t\timg: this.article.img,\n\t\t\t\t\texcerpt: this.article.excerpt,\n\t\t\t\t\tcontent: this.article.content\n\t\t\t\t},\t\t\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t      VueEditor,\n\t\t      PreviewImage\n\t\t   },\n\t\tmethods: {\n\t\t    update(id,item) {\n\t\t    \tif (!this.draft) {\n\t\t    \t\tconst createdAt = new Date();\n\t\t        \tthis.$_db.collection('blog').doc(id).update({ ...item});\n\t\t        \tlocalStorage.removeItem('item');\n\t\t        \tlocalStorage.removeItem('articleId');\n\t\t    \t}\n                \n\t\t   \t},\n\t\t   \taddToStorage(item) {\n\t\t   \t\tlocalStorage.setItem('item', JSON.stringify(item));\n\t\t   \t\tlocalStorage.setItem('articleId', JSON.stringify(this.proId));\n\t\t   \t},\n\t\t    getSrc (data) {\n\t\t        this.item.img = data;\n\t\t    },\n\t\t    addPost (id,item) {      // <-- новый метод\n\t\t     \tconst createdAt = new Date();\n\t\t     \tthis.$_db.collection('blog').add({ ...item, createdAt });\n\t\t     \tthis.$_db.collection('draft_post').doc(id).delete();\n\t\t     \tlocalStorage.removeItem('item');\n\t\t     \tlocalStorage.removeItem('articleId');\n\n\t\t   \t},\n\t\t   \tdeleteItem(id) {\n\t\t   \t\tthis.$_db.collection('draft_post').doc(id).delete();\n\t\t   \t\tlocalStorage.removeItem('item');\n\t\t   \t\tlocalStorage.removeItem('articleId');\n\t\t   \t},\n\t\t }\n\t}\n</script>\n<style lang=\"sass\" scoped>\n\t.quillWrapper\n\t\t.ql-toolbar.ql-snow\n\t\t\tposition: sticky!important\n\t\t\ttop: 75px!important\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormPost.vue?vue&type=template&id=7fcaabe6&scoped=true&\"\nimport script from \"./FormPost.vue?vue&type=script&lang=js&\"\nexport * from \"./FormPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormPost.vue?vue&type=style&index=0&id=7fcaabe6&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fcaabe6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}