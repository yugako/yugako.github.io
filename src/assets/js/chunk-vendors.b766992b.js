(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"011f":function(t,e,n){n("f22d"),n("08d4"),n("c8b8"),n("6619"),t.exports=n("02eb").Symbol},"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),u=n("41a0"),c=n("7f20"),h=n("38fd"),l=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",y=function(){return this};t.exports=function(t,e,n,v,g,b,w){u(n,e,v);var _,S,T,E=function(t){if(!f&&t in C)return C[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},I=e+" Iterator",k=g==m,A=!1,C=t.prototype,D=C[l]||C[d]||g&&C[g],O=D||E(g),N=g?k?E("entries"):O:void 0,x="Array"==e&&C.entries||D;if(x&&(T=h(x.call(new t)),T!==Object.prototype&&T.next&&(c(T,I,!0),r||"function"==typeof T[l]||a(T,l,y))),k&&D&&D.name!==m&&(A=!0,O=function(){return D.call(this)}),r&&!w||!f&&!A&&C[l]||a(C,l,O),s[e]=O,s[I]=y,g)if(_={values:k?O:E(m),keys:b?O:E(p),entries:N},w)for(S in _)S in C||o(C,S,_[S]);else i(i.P+i.F*(f||A),e,_);return _}},"0284":function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){u(P,t)}function i(){return P.id?[].concat(P.id):[]}function o(){}function a(t){return new Promise(function(e,n){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");i.async=!0,i.src=t,i.charset="utf-8",r.appendChild(i),i.onload=e,i.onerror=n})}function s(t,e){var n=e.split("/"),r=t.split("/");return""===n[0]&&"/"===t[t.length-1]&&n.shift(),r.join("/")+n.join("/")}function u(t,e){return Object.keys(e).forEach(function(n){var r=t[n]&&Object.prototype.toString.call(t[n]);"[object Object]"!==r&&"[object Array]"!==r?t[n]=e[n]:u(t[n],e[n])}),t}function c(){return Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(t){return-1!==t.src.indexOf("analytics")||-1!==t.src.indexOf("gtag")}).length>0}function h(){return!(L.checkDuplicatedScript&&c())}function l(t){return t.name||t.replace(/-/gi,"")}function f(){return new Promise(function(t,e){var n=setInterval(function(){"undefined"!=typeof window&&window.ga&&(t(),clearInterval(n))},10)})}function d(t,e){return i().length>1?l(e)+"."+t:t}function p(t){var e=Object.keys(t).reduce(function(e,n,r,i){var o=r===i.length-1;return e+(n+"=")+t[n]+(o?"":"&")},"");return""!==e?"?"+e:""}function m(t){return[t.name,t.path].filter(Boolean).find(function(t){return-1!==L.ignoreRoutes.indexOf(t)})}function y(t){return t.query&&t.params}function v(t){return t.currentRoute}function g(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function b(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];"undefined"!=typeof window&&i().forEach(function(e){var r,i={m:d(t,e),a:n};window.ga?L.batch.enabled?(U.push(i),F||(F=setInterval(function(){U.length?U.splice(0,L.batch.amount).forEach(function(t){var e;(e=window).ga.apply(e,[t.m].concat(g(t.a)))}):(clearInterval(F),F=null)},L.batch.delay))):(r=window).ga.apply(r,[d(t,e)].concat(n)):L.untracked.push(i)})}function w(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];"object"!=typeof e[0]||e[0].constructor!==Object?b("set",e[0],e[1]):b("set",e[0])}function _(){var t=i();L.debug.enabled&&(window.ga_debug={trace:L.debug.trace}),t.forEach(function(e){var n=l(e),r=L.customIdFields[e]||{},i=t.length>1?V({},L.fields,r,{name:n}):L.fields;window.ga("create",e.id||e,"auto",i)}),L.beforeFirstHit();var e=L.ecommerce;if(e.enabled){var n=e.enhanced?"ec":"ecommerce";e.options?b("require",n,e.options):b("require",n)}L.linkers.length>0&&(b("require","linker"),b("linker:autoLink",L.linkers)),L.debug.sendHitTask||w("sendHitTask",null)}function S(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];if(1===e.length&&"string"==typeof r)return b("send","screenview",{screenName:r});b.apply(void 0,["send","screenview"].concat(e))}function T(){for(var t=void 0,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.length&&v(n[0])&&(t=n[0].currentRoute),n.length&&y(n[0])&&(t=n[0]),t?E(t):(w("page","object"==typeof n[0]?n[0].page:n[0]),b.apply(void 0,["send","pageview"].concat(n)))}function E(t){if(!m(t)){var e=L.autoTracking,n=t.meta.analytics,r=void 0===n?{}:n,i=r.pageviewTemplate||e.pageviewTemplate;if(e.screenview&&!t.name)throw new Error("[vue-analytics] Route name is mandatory when using screenview.");if(e.screenview)return void S(t.name);if(i)T(i(t));else{var o=L.router,a=L.autoTracking,u=a.transformQueryString,c=a.prependBase,h=p(t.query),l=o&&o.options.base,f=c&&l,d=t.path+(u?h:"");d=f?s(l,d):d,T(d)}}}function I(){var t=L.router,e=L.autoTracking;e.page&&t&&(e.pageviewOnLoad&&E(t.currentRoute),L.router.afterEach(function(n,r){var i=e.skipSamePath,o=e.shouldRouterUpdate;i&&n.path===r.path||("function"!=typeof o||o(n,r))&&L.$vue.nextTick().then(function(){E(t.currentRoute)})}))}function k(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function A(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];b.apply(void 0,["send","event"].concat(e))}function C(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];b.apply(void 0,["send","social"].concat(e))}function D(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];b.apply(void 0,["send","timing"].concat(e))}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(at({},e,{$vue:t})),t.directive("ga",rt),t.prototype.$ga=t.$ga=nt,Y(t),G()}Object.defineProperty(e,"__esModule",{value:!0});var R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M={$vue:null,id:null,router:null,fields:{},customIdFields:{},ignoreRoutes:[],linkers:[],commands:{},disabled:!1,customResourceURL:null,set:[],require:[],ecommerce:{enabled:!1,options:null,enhanced:!1},autoTracking:{screenview:!1,shouldRouterUpdate:null,skipSamePath:!1,exception:!1,exceptionLogs:!0,page:!0,transformQueryString:!0,pageviewOnLoad:!0,pageviewTemplate:null,untracked:!0,prependBase:!0},debug:{enabled:!1,trace:!1,sendHitTask:!0},batch:{enabled:!1,delay:500,amount:2},checkDuplicatedScript:!1,disableScriptLoader:!1,beforeFirstHit:o,ready:o,untracked:[]},P=R({},M),L=P,j=function(t){if(t.then)return t;if("function"==typeof t){var e=t();return e.then?e:Promise.resolve(e)}return Promise.resolve(t)},F=void 0,U=[],V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q=function(){2!=arguments.length?b("require",arguments.length<=0?void 0:arguments[0]):b("require",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},B=function(){L.set.forEach(function(t){var e=t.field,n=t.value;if(void 0===e||void 0===n)throw new Error('[vue-analytics] Wrong configuration in the plugin options.\nThe "set" array requires each item to have a "field" and a "value" property.');w(e,n)})},W=function(){var t=["ec","ecommerce"];L.require.forEach(function(e){if(-1!==t.indexOf(e)||-1!==t.indexOf(e.name))throw new Error("[vue-analytics] The ecommerce features are built-in in the plugin. \nFollow the ecommerce instructions available in the documentation.");if("string"!=typeof e&&"object"!=typeof e)throw new Error('[vue-analytics] Wrong configuration in the plugin options. \nThe "require" array requires each item to be a string or to have a "name" and an "options" property.');var n=e.name||e;e.options?q(n,e.options):q(n)})},K=function(){B(),W()},$=function(){L.untracked.forEach(function(t){b.apply(void 0,[t.m].concat(k(t.a)))})},H=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"undefined"!=typeof window&&i().forEach(function(e){window["ga-disable-"+e]=t})},G=function(){if("undefined"!=typeof document&&"undefined"!=typeof window){var t=L.disableScriptLoader,e=L.ready,n=L.debug.enabled?"analytics_debug":"analytics",i=L.customResourceURL||"https://www.google-analytics.com/"+n+".js";if(!L.id)throw new Error('[vue-analytics] Missing the "id" parameter. Add at least one tracking domain ID');var o=[j(L.id),j(L.disabled)];return!h()||window.ga&&t||o.push(a(i).catch(function(){throw new Error("[vue-analytics] An error occured! Please check your connection, if you have any Google Analytics blocker installed in your browser or check your custom resource URL if you have added any.")})),Promise.all(o).then(function(t){r({id:t[0],disabled:t[1]}),H(L.disabled),_(),K(),$(),I(),e()}).catch(function(t){console.error(t.message)})}},z=this,Q=function(t){b("send","exception",{exDescription:t,exFatal:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})},Y=function(t){if(L.autoTracking.exception){window.addEventListener("error",function(t){Q(t.message)});var e=t.config.errorHandler;t.config.errorHandler=function(t,n,r){Q(t.message),L.autoTracking.exceptionLogs&&(console.error("[vue-analytics] Error in "+r+": "+t.message),console.error(t)),"function"==typeof e&&e.call(z,t,n,r)}}},X=Q,J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z=function(t){return(L.ecommerce.enhanced?"ec":"ecommerce")+":"+t},tt=["addItem","addTransaction","addProduct","addImpression","setAction","addPromo","send"],et=tt.reduce(function(t,e){return J({},t,O({},e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];b.apply(void 0,[Z(e)].concat(n))}))},{}),nt={event:A,exception:X,page:T,query:b,require:q,set:w,social:C,time:D,screenview:S,ecommerce:et,disable:function(){return H(!0)},enable:function(){return H(!1)},commands:L.commands},rt={inserted:function(t,e,n){var r=Object.keys(e.modifiers);0===r.length&&r.push("click"),r.forEach(function(r){t.addEventListener(r,function(){var t="string"==typeof e.value?L.commands[e.value]:e.value;if(!t)throw new Error("[vue-analytics] The value passed to v-ga is not defined in the commands list.");t.apply(n.context)})})}},it=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ot=function(t){t.subscribe(function(t){var e=t.payload;if(e&&e.meta&&e.meta.analytics){var n=e.meta.analytics;if(!Array.isArray(n))throw new Error('The "analytics" property needs to be an array');n.forEach(function(t){var e,n=void 0,r=t.shift(),i=t;if(r.includes(":")){var o=r.split(":"),a=it(o,2);r=a[0],n=a[1]}if(!(r in nt))throw new Error('[vue-analytics:vuex] The type "'+r+"\" doesn't exist.");if(n&&!(n in nt[r]))throw new Error('[vue-analytics:vuex] The type "'+r+'" has not method "'+n+'".');if("ecommerce"===r&&!n)throw new Error('[vue-analytics:vuex] The type "'+r+'" needs to call a method. Check documentation.');n?(e=nt[r])[n].apply(e,N(i)):nt[r].apply(nt,N(i))})}})};e.default=x,n.d(e,"analyticsMiddleware",function(){return st}),n.d(e,"onAnalyticsReady",function(){return ut}),n.d(e,"event",function(){return ct}),n.d(e,"ecommerce",function(){return ht}),n.d(e,"set",function(){return lt}),n.d(e,"page",function(){return ft}),n.d(e,"query",function(){return dt}),n.d(e,"screenview",function(){return pt}),n.d(e,"time",function(){return mt}),n.d(e,"require",function(){return yt}),n.d(e,"exception",function(){return vt}),n.d(e,"social",function(){return gt});var at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st=ot,ut=f,ct=nt.event,ht=nt.ecommerce,lt=nt.set,ft=nt.page,dt=nt.query,pt=nt.screenview,mt=nt.time,yt=nt.require,vt=nt.exception,gt=nt.social}])})},"02eb":function(t,e){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},"03ed":function(t,e,n){var r=n("cad0").f,i=n("8343"),o=n("8d98")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"08d4":function(t,e,n){"use strict";var r=n("4045"),i={};i[n("8d98")("toStringTag")]="z",i+""!="[object z]"&&n("4c35")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"097d":function(t,e,n){"use strict";var r=n("5ca1"),i=n("8378"),o=n("7726"),a=n("ebd6"),s=n("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},"0a89":function(t,e,n){(function(e){
/**
 * vue-meta v1.5.8
 * (c) 2018 Declan de Wet & Sébastien Chopin (@Atinux)
 * @license MIT
 */
(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,function(){"use strict";
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var a=o()?Object.assign:function(e,o){for(var a,s,u=arguments,c=i(e),h=1;h<arguments.length;h++){for(var l in a=Object(u[h]),a)n.call(a,l)&&(c[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(c[s[f]]=a[s[f]])}}return c},s="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function u(t,e){return e={exports:{}},t(e,e.exports),e.exports}var c=u(function(t,e){(function(e,n){t.exports=n()})(0,function(){var t=function(t){return e(t)&&!n(t)};function e(t){return!!t&&"object"===typeof t}function n(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||o(t)}var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(t){return t.$$typeof===i}function a(t){return Array.isArray(t)?[]:{}}function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?h(a(t),t,e):t}function u(t,e,n){return t.concat(e).map(function(t){return s(t,n)})}function c(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){r[e]=s(t[e],n)}),Object.keys(e).forEach(function(i){n.isMergeableObject(e[i])&&t[i]?r[i]=h(t[i],e[i],n):r[i]=s(e[i],n)}),r}function h(e,n,r){r=r||{},r.arrayMerge=r.arrayMerge||u,r.isMergeableObject=r.isMergeableObject||t;var i=Array.isArray(n),o=Array.isArray(e),a=i===o;return a?i?r.arrayMerge(e,n,r):c(e,n,r):s(n,r)}h.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return h(t,n,e)},{})};var l=h;return l})}),h="[object Object]";function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function f(t,e){return function(n){return t(e(n))}}var d=Function.prototype,p=Object.prototype,m=d.toString,y=p.hasOwnProperty,v=m.call(Object),g=p.toString,b=f(Object.getPrototypeOf,Object);function w(t){return!!t&&"object"==typeof t}function _(t){if(!w(t)||g.call(t)!=h||l(t))return!1;var e=b(t);if(null===e)return!0;var n=y.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&m.call(n)==v}var S=_;function T(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function E(t,e){return t.filter(function(t,n,r){return n===r.length-1||e(t)!==e(r[n+1])})}var I=1/0,k="[object Symbol]",A="object"==typeof s&&s&&s.Object===Object&&s,C="object"==typeof self&&self&&self.Object===Object&&self,D=A||C||Function("return this")(),O=Object.prototype,N=0,x=O.toString,R=D.Symbol,M=R?R.prototype:void 0,P=M?M.toString:void 0;function L(t){if("string"==typeof t)return t;if(F(t))return P?P.call(t):"";var e=t+"";return"0"==e&&1/t==-I?"-0":e}function j(t){return!!t&&"object"==typeof t}function F(t){return"symbol"==typeof t||j(t)&&x.call(t)==k}function U(t){return null==t?"":L(t)}function V(t){var e=++N;return U(t)+e}var q=V;function B(t,e){void 0===e&&(e={});var n=t.component,r=t.option,i=t.deep,o=t.arrayMerge,a=t.metaTemplateKeyName,s=t.tagIDKeyName,u=t.contentKeyName,h=n.$options;if(n._inactive)return e;if("undefined"!==typeof h[r]&&null!==h[r]){var l=h[r];"function"===typeof l&&(l=l.call(n)),e="object"===typeof l?c(e,l,{arrayMerge:o}):l}return i&&n.$children.length&&n.$children.forEach(function(t){e=B({component:t,option:r,deep:i,arrayMerge:o},e)}),a&&e.hasOwnProperty("meta")&&(e.meta=Object.keys(e.meta).map(function(t){var n=e.meta[t];if(!n.hasOwnProperty(a)||!n.hasOwnProperty(u)||"undefined"===typeof n[a])return e.meta[t];var r=n[a];return delete n[a],r&&(n.content="function"===typeof r?r(n.content):r.replace(/%s/g,n.content)),n}),e.meta=E(e.meta,function(t){return t.hasOwnProperty(s)?t[s]:q()})),e}var W=function(t){return"undefined"===typeof window?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):String(t).replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"').replace(/'/g,"'")};function K(t){void 0===t&&(t={});var e=t.keyName,n=t.tagIDKeyName,r=t.metaTemplateKeyName,i=t.contentKeyName;return function(t){var o={title:"",titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},meta:[],base:[],link:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},a=B({component:t,option:e,deep:!0,metaTemplateKeyName:r,tagIDKeyName:n,contentKeyName:i,arrayMerge:function(e,o){var a=[];for(var s in e){var u=e[s],c=!1;for(var h in o){var l=o[h];if(u[n]&&u[n]===l[n]){var f=u[r],d=l[r];f&&!d&&(l[i]=$(t)(f)(l[i])),f&&d&&!l[i]&&(l[i]=$(t)(d)(u[i]),delete l[r]),c=!0;break}}c||a.push(u)}return a.concat(o)}});a.title&&(a.titleChunk=a.title),a.titleTemplate&&(a.title=$(t)(a.titleTemplate)(a.titleChunk||"")),a.base&&(a.base=Object.keys(a.base).length?[a.base]:[]);var s=a.__dangerouslyDisableSanitizers,u=a.__dangerouslyDisableSanitizersByTagID,h=function(t){return Object.keys(t).reduce(function(e,r){var i=s&&s.indexOf(r)>-1,o=t[n];!i&&o&&(i=u&&u[o]&&u[o].indexOf(r)>-1);var a=t[r];return e[r]=a,"__dangerouslyDisableSanitizers"===r||"__dangerouslyDisableSanitizersByTagID"===r?e:(i?e[r]=a:"string"===typeof a?e[r]=W(a):S(a)?e[r]=h(a):T(a)?e[r]=a.map(h):e[r]=a,e)},{})};return a=c(o,a),a=h(a),a}}var $=function(t){return function(e){return function(n){return"function"===typeof e?e.call(t,n):e.replace(/%s/g,n)}}};function H(t){void 0===t&&(t={});var e=t.attribute;return function(t,n){return{text:function(){return"<"+t+" "+e+'="true">'+n+"</"+t+">"}}}}function G(t){void 0===t&&(t={});var e=t.attribute;return function(t,n){return{text:function(){var t="",r=[];for(var i in n)n.hasOwnProperty(i)&&(r.push(i),t+=("undefined"!==typeof n[i]?i+'="'+n[i]+'"':i)+" ");return t+=e+'="'+r.join(",")+'"',t.trim()}}}}function z(t){void 0===t&&(t={});var e=t.attribute;return function(n,r){return{text:function(i){void 0===i&&(i={});var o=i.body;return void 0===o&&(o=!1),r.reduce(function(r,i){if(0===Object.keys(i).length)return r;if(!!i.body!==o)return r;var a=Object.keys(i).reduce(function(e,n){switch(n){case"innerHTML":case"cssText":case"once":return e;default:return-1!==[t.tagIDKeyName,"body"].indexOf(n)?e+" data-"+n+'="'+i[n]+'"':"undefined"===typeof i[n]?e+" "+n:e+" "+n+'="'+i[n]+'"'}},"").trim(),s=i.innerHTML||i.cssText||"",u=-1===["noscript","script","style"].indexOf(n),c=i.once?"":e+'="true" ';return u?r+"<"+n+" "+c+a+"/>":r+"<"+n+" "+c+a+">"+s+"</"+n+">"},"")}}}}function Q(t){return void 0===t&&(t={}),function(e,n){switch(e){case"title":return H(t)(e,n);case"htmlAttrs":case"bodyAttrs":case"headAttrs":return G(t)(e,n);default:return z(t)(e,n)}}}function Y(t){return void 0===t&&(t={}),function(){var e=K(t)(this.$root);for(var n in e)e.hasOwnProperty(n)&&"titleTemplate"!==n&&"titleChunk"!==n&&(e[n]=Q(t)(n,e[n]));return e}}function X(){return function(t){void 0===t&&(t=document.title),document.title=t}}function J(t){void 0===t&&(t={});var e=t.attribute;return function(t,n){var r=n.getAttribute(e),i=r?r.split(","):[],o=[].concat(i);for(var a in t)if(t.hasOwnProperty(a)){var s=t[a]||"";n.setAttribute(a,s),-1===i.indexOf(a)&&i.push(a);var u=o.indexOf(a);-1!==u&&o.splice(u,1)}for(var c=o.length-1;c>=0;c--)n.removeAttribute(o[c]);i.length===o.length?n.removeAttribute(e):n.setAttribute(e,i.join(","))}}var Z=Function.prototype.call.bind(Array.prototype.slice);function tt(t){void 0===t&&(t={});var e=t.attribute;return function(n,r,i,o){var a,s=Z(i.querySelectorAll(n+"["+e+"]")),u=Z(o.querySelectorAll(n+"["+e+'][data-body="true"]')),c=[];if(r.length>1){var h=[];r=r.map(function(t){var e=JSON.stringify(t);if(h.indexOf(e)<0)return h.push(e),t}).filter(function(t){return t})}r&&r.length&&r.forEach(function(r){var i=document.createElement(n),o=!0!==r.body?s:u;for(var h in r)if(r.hasOwnProperty(h))if("innerHTML"===h)i.innerHTML=r.innerHTML;else if("cssText"===h)i.styleSheet?i.styleSheet.cssText=r.cssText:i.appendChild(document.createTextNode(r.cssText));else if(-1!==[t.tagIDKeyName,"body"].indexOf(h)){var l="data-"+h,f="undefined"===typeof r[h]?"":r[h];i.setAttribute(l,f)}else{var d="undefined"===typeof r[h]?"":r[h];i.setAttribute(h,d)}i.setAttribute(e,"true"),o.some(function(t,e){return a=e,i.isEqualNode(t)})?o.splice(a,1):c.push(i)});var l=s.concat(u);return l.forEach(function(t){return t.parentNode.removeChild(t)}),c.forEach(function(t){"true"===t.getAttribute("data-body")?o.appendChild(t):i.appendChild(t)}),{oldTags:l,newTags:c}}}function et(t){void 0===t&&(t={});var e=t.ssrAttribute;return function(n){var r=document.getElementsByTagName("html")[0];if(null===r.getAttribute(e)){var i={},o={};Object.keys(n).forEach(function(e){switch(e){case"title":X(t)(n.title);break;case"htmlAttrs":J(t)(n[e],r);break;case"bodyAttrs":J(t)(n[e],document.getElementsByTagName("body")[0]);break;case"headAttrs":J(t)(n[e],document.getElementsByTagName("head")[0]);break;case"titleChunk":case"titleTemplate":case"changed":case"__dangerouslyDisableSanitizers":break;default:var a=document.getElementsByTagName("head")[0],s=document.getElementsByTagName("body")[0],u=tt(t)(e,n[e],a,s),c=u.oldTags,h=u.newTags;h.length&&(i[e]=h,o[e]=c)}}),"function"===typeof n.changed&&n.changed.call(this,n,i,o)}else r.removeAttribute(e)}}function nt(t){return void 0===t&&(t={}),function(){var e=K(t)(this.$root);return et(t).call(this,e),e}}function rt(t){return void 0===t&&(t={}),function(){return{inject:Y(t).bind(this),refresh:nt(t).bind(this)}}}var it=("undefined"!==typeof window?window.cancelAnimationFrame:null)||clearTimeout,ot=("undefined"!==typeof window?window.requestAnimationFrame:null)||function(t){return setTimeout(t,0)};function at(t,e){return it(t),ot(function(){t=null,e()})}var st="metaInfo",ut="data-vue-meta",ct="data-vue-meta-server-rendered",ht="vmid",lt="template",ft="content";function dt(t,e){void 0===e&&(e={});var n={keyName:st,contentKeyName:ft,metaTemplateKeyName:lt,attribute:ut,ssrAttribute:ct,tagIDKeyName:ht};e=a(n,e),t.prototype.$meta=rt(e);var r=null;t.mixin({beforeCreate:function(){"undefined"!==typeof this.$options[e.keyName]&&(this._hasMetaInfo=!0),"function"===typeof this.$options[e.keyName]&&("undefined"===typeof this.$options.computed&&(this.$options.computed={}),this.$options.computed.$metaInfo=this.$options[e.keyName])},created:function(){var t=this;!this.$isServer&&this.$metaInfo&&this.$watch("$metaInfo",function(){r=at(r,function(){return t.$meta().refresh()})})},activated:function(){var t=this;this._hasMetaInfo&&(r=at(r,function(){return t.$meta().refresh()}))},deactivated:function(){var t=this;this._hasMetaInfo&&(r=at(r,function(){return t.$meta().refresh()}))},beforeMount:function(){var t=this;this._hasMetaInfo&&(r=at(r,function(){return t.$meta().refresh()}))},destroyed:function(){var t=this;if(!this.$isServer&&this._hasMetaInfo)var e=setInterval(function(){t.$el&&null!==t.$el.offsetParent||(clearInterval(e),t.$parent&&(r=at(r,function(){return t.$meta().refresh()})))},50)}})}"undefined"!==typeof window&&"undefined"!==typeof window.Vue&&Vue.use(dt);var pt="1.5.8";return dt.version=pt,dt})}).call(this,n("c8ba"))},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0ff2":function(t,e,n){"use strict";
/*!
 * vuefire v2.0.0-alpha.20
 * (c) 2018 Eduardo San Martin Morote
 * Released under the MIT License.
 */function r(t){return Object.defineProperty(t.data(),"id",{value:t.id})}function i(t){return t&&"object"===typeof t}function o(t){return t.toDate}function a(t){return t&&t.onSnapshot}function s(t,e,n,r){void 0===e&&(e={}),void 0===n&&(n=""),void 0===r&&(r=[{},{}]),e=e||{};var u=Object.getOwnPropertyDescriptor(t,"id");return u&&!u.enumerable&&Object.defineProperty(r[0],"id",u),Object.keys(t).reduce(function(r,u){var c=t[u];return a(c)?(r[0][u]=e[u]||c.path,r[1][n+u]=c):Array.isArray(c)?(r[0][u]=Array(c.length).fill(null),s(c,e[u],n+u+".",[r[0][u],r[1]])):null==c||c instanceof Date||o(c)||c.longitude&&c.latitude?r[0][u]=c:i(c)?(r[0][u]={},s(c,e[u],n+u+".",[r[0][u],r[1]])):r[0][u]=c,r},r)}function u(t,e){var n;return function(){if(!n)return n=!0,t(e())}}function c(t,e){return e.split(".").reduce(function(t,e){return t[e]},t)}function h(t,e,n){var r=(""+e).split("."),i=r.pop(),o=r.reduce(function(t,e){return t[e]},t);return o.splice?o.splice(i,1,n):o[i]=n}function l(t){for(var e in t)t[e].unsub()}function f(t,e){var n=t.subs,r=t.refs,i=t.target,o=t.path,a=(t.data,t.depth),s=t.ops,u=t.resolve,c=Object.keys(r),h=Object.keys(n).filter(function(t){return c.indexOf(t)<0});if(h.forEach(function(t){n[t].unsub(),delete n[t]}),!c.length||++a>e.maxRefDepth)return u(o);var l=0,f=c.length,d=Object.create(null);function p(t){t in d&&++l>=f&&u(o)}c.forEach(function(t){var u=n[t],c=r[t],h=o+"."+t;if(d[h]=!0,u){if(u.path===c.path)return;u.unsub()}n[t]={unsub:m({ref:c,target:i,path:h,depth:a,ops:s,resolve:p.bind(null,h)},e),path:c.path}})}function d(t,e){var n=t.vm,i=t.key,o=t.collection,a=t.ops,u=t.resolve,c=t.reject;void 0===e&&(e={maxRefDepth:2});var h,d=a.set(n,i,[]),p=u,m=[],y={added:function(t){var n=t.newIndex,i=t.doc;m.splice(n,0,Object.create(null));var o=m[n],c=r(i),h=s(c),l=h[0],p=h[1];a.add(d,n,l),f({data:l,refs:p,subs:o,target:d,path:n,depth:0,ops:a,resolve:u.bind(null,i)},e)},modified:function(t){var n=t.oldIndex,i=t.newIndex,o=t.doc,c=m.splice(n,1)[0];m.splice(i,0,c);var h=a.remove(d,n)[0],l=r(o),p=s(l,h),y=p[0],v=p[1];a.add(d,i,y),f({data:y,refs:v,subs:c,ops:a,target:d,path:i,depth:0,resolve:u},e)},removed:function(t){var e=t.oldIndex;a.remove(d,e),l(m.splice(e,1)[0])}},v=o.onSnapshot(function(t){var e="function"===typeof t.docChanges?t.docChanges():t.docChanges;if(!h&&e.length){h=!0;var r=0,o=e.length,a=e.reduce(function(t,e){var n=e.doc;return t[n.id]=!1,t},Object.create(null));u=function(t){var e=t.id;e in a&&++r>=o&&(p(n[i]),u=function(t){})}}e.forEach(function(t){y[t.type](t)}),e.length||u()},c);return function(){v(),m.forEach(l)}}function p(t,e){var n=t.snapshot,r=t.target,i=t.path,o=t.subs,a=t.ops,u=t.depth;void 0===u&&(u=0);var h=t.resolve;void 0===e&&(e={maxRefDepth:2});var l=s(n,c(r,i)),d=l[0],p=l[1];a.set(r,i,d),f({data:d,subs:o,refs:p,target:r,path:i,ops:a,depth:u,resolve:h},e)}function m(t,e){var n=t.ref,i=t.target,o=t.path,a=t.depth,s=t.resolve,u=t.ops,c=Object.create(null),h=n.onSnapshot(function(t){t.exists?p({snapshot:r(t),target:i,path:o,ops:u,subs:c,depth:a,resolve:s},e):(u.set(i,o,null),s(o))});return function(){h(),l(c)}}function y(t,e){var n=t.vm,i=t.key,o=t.document,a=t.resolve,s=t.reject,c=t.ops,h=Object.create(null);a=u(a,function(){return n[i]});var f=o.onSnapshot(function(t){t.exists?p({snapshot:r(t),target:n,path:i,subs:h,ops:c,resolve:a},e):a()},s);return function(){f(),l(h)}}var v={set:function(t,e,n){return h(t,e,n)},add:function(t,e,n){return t.splice(e,0,n)},remove:function(t,e){return t.splice(e,1)}};function g(t,e){var n=t.vm,r=t.key,i=t.ref,o=t.ops;return void 0===e&&(e={maxRefDepth:2}),new Promise(function(t,a){var s;s=i.where?d({vm:n,key:r,ops:o,collection:i,resolve:t,reject:a},e):y({vm:n,key:r,ops:o,document:i,resolve:t,reject:a},e),n._firestoreUnbinds[r]=s})}function b(t){var e=t.config.optionMergeStrategies;e.firestore=e.provide,t.mixin({created:function(){var t=this,e=this.$options,n=e.firestore;this._firestoreUnbinds=Object.create(null),this.$firestoreRefs=Object.create(null);var r="function"===typeof n?n.call(this):n;r&&Object.keys(r).forEach(function(e){t.$bind(e,r[e])})},beforeDestroy:function(){for(var t in this._firestoreUnbinds)this._firestoreUnbinds[t]();this._firestoreUnbinds=null,this.$firestoreRefs=null}}),t.prototype.$bind=function(t,e,n){this._firestoreUnbinds[t]&&this.$unbind(t);var r=g({vm:this,key:t,ref:e,ops:v},n);return this.$firestoreRefs[t]=e,r},t.prototype.$unbind=function(t){this._firestoreUnbinds[t](),delete this._firestoreUnbinds[t],delete this.$firestoreRefs[t]}}e["a"]=b},"108b":function(t,e,n){"use strict";t.exports=function(t){const e=t?t.preset:"ru",n={"а":"a","б":"b","в":"v","ґ":"g","г":"g","д":"d","е":"e","ё":"e","є":"ye","ж":"zh","з":"z","и":"i","і":"i","ї":"yi","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh'","ъ":"","ы":"i","ь":"","э":"e","ю":"yu","я":"ya"};"uk"===e&&Object.assign(n,{"г":"h","и":"y","й":"y","х":"kh","ц":"ts","щ":"shch","'":"","’":"","ʼ":""});const r=Object.assign({},n);function i(t,i){if(!t)return"";let o="";for(let a=0;a<t.length;a++){const s=t[a]===t[a].toUpperCase();let u=t[a].toLowerCase();if(" "===u&&i){o+=i;continue}let c="uk"===e&&"г"===u&&a>0&&"з"===t[a-1].toLowerCase()?"gh":(0===a?n:r)[u];o+="undefined"===typeof c?s?u.toUpperCase():u:s?c.toUpperCase():c}return o}return"uk"===e&&Object.assign(r,{"є":"ie","ї":"i","й":"i","ю":"iu","я":"ia"}),{transform:i}}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),s=a.length,u=0;while(s>u)r.f(t,n=a[u++],e[n]);return t}},"153c":function(t,e,n){var r=n("235a");r(r.S+r.F,"Object",{assign:n("ef81")})},"18cc":function(t,e,n){var r=n("232e"),i=n("9129").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},1928:function(t,e,n){var r=n("f40b"),i=n("96ff"),o=n("50e6");t.exports=function(t){var e=r(t),n=i.f;if(n){var a,s=n(t),u=o.f,c=0;while(s.length>c)u.call(t,a=s[c++])&&e.push(a)}return e}},1982:function(t,e,n){var r=n("cad0"),i=n("c46b");t.exports=n("948a")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},1991:function(t,e,n){var r,i,o,a=n("9b43"),s=n("31f4"),u=n("fab2"),c=n("230e"),h=n("7726"),l=h.process,f=h.setImmediate,d=h.clearImmediate,p=h.MessageChannel,m=h.Dispatch,y=0,v={},g="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},w=function(t){b.call(t.data)};f&&d||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return v[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},d=function(t){delete v[t]},"process"==n("2d95")(l)?r=function(t){l.nextTick(a(b,t,1))}:m&&m.now?r=function(t){m.now(a(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(t){h.postMessage(t+"","*")},h.addEventListener("message",w,!1)):r=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:d}},"1cc7":function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";var t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"disqus_thread"}})},staticRenderFns:[],name:"vue-disqus",props:{shortname:{type:String,required:!0},identifier:{type:String,required:!1},url:{type:String,required:!1},title:{type:String,required:!1},remote_auth_s3:{type:String,required:!1},api_key:{type:String,required:!1},sso_config:{type:Object,required:!1},language:{type:String,required:!1}},mounted(){window.DISQUS?this.reset(window.DISQUS):this.init()},methods:{reset(t){let e=this;t.reset({reload:!0,config:function(){e.setBaseConfig(this)}})},init(){let t=this;window.disqus_config=function(){t.setBaseConfig(this)},setTimeout(()=>{let t=document,e=t.createElement("script");e.setAttribute("id","embed-disqus"),e.setAttribute("data-timestamp",+new Date),e.type="text/javascript",e.async=!0,e.src=`//${this.shortname}.disqus.com/embed.js`,(t.head||t.body).appendChild(e)},0)},setBaseConfig(t){t.page.identifier=this.identifier||this.$route.path||window.location.pathname,t.page.url=this.url||this.$el.baseURI,this.title&&(t.page.title=this.title),this.remote_auth_s3&&(t.page.remote_auth_s3=this.remote_auth_s3),this.api_key&&(t.page.api_key=this.api_key),this.sso_config&&(t.sso=this.sso_config),this.language&&(t.language=this.language),t.callbacks.onReady=[()=>{this.$emit("ready")}],t.callbacks.onNewComment=[t=>{this.$emit("new-comment",t)}]}}};function e(e){e.component("VueDisqus",t)}return"undefined"!==typeof window&&"undefined"!==typeof window.Vue&&window.Vue.use(e),e})},"1f50":function(t,e,n){var r=n("8187");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},2223:function(t,e,n){var r=n("669d");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"232e":function(t,e,n){var r=n("8343"),i=n("ad20"),o=n("6ff2")(!1),a=n("89fc")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},"235a":function(t,e,n){var r=n("aad8"),i=n("02eb"),o=n("1982"),a=n("4c35"),s=n("e821"),u="prototype",c=function(t,e,n){var h,l,f,d,p=t&c.F,m=t&c.G,y=t&c.S,v=t&c.P,g=t&c.B,b=m?r:y?r[e]||(r[e]={}):(r[e]||{})[u],w=m?i:i[e]||(i[e]={}),_=w[u]||(w[u]={});for(h in m&&(n=e),n)l=!p&&b&&void 0!==b[h],f=(l?b:n)[h],d=g&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,b&&a(b,h,f,t&c.U),w[h]!=f&&o(w,h,d),v&&_[h]!=f&&(_[h]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},2622:function(t,e,n){"use strict";var r=n("c6b0"),i=n("c46b"),o=n("03ed"),a={};n("1982")(a,n("8d98")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},2629:function(t,e,n){n("2b10"),t.exports=n("02eb").String.repeat},"27ee":function(t,e,n){var r=n("23c6"),i=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},2813:function(t,e,n){"use strict";var r=n("235a"),i=n("7346"),o=n("7e54"),a="startsWith",s=""[a];r(r.P+r.F*n("b4b7")(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var h=c.render;c.render=function(t,e){return u.call(e),h(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}n.d(e,"a",function(){return r})},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s="toString",u=Function[s],c=(""+u).split(s);n("8378").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(r--)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},"2b10":function(t,e,n){var r=n("235a");r(r.P,"String",{repeat:n("8115")})},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2ead":function(t,e,n){(function(t){(function(t,n){n(e)})(0,function(e){"use strict";var n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function r(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function i(t,e){return e={exports:{}},t(e,e.exports),e.exports}var o=i(function(t,e){var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
//! moment.js
//! version : 2.19.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
//! moment.js
//! version : 2.19.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(n,r){"object"===i(e)?t.exports=r():n.moment=r()})(n,function(){var e,n;function o(){return e.apply(null,arguments)}function a(t){e=t}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function u(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function h(t){return void 0===t}function l(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function f(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function y(t,e,n,r){return zn(t,e,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=v()),t._pf}function b(t){if(null==t._isValid){var e=g(t),r=n.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function w(t){var e=y(NaN);return null!=t?m(g(e),t):g(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var _=o.momentProperties=[];function S(t,e){var n,r,i;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=g(e)),h(e._locale)||(t._locale=e._locale),_.length>0)for(n=0;n<_.length;n++)r=_[n],i=e[r],h(i)||(t[r]=i);return t}var T=!1;function E(t){S(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===T&&(T=!0,o.updateOffset(this),T=!1)}function I(t){return t instanceof E||null!=t&&null!=t._isAMomentObject}function k(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function A(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=k(e)),n}function C(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&A(t[r])!==A(e[r]))&&a++;return a+o}function D(t){!1===o.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function O(t,e){var n=!0;return m(function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,t),n){for(var r,a=[],s=0;s<arguments.length;s++){if(r="","object"===i(arguments[s])){for(var u in r+="\n["+s+"] ",arguments[0])r+=u+": "+arguments[0][u]+", ";r=r.slice(0,-2)}else r=arguments[s];a.push(r)}D(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var N,x={};function R(t,e){null!=o.deprecationHandler&&o.deprecationHandler(t,e),x[t]||(D(e),x[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t){var e,n;for(n in t)e=t[n],M(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(t,e){var n,r=m({},t);for(n in e)p(e,n)&&(u(t[n])&&u(e[n])?(r[n]={},m(r[n],t[n]),m(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)p(t,n)&&!p(e,n)&&u(t[n])&&(r[n]=m({},r[n]));return r}function j(t){null!=t&&this.set(t)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,N=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var F={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function U(t,e,n){var r=this._calendar[t]||this._calendar["sameElse"];return M(r)?r.call(e,n):r}var V={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}var B="Invalid date";function W(){return this._invalidDate}var K="%d",$=/\d{1,2}/;function H(t){return this._ordinal.replace("%d",t)}var G={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function z(t,e,n,r){var i=this._relativeTime[n];return M(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Q(t,e){var n=this._relativeTime[t>0?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)}var Y={};function X(t,e){var n=t.toLowerCase();Y[n]=Y[n+"s"]=Y[e]=t}function J(t){return"string"===typeof t?Y[t]||Y[t.toLowerCase()]:void 0}function Z(t){var e,n,r={};for(n in t)p(t,n)&&(e=J(n),e&&(r[e]=t[n]));return r}var tt={};function et(t,e){tt[t]=e}function nt(t){var e=[];for(var n in t)e.push({unit:n,priority:tt[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function rt(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var it=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ot=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,at={},st={};function ut(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(st[t]=i),e&&(st[e[0]]=function(){return rt(i.apply(this,arguments),e[1],e[2])}),n&&(st[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function ct(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function ht(t){var e,n,r=t.match(it);for(e=0,n=r.length;e<n;e++)st[r[e]]?r[e]=st[r[e]]:r[e]=ct(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=M(r[i])?r[i].call(e,t):r[i];return o}}function lt(t,e){return t.isValid()?(e=ft(e,t.localeData()),at[e]=at[e]||ht(e),at[e](t)):t.localeData().invalidDate()}function ft(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}ot.lastIndex=0;while(n>=0&&ot.test(t))t=t.replace(ot,r),ot.lastIndex=0,n-=1;return t}var dt=/\d/,pt=/\d\d/,mt=/\d{3}/,yt=/\d{4}/,vt=/[+-]?\d{6}/,gt=/\d\d?/,bt=/\d\d\d\d?/,wt=/\d\d\d\d\d\d?/,_t=/\d{1,3}/,St=/\d{1,4}/,Tt=/[+-]?\d{1,6}/,Et=/\d+/,It=/[+-]?\d+/,kt=/Z|[+-]\d\d:?\d\d/gi,At=/Z|[+-]\d\d(?::?\d\d)?/gi,Ct=/[+-]?\d+(\.\d{1,3})?/,Dt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ot={};function Nt(t,e,n){Ot[t]=M(e)?e:function(t,r){return t&&n?n:e}}function xt(t,e){return p(Ot,t)?Ot[t](e._strict,e._locale):new RegExp(Rt(t))}function Rt(t){return Mt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function Mt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Pt={};function Lt(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),l(e)&&(r=function(t,n){n[e]=A(t)}),n=0;n<t.length;n++)Pt[t[n]]=r}function jt(t,e){Lt(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function Ft(t,e,n){null!=e&&p(Pt,t)&&Pt[t](e,n._a,n,t)}var Ut=0,Vt=1,qt=2,Bt=3,Wt=4,Kt=5,$t=6,Ht=7,Gt=8;function zt(t){return Qt(t)?366:365}function Qt(t){return t%4===0&&t%100!==0||t%400===0}ut("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),ut(0,["YY",2],0,function(){return this.year()%100}),ut(0,["YYYY",4],0,"year"),ut(0,["YYYYY",5],0,"year"),ut(0,["YYYYYY",6,!0],0,"year"),X("year","y"),et("year",1),Nt("Y",It),Nt("YY",gt,pt),Nt("YYYY",St,yt),Nt("YYYYY",Tt,vt),Nt("YYYYYY",Tt,vt),Lt(["YYYYY","YYYYYY"],Ut),Lt("YYYY",function(t,e){e[Ut]=2===t.length?o.parseTwoDigitYear(t):A(t)}),Lt("YY",function(t,e){e[Ut]=o.parseTwoDigitYear(t)}),Lt("Y",function(t,e){e[Ut]=parseInt(t,10)}),o.parseTwoDigitYear=function(t){return A(t)+(A(t)>68?1900:2e3)};var Yt,Xt=Zt("FullYear",!0);function Jt(){return Qt(this.year())}function Zt(t,e){return function(n){return null!=n?(ee(this,t,n),o.updateOffset(this,e),this):te(this,t)}}function te(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ee(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Qt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),oe(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ne(t){return t=J(t),M(this[t])?this[t]():this}function re(t,e){if("object"===("undefined"===typeof t?"undefined":i(t))){t=Z(t);for(var n=nt(t),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(t=J(t),M(this[t]))return this[t](e);return this}function ie(t,e){return(t%e+e)%e}function oe(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ie(e,12);return t+=(e-n)/12,1===n?Qt(t)?29:28:31-n%7%2}Yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},ut("M",["MM",2],"Mo",function(){return this.month()+1}),ut("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),ut("MMMM",0,0,function(t){return this.localeData().months(this,t)}),X("month","M"),et("month",8),Nt("M",gt),Nt("MM",gt,pt),Nt("MMM",function(t,e){return e.monthsShortRegex(t)}),Nt("MMMM",function(t,e){return e.monthsRegex(t)}),Lt(["M","MM"],function(t,e){e[Vt]=A(t)-1}),Lt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[Vt]=i:g(n).invalidMonth=t});var ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,se="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function ue(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ae).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months["standalone"]}var ce="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function he(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ae.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function le(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=y([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=Yt.call(this._shortMonthsParse,a),-1!==i?i:null):(i=Yt.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===e?(i=Yt.call(this._shortMonthsParse,a),-1!==i?i:(i=Yt.call(this._longMonthsParse,a),-1!==i?i:null)):(i=Yt.call(this._longMonthsParse,a),-1!==i?i:(i=Yt.call(this._shortMonthsParse,a),-1!==i?i:null))}function fe(t,e,n){var r,i,o;if(this._monthsParseExact)return le.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=y([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function de(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=A(e);else if(e=t.localeData().monthsParse(e),!l(e))return t;return n=Math.min(t.date(),oe(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pe(t){return null!=t?(de(this,t),o.updateOffset(this,!0),this):te(this,"Month")}function me(){return oe(this.year(),this.month())}var ye=Dt;function ve(t){return this._monthsParseExact?(p(this,"_monthsRegex")||we.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=ye),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}var ge=Dt;function be(t){return this._monthsParseExact?(p(this,"_monthsRegex")||we.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=ge),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function we(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=y([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=Mt(r[e]),i[e]=Mt(i[e]);for(e=0;e<24;e++)o[e]=Mt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function _e(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function Se(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Te(t,e,n){var r=7+e-n,i=(7+Se(t,0,r).getUTCDay()-e)%7;return-i+r-1}function Ee(t,e,n,r,i){var o,a,s=(7+n-r)%7,u=Te(t,r,i),c=1+7*(e-1)+s+u;return c<=0?(o=t-1,a=zt(o)+c):c>zt(t)?(o=t+1,a=c-zt(t)):(o=t,a=c),{year:o,dayOfYear:a}}function Ie(t,e,n){var r,i,o=Te(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+ke(i,e,n)):a>ke(t.year(),e,n)?(r=a-ke(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function ke(t,e,n){var r=Te(t,e,n),i=Te(t+1,e,n);return(zt(t)-r+i)/7}function Ae(t){return Ie(t,this._week.dow,this._week.doy).week}ut("w",["ww",2],"wo","week"),ut("W",["WW",2],"Wo","isoWeek"),X("week","w"),X("isoWeek","W"),et("week",5),et("isoWeek",5),Nt("w",gt),Nt("ww",gt,pt),Nt("W",gt),Nt("WW",gt,pt),jt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=A(t)});var Ce={dow:0,doy:6};function De(){return this._week.dow}function Oe(){return this._week.doy}function Ne(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function xe(t){var e=Ie(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Re(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function Me(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}ut("d",0,"do","day"),ut("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),ut("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),ut("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),ut("e",0,0,"weekday"),ut("E",0,0,"isoWeekday"),X("day","d"),X("weekday","e"),X("isoWeekday","E"),et("day",11),et("weekday",11),et("isoWeekday",11),Nt("d",gt),Nt("e",gt),Nt("E",gt),Nt("dd",function(t,e){return e.weekdaysMinRegex(t)}),Nt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Nt("dddd",function(t,e){return e.weekdaysRegex(t)}),jt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t}),jt(["d","e","E"],function(t,e,n,r){e[r]=A(t)});var Pe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Le(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays["standalone"]}var je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Fe(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}var Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ve(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function qe(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=y([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=Yt.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===e?(i=Yt.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=Yt.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===e?(i=Yt.call(this._weekdaysParse,a),-1!==i?i:(i=Yt.call(this._shortWeekdaysParse,a),-1!==i?i:(i=Yt.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===e?(i=Yt.call(this._shortWeekdaysParse,a),-1!==i?i:(i=Yt.call(this._weekdaysParse,a),-1!==i?i:(i=Yt.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=Yt.call(this._minWeekdaysParse,a),-1!==i?i:(i=Yt.call(this._weekdaysParse,a),-1!==i?i:(i=Yt.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function Be(t,e,n){var r,i,o;if(this._weekdaysParseExact)return qe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=y([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function We(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Re(t,this.localeData()),this.add(t-e,"d")):e}function Ke(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function $e(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Me(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}var He=Dt;function Ge(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}var ze=Dt;function Qe(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Ye=Dt;function Xe(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Je(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=y([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=Mt(s[e]),u[e]=Mt(u[e]),c[e]=Mt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ze(){return this.hours()%12||12}function tn(){return this.hours()||24}function en(t,e){ut(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function nn(t,e){return e._meridiemParse}function rn(t){return"p"===(t+"").toLowerCase().charAt(0)}ut("H",["HH",2],0,"hour"),ut("h",["hh",2],0,Ze),ut("k",["kk",2],0,tn),ut("hmm",0,0,function(){return""+Ze.apply(this)+rt(this.minutes(),2)}),ut("hmmss",0,0,function(){return""+Ze.apply(this)+rt(this.minutes(),2)+rt(this.seconds(),2)}),ut("Hmm",0,0,function(){return""+this.hours()+rt(this.minutes(),2)}),ut("Hmmss",0,0,function(){return""+this.hours()+rt(this.minutes(),2)+rt(this.seconds(),2)}),en("a",!0),en("A",!1),X("hour","h"),et("hour",13),Nt("a",nn),Nt("A",nn),Nt("H",gt),Nt("h",gt),Nt("k",gt),Nt("HH",gt,pt),Nt("hh",gt,pt),Nt("kk",gt,pt),Nt("hmm",bt),Nt("hmmss",wt),Nt("Hmm",bt),Nt("Hmmss",wt),Lt(["H","HH"],Bt),Lt(["k","kk"],function(t,e,n){var r=A(t);e[Bt]=24===r?0:r}),Lt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Lt(["h","hh"],function(t,e,n){e[Bt]=A(t),g(n).bigHour=!0}),Lt("hmm",function(t,e,n){var r=t.length-2;e[Bt]=A(t.substr(0,r)),e[Wt]=A(t.substr(r)),g(n).bigHour=!0}),Lt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Bt]=A(t.substr(0,r)),e[Wt]=A(t.substr(r,2)),e[Kt]=A(t.substr(i)),g(n).bigHour=!0}),Lt("Hmm",function(t,e,n){var r=t.length-2;e[Bt]=A(t.substr(0,r)),e[Wt]=A(t.substr(r))}),Lt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Bt]=A(t.substr(0,r)),e[Wt]=A(t.substr(r,2)),e[Kt]=A(t.substr(i))});var on=/[ap]\.?m?\.?/i;function an(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var sn,un=Zt("Hours",!0),cn={calendar:F,longDateFormat:V,invalidDate:B,ordinal:K,dayOfMonthOrdinalParse:$,relativeTime:G,months:se,monthsShort:ce,week:Ce,weekdays:Pe,weekdaysMin:Ue,weekdaysShort:je,meridiemParse:on},hn={},ln={};function fn(t){return t?t.toLowerCase().replace("_","-"):t}function dn(t){var e,n,r,i,o=0;while(o<t.length){i=fn(t[o]).split("-"),e=i.length,n=fn(t[o+1]),n=n?n.split("-"):null;while(e>0){if(r=pn(i.slice(0,e).join("-")),r)return r;if(n&&n.length>=e&&C(i,n,!0)>=e-1)break;e--}o++}return null}function pn(e){var n=null;if(!hn[e]&&t&&t.exports)try{n=sn._abbr;var i=r;i("./locale/"+e),mn(n)}catch(o){}return hn[e]}function mn(t,e){var n;return t&&(n=h(e)?gn(t):yn(t,e),n&&(sn=n)),sn._abbr}function yn(t,e){if(null!==e){var n=cn;if(e.abbr=t,null!=hn[t])R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=hn[t]._config;else if(null!=e.parentLocale){if(null==hn[e.parentLocale])return ln[e.parentLocale]||(ln[e.parentLocale]=[]),ln[e.parentLocale].push({name:t,config:e}),null;n=hn[e.parentLocale]._config}return hn[t]=new j(L(n,e)),ln[t]&&ln[t].forEach(function(t){yn(t.name,t.config)}),mn(t),hn[t]}return delete hn[t],null}function vn(t,e){if(null!=e){var n,r=cn;null!=hn[t]&&(r=hn[t]._config),e=L(r,e),n=new j(e),n.parentLocale=hn[t],hn[t]=n,mn(t)}else null!=hn[t]&&(null!=hn[t].parentLocale?hn[t]=hn[t].parentLocale:null!=hn[t]&&delete hn[t]);return hn[t]}function gn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return sn;if(!s(t)){if(e=pn(t),e)return e;t=[t]}return dn(t)}function bn(){return N(hn)}function wn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[Vt]<0||n[Vt]>11?Vt:n[qt]<1||n[qt]>oe(n[Ut],n[Vt])?qt:n[Bt]<0||n[Bt]>24||24===n[Bt]&&(0!==n[Wt]||0!==n[Kt]||0!==n[$t])?Bt:n[Wt]<0||n[Wt]>59?Wt:n[Kt]<0||n[Kt]>59?Kt:n[$t]<0||n[$t]>999?$t:-1,g(t)._overflowDayOfYear&&(e<Ut||e>qt)&&(e=qt),g(t)._overflowWeeks&&-1===e&&(e=Ht),g(t)._overflowWeekday&&-1===e&&(e=Gt),g(t).overflow=e),t}function _n(t,e,n){return null!=t?t:null!=e?e:n}function Sn(t){var e=new Date(o.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Tn(t){var e,n,r,i,o=[];if(!t._d){for(r=Sn(t),t._w&&null==t._a[qt]&&null==t._a[Vt]&&En(t),null!=t._dayOfYear&&(i=_n(t._a[Ut],r[Ut]),(t._dayOfYear>zt(i)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=Se(i,0,t._dayOfYear),t._a[Vt]=n.getUTCMonth(),t._a[qt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Bt]&&0===t._a[Wt]&&0===t._a[Kt]&&0===t._a[$t]&&(t._nextDay=!0,t._a[Bt]=0),t._d=(t._useUTC?Se:_e).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Bt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==t._d.getDay()&&(g(t).weekdayMismatch=!0)}}function En(t){var e,n,r,i,o,a,s,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=_n(e.GG,t._a[Ut],Ie(Qn(),1,4).year),r=_n(e.W,1),i=_n(e.E,1),(i<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=Ie(Qn(),o,a);n=_n(e.gg,t._a[Ut],c.year),r=_n(e.w,c.week),null!=e.d?(i=e.d,(i<0||i>6)&&(u=!0)):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o}r<1||r>ke(n,o,a)?g(t)._overflowWeeks=!0:null!=u?g(t)._overflowWeekday=!0:(s=Ee(n,r,i,o,a),t._a[Ut]=s.year,t._dayOfYear=s.dayOfYear)}var In=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,An=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Dn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],On=/^\/?Date\((\-?\d+)/i;function Nn(t){var e,n,r,i,o,a,s=t._i,u=In.exec(s)||kn.exec(s);if(u){for(g(t).iso=!0,e=0,n=Cn.length;e<n;e++)if(Cn[e][1].exec(u[1])){i=Cn[e][0],r=!1!==Cn[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=Dn.length;e<n;e++)if(Dn[e][1].exec(u[3])){o=(u[2]||" ")+Dn[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!An.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),qn(t)}else t._isValid=!1}var xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Rn(t,e,n,r,i,o){var a=[Mn(t),ce.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Mn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Pn(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Ln(t,e,n){if(t){var r=je.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return g(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}var jn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fn(t,e,n){if(t)return jn[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return 60*o+i}function Un(t){var e=xn.exec(Pn(t._i));if(e){var n=Rn(e[4],e[3],e[2],e[5],e[6],e[7]);if(!Ln(e[1],n,t))return;t._a=n,t._tzm=Fn(e[8],e[9],e[10]),t._d=Se.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Vn(t){var e=On.exec(t._i);null===e?(Nn(t),!1===t._isValid&&(delete t._isValid,Un(t),!1===t._isValid&&(delete t._isValid,o.createFromInputFallback(t)))):t._d=new Date(+e[1])}function qn(t){if(t._f!==o.ISO_8601)if(t._f!==o.RFC_2822){t._a=[],g(t).empty=!0;var e,n,r,i,a,s=""+t._i,u=s.length,c=0;for(r=ft(t._f,t._locale).match(it)||[],e=0;e<r.length;e++)i=r[e],n=(s.match(xt(i,t))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&g(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),st[i]?(n?g(t).empty=!1:g(t).unusedTokens.push(i),Ft(i,n,t)):t._strict&&!n&&g(t).unusedTokens.push(i);g(t).charsLeftOver=u-c,s.length>0&&g(t).unusedInput.push(s),t._a[Bt]<=12&&!0===g(t).bigHour&&t._a[Bt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Bt]=Bn(t._locale,t._a[Bt],t._meridiem),Tn(t),wn(t)}else Un(t);else Nn(t)}function Bn(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Wn(t){var e,n,r,i,o;if(0===t._f.length)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=S({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],qn(e),b(e)&&(o+=g(e).charsLeftOver,o+=10*g(e).unusedTokens.length,g(e).score=o,(null==r||o<r)&&(r=o,n=e));m(t,n||e)}function Kn(t){if(!t._d){var e=Z(t._i);t._a=d([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Tn(t)}}function $n(t){var e=new E(wn(Hn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Hn(t){var e=t._i,n=t._f;return t._locale=t._locale||gn(t._l),null===e||void 0===n&&""===e?w({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),I(e)?new E(wn(e)):(f(e)?t._d=e:s(n)?Wn(t):n?qn(t):Gn(t),b(t)||(t._d=null),t))}function Gn(t){var e=t._i;h(e)?t._d=new Date(o.now()):f(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Vn(t):s(e)?(t._a=d(e.slice(0),function(t){return parseInt(t,10)}),Tn(t)):u(e)?Kn(t):l(e)?t._d=new Date(e):o.createFromInputFallback(t)}function zn(t,e,n,r,i){var o={};return!0!==n&&!1!==n||(r=n,n=void 0),(u(t)&&c(t)||s(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,$n(o)}function Qn(t,e,n,r){return zn(t,e,n,r,!1)}o.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),o.ISO_8601=function(){},o.RFC_2822=function(){};var Yn=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Qn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:w()}),Xn=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Qn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:w()});function Jn(t,e){var n,r;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Qn();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Zn(){var t=[].slice.call(arguments,0);return Jn("isBefore",t)}function tr(){var t=[].slice.call(arguments,0);return Jn("isAfter",t)}var er=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(t){for(var e in t)if(-1===Yt.call(nr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<nr.length;++r)if(t[nr[r]]){if(n)return!1;parseFloat(t[nr[r]])!==A(t[nr[r]])&&(n=!0)}return!0}function ir(){return this._isValid}function or(){return Ar(NaN)}function ar(t){var e=Z(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=rr(e),this._milliseconds=+h+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(t){return t instanceof ar}function ur(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function cr(t,e){ut(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+rt(~~(t/60),2)+e+rt(~~t%60,2)})}cr("Z",":"),cr("ZZ",""),Nt("Z",At),Nt("ZZ",At),Lt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=lr(At,t)});var hr=/([\+\-]|\d\d)/gi;function lr(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(hr)||["-",0,0],o=60*i[1]+A(i[2]);return 0===o?0:"+"===i[0]?o:-o}function fr(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(I(t)||f(t)?t.valueOf():Qn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):Qn(t).local()}function dr(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function pr(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(t=lr(At,t),null===t)return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=dr(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?xr(this,Ar(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:dr(this)}function mr(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yr(t){return this.utcOffset(0,t)}function vr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=lr(kt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function br(t){return!!this.isValid()&&(t=t?Qn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(S(t,this),t=Hn(t),t._a){var e=t._isUTC?y(t._a):Qn(t._a);this._isDSTShifted=this.isValid()&&C(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}o.updateOffset=function(){};var Ir=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ar(t,e){var n,r,o,a=t,s=null;return sr(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(a={},e?a[e]=t:a.milliseconds=t):(s=Ir.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:A(s[qt])*n,h:A(s[Bt])*n,m:A(s[Wt])*n,s:A(s[Kt])*n,ms:A(ur(1e3*s[$t]))*n}):(s=kr.exec(t))?(n="-"===s[1]?-1:(s[1],1),a={y:Cr(s[2],n),M:Cr(s[3],n),w:Cr(s[4],n),d:Cr(s[5],n),h:Cr(s[6],n),m:Cr(s[7],n),s:Cr(s[8],n)}):null==a?a={}:"object"===("undefined"===typeof a?"undefined":i(a))&&("from"in a||"to"in a)&&(o=Or(Qn(a.from),Qn(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),r=new ar(a),sr(t)&&p(t,"_locale")&&(r._locale=t._locale),r}function Cr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Dr(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Or(t,e){var n;return t.isValid()&&e.isValid()?(e=fr(e,t),t.isBefore(e)?n=Dr(t,e):(n=Dr(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Nr(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(R(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"===typeof n?+n:n,i=Ar(n,r),xr(this,i,t),this}}function xr(t,e,n,r){var i=e._milliseconds,a=ur(e._days),s=ur(e._months);t.isValid()&&(r=null==r||r,s&&de(t,te(t,"Month")+s*n),a&&ee(t,"Date",te(t,"Date")+a*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&o.updateOffset(t,a||s))}Ar.fn=ar.prototype,Ar.invalid=or;var Rr=Nr(1,"add"),Mr=Nr(-1,"subtract");function Pr(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Lr(t,e){var n=t||Qn(),r=fr(n,this).startOf("day"),i=o.calendarFormat(this,r)||"sameElse",a=e&&(M(e[i])?e[i].call(this,n):e[i]);return this.format(a||this.localeData().calendar(i,this,Qn(n)))}function jr(){return new E(this)}function Fr(t,e){var n=I(t)?t:Qn(t);return!(!this.isValid()||!n.isValid())&&(e=J(h(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ur(t,e){var n=I(t)?t:Qn(t);return!(!this.isValid()||!n.isValid())&&(e=J(h(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Vr(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function qr(t,e){var n,r=I(t)?t:Qn(t);return!(!this.isValid()||!r.isValid())&&(e=J(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Br(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Wr(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Kr(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=fr(t,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=J(e),e){case"year":o=$r(this,r)/12;break;case"month":o=$r(this,r);break;case"quarter":o=$r(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:k(o)}function $r(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}function Hr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Gr(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?lt(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(Date.prototype.toISOString)?this.toDate().toISOString():lt(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function zr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+r+i+o)}function Qr(t){t||(t=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var e=lt(this,t);return this.localeData().postformat(e)}function Yr(t,e){return this.isValid()&&(I(t)&&t.isValid()||Qn(t).isValid())?Ar({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Xr(t){return this.from(Qn(),t)}function Jr(t,e){return this.isValid()&&(I(t)&&t.isValid()||Qn(t).isValid())?Ar({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Zr(t){return this.to(Qn(),t)}function ti(t){var e;return void 0===t?this._locale._abbr:(e=gn(t),null!=e&&(this._locale=e),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ei=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ni(){return this._locale}function ri(t){switch(t=J(t),t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ii(t){return t=J(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function oi(){return this._d.valueOf()-6e4*(this._offset||0)}function ai(){return Math.floor(this.valueOf()/1e3)}function si(){return new Date(this.valueOf())}function ui(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ci(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function hi(){return this.isValid()?this.toISOString():null}function li(){return b(this)}function fi(){return m({},g(this))}function di(){return g(this).overflow}function pi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function mi(t,e){ut(0,[t,t.length],0,e)}function yi(t){return wi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function vi(t){return wi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function gi(){return ke(this.year(),1,4)}function bi(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function wi(t,e,n,r,i){var o;return null==t?Ie(this,r,i).year:(o=ke(t,r,i),e>o&&(e=o),_i.call(this,t,e,n,r,i))}function _i(t,e,n,r,i){var o=Ee(t,e,n,r,i),a=Se(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Si(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}ut(0,["gg",2],0,function(){return this.weekYear()%100}),ut(0,["GG",2],0,function(){return this.isoWeekYear()%100}),mi("gggg","weekYear"),mi("ggggg","weekYear"),mi("GGGG","isoWeekYear"),mi("GGGGG","isoWeekYear"),X("weekYear","gg"),X("isoWeekYear","GG"),et("weekYear",1),et("isoWeekYear",1),Nt("G",It),Nt("g",It),Nt("GG",gt,pt),Nt("gg",gt,pt),Nt("GGGG",St,yt),Nt("gggg",St,yt),Nt("GGGGG",Tt,vt),Nt("ggggg",Tt,vt),jt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=A(t)}),jt(["gg","GG"],function(t,e,n,r){e[r]=o.parseTwoDigitYear(t)}),ut("Q",0,"Qo","quarter"),X("quarter","Q"),et("quarter",7),Nt("Q",dt),Lt("Q",function(t,e){e[Vt]=3*(A(t)-1)}),ut("D",["DD",2],"Do","date"),X("date","D"),et("date",9),Nt("D",gt),Nt("DD",gt,pt),Nt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Lt(["D","DD"],qt),Lt("Do",function(t,e){e[qt]=A(t.match(gt)[0],10)});var Ti=Zt("Date",!0);function Ei(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}ut("DDD",["DDDD",3],"DDDo","dayOfYear"),X("dayOfYear","DDD"),et("dayOfYear",4),Nt("DDD",_t),Nt("DDDD",mt),Lt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=A(t)}),ut("m",["mm",2],0,"minute"),X("minute","m"),et("minute",14),Nt("m",gt),Nt("mm",gt,pt),Lt(["m","mm"],Wt);var Ii=Zt("Minutes",!1);ut("s",["ss",2],0,"second"),X("second","s"),et("second",15),Nt("s",gt),Nt("ss",gt,pt),Lt(["s","ss"],Kt);var ki,Ai=Zt("Seconds",!1);for(ut("S",0,0,function(){return~~(this.millisecond()/100)}),ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ut(0,["SSS",3],0,"millisecond"),ut(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ut(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ut(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ut(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ut(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ut(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),X("millisecond","ms"),et("millisecond",16),Nt("S",_t,dt),Nt("SS",_t,pt),Nt("SSS",_t,mt),ki="SSSS";ki.length<=9;ki+="S")Nt(ki,Et);function Ci(t,e){e[$t]=A(1e3*("0."+t))}for(ki="S";ki.length<=9;ki+="S")Lt(ki,Ci);var Di=Zt("Milliseconds",!1);function Oi(){return this._isUTC?"UTC":""}function Ni(){return this._isUTC?"Coordinated Universal Time":""}ut("z",0,0,"zoneAbbr"),ut("zz",0,0,"zoneName");var xi=E.prototype;function Ri(t){return Qn(1e3*t)}function Mi(){return Qn.apply(null,arguments).parseZone()}function Pi(t){return t}xi.add=Rr,xi.calendar=Lr,xi.clone=jr,xi.diff=Kr,xi.endOf=ii,xi.format=Qr,xi.from=Yr,xi.fromNow=Xr,xi.to=Jr,xi.toNow=Zr,xi.get=ne,xi.invalidAt=di,xi.isAfter=Fr,xi.isBefore=Ur,xi.isBetween=Vr,xi.isSame=qr,xi.isSameOrAfter=Br,xi.isSameOrBefore=Wr,xi.isValid=li,xi.lang=ei,xi.locale=ti,xi.localeData=ni,xi.max=Xn,xi.min=Yn,xi.parsingFlags=fi,xi.set=re,xi.startOf=ri,xi.subtract=Mr,xi.toArray=ui,xi.toObject=ci,xi.toDate=si,xi.toISOString=Gr,xi.inspect=zr,xi.toJSON=hi,xi.toString=Hr,xi.unix=ai,xi.valueOf=oi,xi.creationData=pi,xi.year=Xt,xi.isLeapYear=Jt,xi.weekYear=yi,xi.isoWeekYear=vi,xi.quarter=xi.quarters=Si,xi.month=pe,xi.daysInMonth=me,xi.week=xi.weeks=Ne,xi.isoWeek=xi.isoWeeks=xe,xi.weeksInYear=bi,xi.isoWeeksInYear=gi,xi.date=Ti,xi.day=xi.days=We,xi.weekday=Ke,xi.isoWeekday=$e,xi.dayOfYear=Ei,xi.hour=xi.hours=un,xi.minute=xi.minutes=Ii,xi.second=xi.seconds=Ai,xi.millisecond=xi.milliseconds=Di,xi.utcOffset=pr,xi.utc=yr,xi.local=vr,xi.parseZone=gr,xi.hasAlignedHourOffset=br,xi.isDST=wr,xi.isLocal=Sr,xi.isUtcOffset=Tr,xi.isUtc=Er,xi.isUTC=Er,xi.zoneAbbr=Oi,xi.zoneName=Ni,xi.dates=O("dates accessor is deprecated. Use date instead.",Ti),xi.months=O("months accessor is deprecated. Use month instead",pe),xi.years=O("years accessor is deprecated. Use year instead",Xt),xi.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),xi.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var Li=j.prototype;function ji(t,e,n,r){var i=gn(),o=y().set(r,e);return i[n](o,t)}function Fi(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return ji(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ji(t,r,n,"month");return i}function Ui(t,e,n,r){"boolean"===typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var i,o=gn(),a=t?o._week.dow:0;if(null!=n)return ji(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=ji(e,(i+a)%7,r,"day");return s}function Vi(t,e){return Fi(t,e,"months")}function qi(t,e){return Fi(t,e,"monthsShort")}function Bi(t,e,n){return Ui(t,e,n,"weekdays")}function Wi(t,e,n){return Ui(t,e,n,"weekdaysShort")}function Ki(t,e,n){return Ui(t,e,n,"weekdaysMin")}Li.calendar=U,Li.longDateFormat=q,Li.invalidDate=W,Li.ordinal=H,Li.preparse=Pi,Li.postformat=Pi,Li.relativeTime=z,Li.pastFuture=Q,Li.set=P,Li.months=ue,Li.monthsShort=he,Li.monthsParse=fe,Li.monthsRegex=be,Li.monthsShortRegex=ve,Li.week=Ae,Li.firstDayOfYear=Oe,Li.firstDayOfWeek=De,Li.weekdays=Le,Li.weekdaysMin=Ve,Li.weekdaysShort=Fe,Li.weekdaysParse=Be,Li.weekdaysRegex=Ge,Li.weekdaysShortRegex=Qe,Li.weekdaysMinRegex=Xe,Li.isPM=rn,Li.meridiem=an,mn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===A(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),o.lang=O("moment.lang is deprecated. Use moment.locale instead.",mn),o.langData=O("moment.langData is deprecated. Use moment.localeData instead.",gn);var $i=Math.abs;function Hi(){var t=this._data;return this._milliseconds=$i(this._milliseconds),this._days=$i(this._days),this._months=$i(this._months),t.milliseconds=$i(t.milliseconds),t.seconds=$i(t.seconds),t.minutes=$i(t.minutes),t.hours=$i(t.hours),t.months=$i(t.months),t.years=$i(t.years),this}function Gi(t,e,n,r){var i=Ar(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function zi(t,e){return Gi(this,t,e,1)}function Qi(t,e){return Gi(this,t,e,-1)}function Yi(t){return t<0?Math.floor(t):Math.ceil(t)}function Xi(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Yi(Zi(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=k(o/1e3),u.seconds=t%60,e=k(t/60),u.minutes=e%60,n=k(e/60),u.hours=n%24,a+=k(n/24),i=k(Ji(a)),s+=i,a-=Yi(Zi(i)),r=k(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Ji(t){return 4800*t/146097}function Zi(t){return 146097*t/4800}function to(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=J(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+Ji(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Zi(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function eo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12):NaN}function no(t){return function(){return this.as(t)}}var ro=no("ms"),io=no("s"),oo=no("m"),ao=no("h"),so=no("d"),uo=no("w"),co=no("M"),ho=no("y");function lo(){return Ar(this)}function fo(t){return t=J(t),this.isValid()?this[t+"s"]():NaN}function po(t){return function(){return this.isValid()?this._data[t]:NaN}}var mo=po("milliseconds"),yo=po("seconds"),vo=po("minutes"),go=po("hours"),bo=po("days"),wo=po("months"),_o=po("years");function So(){return k(this.days()/7)}var To=Math.round,Eo={ss:44,s:45,m:45,h:22,d:26,M:11};function Io(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function ko(t,e,n){var r=Ar(t).abs(),i=To(r.as("s")),o=To(r.as("m")),a=To(r.as("h")),s=To(r.as("d")),u=To(r.as("M")),c=To(r.as("y")),h=i<=Eo.ss&&["s",i]||i<Eo.s&&["ss",i]||o<=1&&["m"]||o<Eo.m&&["mm",o]||a<=1&&["h"]||a<Eo.h&&["hh",a]||s<=1&&["d"]||s<Eo.d&&["dd",s]||u<=1&&["M"]||u<Eo.M&&["MM",u]||c<=1&&["y"]||["yy",c];return h[2]=e,h[3]=+t>0,h[4]=n,Io.apply(null,h)}function Ao(t){return void 0===t?To:"function"===typeof t&&(To=t,!0)}function Co(t,e){return void 0!==Eo[t]&&(void 0===e?Eo[t]:(Eo[t]=e,"s"===t&&(Eo.ss=e-1),!0))}function Do(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=ko(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}var Oo=Math.abs;function No(t){return(t>0)-(t<0)||+t}function xo(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r=Oo(this._milliseconds)/1e3,i=Oo(this._days),o=Oo(this._months);t=k(r/60),e=k(t/60),r%=60,t%=60,n=k(o/12),o%=12;var a=n,s=o,u=i,c=e,h=t,l=r?r.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",p=No(this._months)!==No(f)?"-":"",m=No(this._days)!==No(f)?"-":"",y=No(this._milliseconds)!==No(f)?"-":"";return d+"P"+(a?p+a+"Y":"")+(s?p+s+"M":"")+(u?m+u+"D":"")+(c||h||l?"T":"")+(c?y+c+"H":"")+(h?y+h+"M":"")+(l?y+l+"S":"")}var Ro=ar.prototype;return Ro.isValid=ir,Ro.abs=Hi,Ro.add=zi,Ro.subtract=Qi,Ro.as=to,Ro.asMilliseconds=ro,Ro.asSeconds=io,Ro.asMinutes=oo,Ro.asHours=ao,Ro.asDays=so,Ro.asWeeks=uo,Ro.asMonths=co,Ro.asYears=ho,Ro.valueOf=eo,Ro._bubble=Xi,Ro.clone=lo,Ro.get=fo,Ro.milliseconds=mo,Ro.seconds=yo,Ro.minutes=vo,Ro.hours=go,Ro.days=bo,Ro.weeks=So,Ro.months=wo,Ro.years=_o,Ro.humanize=Do,Ro.toISOString=xo,Ro.toString=xo,Ro.toJSON=xo,Ro.locale=ti,Ro.localeData=ni,Ro.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xo),Ro.lang=ei,ut("X",0,0,"unix"),ut("x",0,0,"valueOf"),Nt("x",It),Nt("X",Ct),Lt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Lt("x",function(t,e,n){n._d=new Date(A(t))}),o.version="2.19.1",a(Qn),o.fn=xi,o.min=Zn,o.max=tr,o.now=er,o.utc=y,o.unix=Ri,o.months=Vi,o.isDate=f,o.locale=mn,o.invalid=w,o.duration=Ar,o.isMoment=I,o.weekdays=Bi,o.parseZone=Mi,o.localeData=gn,o.isDuration=sr,o.monthsShort=qi,o.weekdaysMin=Ki,o.defineLocale=yn,o.updateLocale=vn,o.locales=bn,o.weekdaysShort=Wi,o.normalizeUnits=J,o.relativeTimeRounding=Ao,o.relativeTimeThreshold=Co,o.calendarFormat=Pr,o.prototype=xi,o})}),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var u={install:function(t,e){var n=e&&e.moment?e.moment:o;Object.defineProperties(t.prototype,{$moment:{get:function(){return n}}}),t.moment=n,t.filter("moment",function(){for(var t=arguments,e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=t[i];r=Array.prototype.slice.call(r);var o=r.shift(),s=void 0;if(s=Array.isArray(o)&&"string"===typeof o[0]?n(o[0],o[1],!0):"number"===typeof o&&o.toString().length<12?n.unix(o):n(o),!o||!s.isValid())return console.warn("Could not build a valid `moment` object from input."),o;function u(){for(var t=arguments,e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=t[i];r=Array.prototype.slice.call(r);var o=r.shift();switch(o){case"add":for(var c=r.shift().split(",").map(Function.prototype.call,String.prototype.trim),h={},l=0;l<c.length;l++){var f=c[l].split(" ");h[f[1]]=f[0]}s.add(h);break;case"subtract":for(var d=r.shift().split(",").map(Function.prototype.call,String.prototype.trim),p={},m=0;m<d.length;m++){var y=d[m].split(" ");p[y[1]]=y[0]}s.subtract(p);break;case"from":var v="now",g=!1;"now"===r[0]&&r.shift(),n(r[0]).isValid()&&(v=n(r.shift())),!0===r[0]&&(r.shift(),g=!0),s="now"!==v?s.from(v,g):s.fromNow(g);break;case"diff":var b=n(),w="",_=!1;n(r[0]).isValid()?b=n(r.shift()):null!==r[0]&&"now"!==r[0]||r.shift(),r[0]&&(w=r.shift()),!0===r[0]&&(_=r.shift()),s=s.diff(b,w,_);break;case"calendar":var S=n(),T={};n(r[0]).isValid()?S=n(r.shift()):null!==r[0]&&"now"!==r[0]||r.shift(),"object"===a(r[0])&&(T=r.shift()),s=s.calendar(S,T);break;case"utc":s.utc();break;case"timezone":s.tz(r.shift());break;default:var E=o;s=s.format(E)}r.length&&u.apply(u,r)}return u.apply(u,r),s}),t.filter("duration",function(){for(var t=arguments,e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=t[i];r=Array.prototype.slice.call(r);var o=r.shift(),a=r.shift();function u(t){Array.isArray(t)||(t=[t]);var e=n.duration.apply(n,s(t));return e.isValid()||console.warn("Could not build a valid `duration` object from input."),e}var c=u(o);if("add"===a||"subtract"===a){var h=u(r);c[a](h)}else if(c&&c[a]){var l;c=(l=c)[a].apply(l,s(r))}return c})}},c=u.install;e["default"]=u,e.install=c,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,n("c8ba"))},"2f62":function(t,e,n){"use strict";
/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){i.emit("vuex:mutation",t,e)}))}function a(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function s(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}var c=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},c.prototype.addChild=function(t,e){this._children[t]=e},c.prototype.removeChild=function(t){delete this._children[t]},c.prototype.getChild=function(t){return this._children[t]},c.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},c.prototype.forEachChild=function(t){a(this._children,t)},c.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},c.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},c.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(c.prototype,h);var l=function(t){this.register([],t,!1)};function f(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;f(t.concat(r),e.getChild(r),n.modules[r])}}l.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},l.prototype.update=function(t){f([],this.root,t)},l.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new c(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&a(e.modules,function(e,i){r.register(t.concat(i),e,n)})},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var d;var p=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!==typeof window&&window.Vue&&C(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d;var i=this,a=this,s=a.dispatch,u=a.commit;this.dispatch=function(t,e){return s.call(i,t,e)},this.commit=function(t,e,n){return u.call(i,t,e,n)},this.strict=r;var c=this._modules.root.state;b(this,c,[],this._modules.root),g(this,c),n.forEach(function(t){return t(e)});var h=void 0!==t.devtools?t.devtools:d.config.devtools;h&&o(this)},m={state:{configurable:!0}};function y(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function v(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;b(t,n,[],t._modules.root,!0),g(t,n,e)}function g(t,e,n){var r=t._vm;t.getters={};var i=t._wrappedGetters,o={};a(i,function(e,n){o[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:o}),d.config.silent=s,t.strict&&I(t),r&&(n&&t._withCommit(function(){r._data.$$state=null}),d.nextTick(function(){return r.$destroy()}))}function b(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a]=r),!o&&!i){var s=k(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){d.set(s,u,r.state)})}var c=r.context=w(t,a,n);r.forEachMutation(function(e,n){var r=a+n;S(t,r,e,c)}),r.forEachAction(function(e,n){var r=e.root?n:a+n,i=e.handler||e;T(t,r,i,c)}),r.forEachGetter(function(e,n){var r=a+n;E(t,r,e,c)}),r.forEachChild(function(r,o){b(t,e,n.concat(o),r,i)})}function w(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=A(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=A(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return _(t,e)}},state:{get:function(){return k(t.state,n)}}}),i}function _(t,e){var n={},r=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),n}function S(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(e){n.call(t,r.state,e)})}function T(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(e,i){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e,i);return u(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}function E(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function I(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}function k(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function A(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function C(t){d&&t===d||(d=t,r(d))}m.state.get=function(){return this._vm._data.$$state},m.state.set=function(t){0},p.prototype.commit=function(t,e,n){var r=this,i=A(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,r.state)}))},p.prototype.dispatch=function(t,e){var n=this,r=A(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(a,n.state)})}catch(c){0}var u=s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o);return u.then(function(t){try{n._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(a,n.state)})}catch(c){0}return t})}},p.prototype.subscribe=function(t){return y(t,this._subscribers)},p.prototype.subscribeAction=function(t){var e="function"===typeof t?{before:t}:t;return y(e,this._actionSubscribers)},p.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch(function(){return t(r.state,r.getters)},e,n)},p.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},p.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),b(this,this.state,t,this._modules.get(t),n.preserveState),g(this,this.state)},p.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=k(e.state,t.slice(0,-1));d.delete(n,t[t.length-1])}),v(this)},p.prototype.hotUpdate=function(t){this._modules.update(t),v(this,!0)},p.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(p.prototype,m);var D=P(function(t,e){var n={};return M(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=L(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0}),n}),O=P(function(t,e){var n={};return M(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=L(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}}),n}),N=P(function(t,e){var n={};return M(e).forEach(function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||L(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0}),n}),x=P(function(t,e){var n={};return M(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=L(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}}),n}),R=function(t){return{mapState:D.bind(null,t),mapGetters:N.bind(null,t),mapMutations:O.bind(null,t),mapActions:x.bind(null,t)}};function M(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function P(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function L(t,e,n){var r=t._modulesNamespaceMap[n];return r}var j={Store:p,install:C,version:"3.1.0",mapState:D,mapMutations:O,mapGetters:N,mapActions:x,createNamespacedHelpers:R};e["a"]=j},"2fde":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},3358:function(t,e,n){var r=n("669d"),i=n("a313"),o=n("8d98")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},"33a4":function(t,e,n){var r=n("84f2"),i=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},"34f6":function(t,e,n){n("b3a3"),t.exports=n("02eb").Array.find},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"3b03":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},"3b2a":function(t,e,n){var r=n("53ff")("meta"),i=n("669d"),o=n("8343"),a=n("cad0").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("eb5a")(function(){return u(Object.preventExtensions({}))}),h=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[r].w},d=function(t){return c&&p.NEED&&u(t)&&!o(t,r)&&h(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:f,onFreeze:d}},"3df3":function(t,e,n){var r=n("669d"),i=n("8187"),o=n("8d98")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},4045:function(t,e,n){var r=n("8187"),i=n("8d98")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},"42d9":function(t,e){t.exports={}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"45ba":function(t,e,n){var r=n("cad0"),i=n("5051"),o=n("f40b");t.exports=n("948a")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),s=a.length,u=0;while(s>u)r.f(t,n=a[u++],e[n]);return t}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4a59":function(t,e,n){var r=n("9b43"),i=n("1fa8"),o=n("33a4"),a=n("cb7c"),s=n("9def"),u=n("27ee"),c={},h={};e=t.exports=function(t,e,n,l,f){var d,p,m,y,v=f?function(){return t}:u(t),g=r(n,l,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if(y=e?g(a(p=t[b])[0],p[1]):g(t[b]),y===c||y===h)return y}else for(m=v.call(t);!(p=m.next()).done;)if(y=i(m,g,p.value,e),y===c||y===h)return y};e.BREAK=c,e.RETURN=h},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4c35":function(t,e,n){var r=n("aad8"),i=n("1982"),o=n("8343"),a=n("53ff")("src"),s="toString",u=Function[s],c=(""+u).split(s);n("02eb").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},"4c63":function(t,e,n){n("153c"),t.exports=n("02eb").Object.assign},"4ddf":function(t,e,n){"use strict";var r=n("f0be"),i=n("235a"),o=n("4c35"),a=n("1982"),s=n("42d9"),u=n("2622"),c=n("03ed"),h=n("6b91"),l=n("8d98")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",y=function(){return this};t.exports=function(t,e,n,v,g,b,w){u(n,e,v);var _,S,T,E=function(t){if(!f&&t in C)return C[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},I=e+" Iterator",k=g==m,A=!1,C=t.prototype,D=C[l]||C[d]||g&&C[g],O=D||E(g),N=g?k?E("entries"):O:void 0,x="Array"==e&&C.entries||D;if(x&&(T=h(x.call(new t)),T!==Object.prototype&&T.next&&(c(T,I,!0),r||"function"==typeof T[l]||a(T,l,y))),k&&D&&D.name!==m&&(A=!0,O=function(){return D.call(this)}),r&&!w||!f&&!A&&C[l]||a(C,l,O),s[e]=O,s[I]=y,g)if(_={values:k?O:E(m),keys:b?O:E(p),entries:N},w)for(S in _)S in C||o(C,S,_[S]);else i(i.P+i.F*(f||A),e,_);return _}},5051:function(t,e,n){var r=n("669d");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"50e6":function(t,e){e.f={}.propertyIsEnumerable},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"52fe":function(t,e){(function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};h.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},h.prototype["delete"]=function(t){delete this.map[s(t)]},h.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},h.prototype.set=function(t,e){this.map[s(t)]=u(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},h.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];S.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},t.Headers=h,t.Request=b,t.Response=S,t.fetch=function(t,n){return new Promise(function(r,i){var o=new b(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;r(new S(e,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function h(t){this.map={},t instanceof h?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}function m(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}function b(t,e){e=e||{};var n=e.body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=g(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function _(t){var e=new h,n=t.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function S(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}})("undefined"!==typeof self?self:this)},"53c9":function(t,e,n){"use strict";var r=n("74d1"),i=n("3b03"),o=n("42d9"),a=n("ad20");t.exports=n("4ddf")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"53ff":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"54f1":function(t,e,n){n("e9df"),t.exports=n("02eb").Array.findIndex},"551c":function(t,e,n){"use strict";var r,i,o,a,s=n("2d00"),u=n("7726"),c=n("9b43"),h=n("23c6"),l=n("5ca1"),f=n("d3f4"),d=n("d8e8"),p=n("f605"),m=n("4a59"),y=n("ebd6"),v=n("1991").set,g=n("8079")(),b=n("a5b8"),w=n("9c80"),_=n("a25f"),S=n("bcaa"),T="Promise",E=u.TypeError,I=u.process,k=I&&I.versions,A=k&&k.v8||"",C=u[T],D="process"==h(I),O=function(){},N=i=b.f,x=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(O,O)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==A.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(r){}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(h&&h.enter(),n=s(r),h&&(h.exit(),a=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=R(n))?o.call(n,u,c):u(n)):c(r)}catch(l){h&&!a&&h.exit(),c(l)}};while(n.length>o)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){v.call(u,function(){var e,n,r,i=t._v,o=L(t);if(o&&(e=w(function(){D?I.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=D||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){v.call(u,function(){var e;D?I.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=R(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(U,r,1),c(F,r,1))}catch(i){F.call(r,i)}}):(n._v=t,n._s=1,M(n,!1))}catch(r){F.call({_w:n,_d:!1},r)}}};x||(C=function(t){p(this,C,T,"_h"),d(t),r.call(this);try{t(c(U,this,1),c(F,this,1))}catch(e){F.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(C.prototype,{then:function(t,e){var n=N(y(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=D?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(U,t,1),this.reject=c(F,t,1)},b.f=N=function(t){return t===C||t===a?new o(t):i(t)}),l(l.G+l.W+l.F*!x,{Promise:C}),n("7f20")(C,T),n("7a56")(T),a=n("8378")[T],l(l.S+l.F*!x,T,{reject:function(t){var e=N(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(s||!x),T,{resolve:function(t){return S(s&&this===a?C:this,t)}}),l(l.S+l.F*!(x&&n("5cc5")(function(t){C.all(t)["catch"](O)})),T,{all:function(t){var e=this,n=N(e),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=N(e),r=n.reject,i=w(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"56a9":function(t,e,n){var r=n("b10d"),i=n("f28b");t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},"584a":function(t,e){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},"59ca":function(t,e,n){"use strict";function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}n("95c6");var i=r(n("c23d"));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.exports=i},"5be3":function(t,e,n){n("2813"),t.exports=n("02eb").String.startsWith},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),u="prototype",c=function(t,e,n){var h,l,f,d,p=t&c.F,m=t&c.G,y=t&c.S,v=t&c.P,g=t&c.B,b=m?r:y?r[e]||(r[e]={}):(r[e]||{})[u],w=m?i:i[e]||(i[e]={}),_=w[u]||(w[u]={});for(h in m&&(n=e),n)l=!p&&b&&void 0!==b[h],f=(l?b:n)[h],d=g&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,b&&a(b,h,f,t&c.U),w[h]!=f&&o(w,h,d),v&&_[h]!=f&&(_[h]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(a){}return n}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6619:function(t,e,n){n("bb4d")("observable")},"669d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6b91":function(t,e,n){var r=n("8343"),i=n("8ffe"),o=n("89fc")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"6ca5":function(t,e,n){var r=n("50e6"),i=n("c46b"),o=n("ad20"),a=n("2223"),s=n("8343"),u=n("ab4f"),c=Object.getOwnPropertyDescriptor;e.f=n("948a")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},"6ff2":function(t,e,n){var r=n("ad20"),i=n("7346"),o=n("8cf7");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),h=o(a,c);if(t&&n!=n){while(c>h)if(s=u[h++],s!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},7333:function(t,e,n){"use strict";var r=n("0d58"),i=n("2621"),o=n("52a7"),a=n("4bf8"),s=n("626a"),u=Object.assign;t.exports=!u||n("79e5")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=a(t),u=arguments.length,c=1,h=i.f,l=o.f;while(u>c){var f,d=s(arguments[c++]),p=h?r(d).concat(h(d)):r(d),m=p.length,y=0;while(m>y)l.call(d,f=p[y++])&&(n[f]=d[f])}return n}:u},7346:function(t,e,n){var r=n("b10d"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"74d1":function(t,e,n){var r=n("8d98")("unscopables"),i=Array.prototype;void 0==i[r]&&n("1982")(i,r,{}),t.exports=function(t){i[r][t]=!0}},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"78a3":function(t,e,n){e.f=n("8d98")},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},"7b3a":function(t,e,n){var r=n("aad8"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},"7e54":function(t,e,n){var r=n("3df3"),i=n("f28b");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8079:function(t,e,n){var r=n("7726"),i=n("1991").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n("2d95")(a);t.exports=function(){var t,e,n,c=function(){var r,i;u&&(r=a.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var h=s.resolve(void 0);n=function(){h.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},8115:function(t,e,n){"use strict";var r=n("b10d"),i=n("f28b");t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},8187:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},8343:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},8378:function(t,e){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"89fc":function(t,e,n){var r=n("7b3a")("keys"),i=n("53ff");t.exports=function(t){return r[t]||(r[t]=i(t))}},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function r(t,e){0}function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function o(t,e){for(var n in e)t[n]=e[n];return t}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,a=e.data;a.routerView=!0;var u=i.$createElement,c=n.name,h=i.$route,l=i._routerViewCache||(i._routerViewCache={}),f=0,d=!1;while(i&&i._routerRoot!==i)i.$vnode&&i.$vnode.data.routerView&&f++,i._inactive&&(d=!0),i=i.$parent;if(a.routerViewDepth=f,d)return u(l[c],a,r);var p=h.matched[f];if(!p)return l[c]=null,u();var m=l[c]=p.components[c];a.registerRouteInstance=function(t,e){var n=p.instances[c];(e&&n!==t||!e&&n===t)&&(p.instances[c]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){p.instances[c]=e.componentInstance};var y=a.props=s(h,p.props&&p.props[c]);if(y){y=a.props=o({},y);var v=a.attrs=a.attrs||{};for(var g in y)m.props&&g in m.props||(v[g]=y[g],delete y[g])}return u(m,a,r)}};function s(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var u=/[!'()*]/g,c=function(t){return"%"+t.charCodeAt(0).toString(16)},h=/%2C/g,l=function(t){return encodeURIComponent(t).replace(u,c).replace(h,",")},f=decodeURIComponent;function d(t,e,n){void 0===e&&(e={});var r,i=n||p;try{r=i(t||"")}catch(a){r={}}for(var o in e)r[o]=e[o];return r}function p(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=f(n.shift()),i=n.length>0?f(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]}),e):e}function m(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return l(e);if(Array.isArray(n)){var r=[];return n.forEach(function(t){void 0!==t&&(null===t?r.push(l(e)):r.push(l(e)+"="+l(t)))}),r.join("&")}return l(e)+"="+l(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var y=/\/?$/;function v(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=g(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:_(e,i),matched:t?w(t):[]};return n&&(a.redirectedFrom=_(n,i)),Object.freeze(a)}function g(t){if(Array.isArray(t))return t.map(g);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=g(t[n]);return e}return t}var b=v(null,{path:"/"});function w(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function _(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||m;return(n||"/")+o(r)+i}function S(t,e){return e===b?t===e:!!e&&(t.path&&e.path?t.path.replace(y,"")===e.path.replace(y,"")&&t.hash===e.hash&&T(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&T(t.query,e.query)&&T(t.params,e.params)))}function T(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){var r=t[n],i=e[n];return"object"===typeof r&&"object"===typeof i?T(r,i):String(r)===String(i)})}function E(t,e){return 0===t.path.replace(y,"/").indexOf(e.path.replace(y,"/"))&&(!e.hash||t.hash===e.hash)&&I(t.query,e.query)}function I(t,e){for(var n in e)if(!(n in t))return!1;return!0}var k,A=[String,Object],C=[String,Array],D={name:"RouterLink",props:{to:{type:A,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:C,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),a=i.location,s=i.route,u=i.href,c={},h=n.options.linkActiveClass,l=n.options.linkExactActiveClass,f=null==h?"router-link-active":h,d=null==l?"router-link-exact-active":l,p=null==this.activeClass?f:this.activeClass,m=null==this.exactActiveClass?d:this.exactActiveClass,y=a.path?v(null,a,null,n):s;c[m]=S(r,y),c[p]=this.exact?c[m]:E(r,y);var g=function(t){O(t)&&(e.replace?n.replace(a):n.push(a))},b={click:O};Array.isArray(this.event)?this.event.forEach(function(t){b[t]=g}):b[this.event]=g;var w={class:c};if("a"===this.tag)w.on=b,w.attrs={href:u};else{var _=N(this.$slots.default);if(_){_.isStatic=!1;var T=_.data=o({},_.data);T.on=b;var I=_.data.attrs=o({},_.data.attrs);I.href=u}else w.on=b}return t(this.tag,w,this.$slots.default)}};function O(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function N(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=N(e.children)))return e}}function x(t){if(!x.installed||k!==t){x.installed=!0,k=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",a),t.component("RouterLink",D);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var R="undefined"!==typeof window;function M(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function P(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function L(t){return t.replace(/\/\//g,"/")}var j=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},F=rt,U=K,V=$,q=z,B=nt,W=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function K(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=W.exec(t))){var u=n[0],c=n[1],h=n.index;if(a+=t.slice(o,h),o=h+u.length,c)a+=c[1];else{var l=t[o],f=n[2],d=n[3],p=n[4],m=n[5],y=n[6],v=n[7];a&&(r.push(a),a="");var g=null!=f&&null!=l&&l!==f,b="+"===y||"*"===y,w="?"===y||"*"===y,_=n[2]||s,S=p||m;r.push({name:d||i++,prefix:f||"",delimiter:_,optional:w,repeat:b,partial:g,asterisk:!!v,pattern:S?Y(S):v?".*":"[^"+Q(_)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function $(t,e){return z(K(t,e))}function H(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function G(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function z(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=n||{},a=r||{},s=a.pretty?H:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!==typeof c){var h,l=o[c.name];if(null==l){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(j(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<l.length;f++){if(h=s(l[f]),!e[u].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?G(l):s(l),!e[u].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');i+=c.prefix+h}}else i+=c}return i}}function Q(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Y(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function X(t,e){return t.keys=e,t}function J(t){return t.sensitive?"":"i"}function Z(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return X(t,e)}function tt(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(rt(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",J(n));return X(o,e)}function et(t,e,n){return nt(K(t,n),e,n)}function nt(t,e,n){j(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=Q(s);else{var u=Q(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",o+=c}}var h=Q(n.delimiter||"/"),l=o.slice(-h.length)===h;return r||(o=(l?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=i?"$":r&&l?"":"(?="+h+"|$)",X(new RegExp("^"+o,J(n)),e)}function rt(t,e,n){return j(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Z(t,e):j(t)?tt(t,e,n):et(t,e,n)}F.parse=U,F.compile=V,F.tokensToFunction=q,F.tokensToRegExp=B;var it=Object.create(null);function ot(t,e,n){try{var r=it[t]||(it[t]=F.compile(t));return r(e||{},{pretty:!0})}catch(i){return""}}function at(t,e,n,r){var i=e||[],o=n||Object.create(null),a=r||Object.create(null);t.forEach(function(t){st(i,o,a,t)});for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:o,nameMap:a}}function st(t,e,n,r,i,o){var a=r.path,s=r.name;var u=r.pathToRegexpOptions||{},c=ct(a,i,u.strict);"boolean"===typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var h={path:c,regex:ut(c,u),components:r.components||{default:r.component},instances:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(r){var i=o?L(o+"/"+r.path):void 0;st(t,e,n,r,h,i)}),void 0!==r.alias){var l=Array.isArray(r.alias)?r.alias:[r.alias];l.forEach(function(o){var a={path:o,children:r.children};st(t,e,n,a,i,h.path||"/")})}e[h.path]||(t.push(h.path),e[h.path]=h),s&&(n[s]||(n[s]=h))}function ut(t,e){var n=F(t,[],e);return n}function ct(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:L(e.path+"/"+t)}function ht(t,e,n,r){var i="string"===typeof t?{path:t}:t;if(i.name||i._normalized)return i;if(!i.path&&i.params&&e){i=o({},i),i._normalized=!0;var a=o(o({},e.params),i.params);if(e.name)i.name=e.name,i.params=a;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;i.path=ot(s,a,"path "+e.path)}else 0;return i}var u=P(i.path||""),c=e&&e.path||"/",h=u.path?M(u.path,c,n||i.append):c,l=d(u.query,i.query,r&&r.options.parseQuery),f=i.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:h,query:l,hash:f}}function lt(t,e){var n=at(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t){at(t,r,i,o)}function s(t,n,a){var s=ht(t,n,!1,e),u=s.name;if(u){var c=o[u];if(!c)return h(null,s);var l=c.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in s.params)&&l.indexOf(f)>-1&&(s.params[f]=n.params[f]);if(c)return s.path=ot(c.path,s.params,'named route "'+u+'"'),h(c,s,a)}else if(s.path){s.params={};for(var d=0;d<r.length;d++){var p=r[d],m=i[p];if(ft(m.regex,s.path,s.params))return h(m,s,a)}}return h(null,s)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(v(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return h(null,n);var a=i,u=a.name,c=a.path,l=n.query,f=n.hash,d=n.params;if(l=a.hasOwnProperty("query")?a.query:l,f=a.hasOwnProperty("hash")?a.hash:f,d=a.hasOwnProperty("params")?a.params:d,u){o[u];return s({_normalized:!0,name:u,query:l,hash:f,params:d},void 0,n)}if(c){var p=dt(c,t),m=ot(p,d,'redirect route with path "'+p+'"');return s({_normalized:!0,path:m,query:l,hash:f},void 0,n)}return h(null,n)}function c(t,e,n){var r=ot(n,e.params,'aliased route with path "'+n+'"'),i=s({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,h(a,e)}return h(null,e)}function h(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?c(t,n,t.matchAs):v(t,n,r,e)}return{match:s,addRoutes:a}}function ft(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1],s="string"===typeof r[i]?decodeURIComponent(r[i]):r[i];a&&(n[a.name||"pathMatch"]=s)}return!0}function dt(t,e){return M(t,e.parent?e.parent.path:"/",!0)}var pt=Object.create(null);function mt(){window.history.replaceState({key:Dt()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(t){vt(),t.state&&t.state.key&&Ot(t.state.key)})}function yt(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var o=gt(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then(function(t){Et(t,o)}).catch(function(t){0}):Et(a,o))})}}function vt(){var t=Dt();t&&(pt[t]={x:window.pageXOffset,y:window.pageYOffset})}function gt(){var t=Dt();if(t)return pt[t]}function bt(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function wt(t){return Tt(t.x)||Tt(t.y)}function _t(t){return{x:Tt(t.x)?t.x:window.pageXOffset,y:Tt(t.y)?t.y:window.pageYOffset}}function St(t){return{x:Tt(t.x)?t.x:0,y:Tt(t.y)?t.y:0}}function Tt(t){return"number"===typeof t}function Et(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=St(i),e=bt(r,i)}else wt(t)&&(e=_t(t))}else n&&wt(t)&&(e=_t(t));e&&window.scrollTo(e.x,e.y)}var It=R&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),kt=R&&window.performance&&window.performance.now?window.performance:Date,At=Ct();function Ct(){return kt.now().toFixed(3)}function Dt(){return At}function Ot(t){At=t}function Nt(t,e){vt();var n=window.history;try{e?n.replaceState({key:At},"",t):(At=Ct(),n.pushState({key:At},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function xt(t){Nt(t,!0)}function Rt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],function(){r(i+1)}):r(i+1)};r(0)}function Mt(t){return function(e,n,r){var o=!1,a=0,s=null;Pt(t,function(t,e,n,u){if("function"===typeof t&&void 0===t.cid){o=!0,a++;var c,h=Ut(function(e){Ft(e)&&(e=e.default),t.resolved="function"===typeof e?e:k.extend(e),n.components[u]=e,a--,a<=0&&r()}),l=Ut(function(t){var e="Failed to resolve async component "+u+": "+t;s||(s=i(t)?t:new Error(e),r(s))});try{c=t(h,l)}catch(d){l(d)}if(c)if("function"===typeof c.then)c.then(h,l);else{var f=c.component;f&&"function"===typeof f.then&&f.then(h,l)}}}),o||r()}}function Pt(t,e){return Lt(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Lt(t){return Array.prototype.concat.apply([],t)}var jt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ft(t){return t.__esModule||jt&&"Module"===t[Symbol.toStringTag]}function Ut(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var Vt=function(t,e){this.router=t,this.base=qt(e),this.current=b,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function qt(t){if(!t)if(R){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function Bt(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function Wt(t,e,n,r){var i=Pt(t,function(t,r,i,o){var a=Kt(t,e);if(a)return Array.isArray(a)?a.map(function(t){return n(t,r,i,o)}):n(a,r,i,o)});return Lt(r?i.reverse():i)}function Kt(t,e){return"function"!==typeof t&&(t=k.extend(t)),t.options[e]}function $t(t){return Wt(t,"beforeRouteLeave",Gt,!0)}function Ht(t){return Wt(t,"beforeRouteUpdate",Gt)}function Gt(t,e){if(e)return function(){return t.apply(e,arguments)}}function zt(t,e,n){return Wt(t,"beforeRouteEnter",function(t,r,i,o){return Qt(t,i,o,e,n)})}function Qt(t,e,n,r,i){return function(o,a,s){return t(o,a,function(t){s(t),"function"===typeof t&&r.push(function(){Yt(t,e.instances,n,i)})})}}function Yt(t,e,n,r){e[n]&&!e[n]._isBeingDestroyed?t(e[n]):r()&&setTimeout(function(){Yt(t,e,n,r)},16)}Vt.prototype.listen=function(t){this.cb=t},Vt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Vt.prototype.onError=function(t){this.errorCbs.push(t)},Vt.prototype.transitionTo=function(t,e,n){var r=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(i)}))},function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)}))})},Vt.prototype.confirmTransition=function(t,e,n){var o=this,a=this.current,s=function(t){i(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(r(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)};if(S(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s();var u=Bt(this.current.matched,t.matched),c=u.updated,h=u.deactivated,l=u.activated,f=[].concat($t(h),this.router.beforeHooks,Ht(c),l.map(function(t){return t.beforeEnter}),Mt(l));this.pending=t;var d=function(e,n){if(o.pending!==t)return s();try{e(t,a,function(t){!1===t||i(t)?(o.ensureURL(!0),s(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(s(),"object"===typeof t&&t.replace?o.replace(t):o.push(t)):n(t)})}catch(r){s(r)}};Rt(f,d,function(){var n=[],r=function(){return o.current===t},i=zt(l,n,r),a=i.concat(o.router.resolveHooks);Rt(a,d,function(){if(o.pending!==t)return s();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},Vt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var Xt=function(t){function e(e,n){var r=this;t.call(this,e,n);var i=e.options.scrollBehavior,o=It&&i;o&&mt();var a=Jt(this.base);window.addEventListener("popstate",function(t){var n=r.current,i=Jt(r.base);r.current===b&&i===a||r.transitionTo(i,function(t){o&&yt(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){Nt(L(r.base+t.fullPath)),yt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){xt(L(r.base+t.fullPath)),yt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Jt(this.base)!==this.current.fullPath){var e=L(this.base+this.current.fullPath);t?Nt(e):xt(e)}},e.prototype.getCurrentLocation=function(){return Jt(this.base)},e}(Vt);function Jt(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Zt=function(t){function e(e,n,r){t.call(this,e,n),r&&te(this.base)||ee()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,n=e.options.scrollBehavior,r=It&&n;r&&mt(),window.addEventListener(It?"popstate":"hashchange",function(){var e=t.current;ee()&&t.transitionTo(ne(),function(n){r&&yt(t.router,n,e,!0),It||oe(n.fullPath)})})},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){ie(t.fullPath),yt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,function(t){oe(t.fullPath),yt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ne()!==e&&(t?ie(e):oe(e))},e.prototype.getCurrentLocation=function(){return ne()},e}(Vt);function te(t){var e=Jt(t);if(!/^\/#/.test(e))return window.location.replace(L(t+"/#"+e)),!0}function ee(){var t=ne();return"/"===t.charAt(0)||(oe("/"+t),!1)}function ne(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":decodeURI(t.slice(e+1))}function re(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ie(t){It?Nt(re(t)):window.location.hash=t}function oe(t){It?xt(re(t)):window.location.replace(re(t))}var ae=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){e.index=n,e.updateRoute(r)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Vt),se=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=lt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!It&&!1!==t.fallback,this.fallback&&(e="hash"),R||(e="abstract"),this.mode=e,e){case"history":this.history=new Xt(this,t.base);break;case"hash":this.history=new Zt(this,t.base,this.fallback);break;case"abstract":this.history=new ae(this,t.base);break;default:0}},ue={currentRoute:{configurable:!0}};function ce(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function he(t,e,n){var r="hash"===n?"#"+e:e;return t?L(t+"/"+r):r}se.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},ue.currentRoute.get=function(){return this.history&&this.history.current},se.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var n=this.history;if(n instanceof Xt)n.transitionTo(n.getCurrentLocation());else if(n instanceof Zt){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},se.prototype.beforeEach=function(t){return ce(this.beforeHooks,t)},se.prototype.beforeResolve=function(t){return ce(this.resolveHooks,t)},se.prototype.afterEach=function(t){return ce(this.afterHooks,t)},se.prototype.onReady=function(t,e){this.history.onReady(t,e)},se.prototype.onError=function(t){this.history.onError(t)},se.prototype.push=function(t,e,n){this.history.push(t,e,n)},se.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},se.prototype.go=function(t){this.history.go(t)},se.prototype.back=function(){this.go(-1)},se.prototype.forward=function(){this.go(1)},se.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},se.prototype.resolve=function(t,e,n){var r=ht(t,e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=he(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},se.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==b&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(se.prototype,ue),se.install=x,se.version="3.0.2",R&&window.Vue&&window.Vue.use(se),e["a"]=se},"8cf7":function(t,e,n){var r=n("b10d"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"8d98":function(t,e,n){var r=n("7b3a")("wks"),i=n("53ff"),o=n("aad8").Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},"8ffe":function(t,e,n){var r=n("f28b");t.exports=function(t){return Object(r(t))}},9129:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"948a":function(t,e,n){t.exports=!n("eb5a")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"95c6":function(t,e,n){"use strict";n.r(e);n("52fe"),n("a59c"),n("34f6"),n("54f1"),n("4c63"),n("5be3"),n("2629"),n("011f"),n("b665")},"96ff":function(t,e){e.f=Object.getOwnPropertySymbols},"998f":function(t,e,n){var r=n("e821"),i=n("1f50"),o=n("8ffe"),a=n("7346"),s=n("b25f");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,h=4==t,l=6==t,f=5==t||l,d=e||s;return function(e,s,p){for(var m,y,v=o(e),g=i(v),b=r(s,p,3),w=a(g.length),_=0,S=n?d(e,w):u?d(e,0):void 0;w>_;_++)if((f||_ in g)&&(m=g[_],y=b(m,_,v),t))if(n)S[_]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:S.push(m)}else if(h)return!1;return l?-1:c||h?h:S}}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a026:function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.0
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function h(t){return"[object Object]"===c.call(t)}function l(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var v=y("slot,component",!0),g=y("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function _(t,e){return w.call(t,e)}function S(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var T=/-(\w)/g,E=S(function(t){return t.replace(T,function(t,e){return e?e.toUpperCase():""})}),I=S(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),k=/\B([A-Z])/g,A=S(function(t){return t.replace(k,"-$1").toLowerCase()});function C(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function D(t,e){return t.bind(e)}var O=Function.prototype.bind?D:C;function N(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function x(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&x(e,t[n]);return e}function M(t,e,n){}var P=function(t,e,n){return!1},L=function(t){return t};function j(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function F(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return F(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(n){return F(t[n],e[n])})}catch(c){return!1}}function U(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function V(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var q="data-server-rendered",B=["component","directive","filter"],W=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],K={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:M,parsePlatformTagName:L,mustUseProp:P,async:!0,_lifecycleHooks:W},$="a-zA-Z·À-ÖØ-öø-ͽͿ-῿‌-‍‿-⁀⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�";function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var z=new RegExp("[^"+$+".$_\\d]");function Q(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Y,X="__proto__"in{},J="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,tt=Z&&WXEnvironment.platform.toLowerCase(),et=J&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),rt=et&&et.indexOf("msie 9.0")>0,it=et&&et.indexOf("edge/")>0,ot=(et&&et.indexOf("android"),et&&/iphone|ipad|ipod|ios/.test(et)||"ios"===tt),at=(et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et),{}.watch),st=!1;if(J)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,ut)}catch(Kc){}var ct=function(){return void 0===Y&&(Y=!J&&!Z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Y},ht=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"===typeof t&&/native code/.test(t.toString())}var ft,dt="undefined"!==typeof Symbol&&lt(Symbol)&&"undefined"!==typeof Reflect&&lt(Reflect.ownKeys);ft="undefined"!==typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=M,mt=0,yt=function(){this.id=mt++,this.subs=[]};yt.prototype.addSub=function(t){this.subs.push(t)},yt.prototype.removeSub=function(t){b(this.subs,t)},yt.prototype.depend=function(){yt.target&&yt.target.addDep(this)},yt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},yt.target=null;var vt=[];function gt(t){vt.push(t),yt.target=t}function bt(){vt.pop(),yt.target=vt[vt.length-1]}var wt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(wt.prototype,_t);var St=function(t){void 0===t&&(t="");var e=new wt;return e.text=t,e.isComment=!0,e};function Tt(t){return new wt(void 0,void 0,void 0,String(t))}function Et(t){var e=new wt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var It=Array.prototype,kt=Object.create(It),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach(function(t){var e=It[t];G(kt,t,function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o})});var Ct=Object.getOwnPropertyNames(kt),Dt=!0;function Ot(t){Dt=t}var Nt=function(t){this.value=t,this.dep=new yt,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t)?(X?xt(t,kt):Rt(t,kt,Ct),this.observeArray(t)):this.walk(t)};function xt(t,e){t.__proto__=e}function Rt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];G(t,o,e[o])}}function Mt(t,e){var n;if(u(t)&&!(t instanceof wt))return _(t,"__ob__")&&t.__ob__ instanceof Nt?n=t.__ob__:Dt&&!ct()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Nt(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,r,i){var o=new yt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&Mt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return yt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Ft(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&Mt(e),o.notify())}})}}function Lt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Pt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function jt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||_(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ft(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ft(e)}Nt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},Nt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Mt(t[e])};var Ut=K.optionMergeStrategies;function Vt(t,e){if(!e)return t;for(var n,r,i,o=dt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],_(t,n)?r!==i&&h(r)&&h(i)&&Vt(r,i):Lt(t,n,i));return t}function qt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?Vt(r,i):i}:e?t?function(){return Vt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Bt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Wt(n):n}function Wt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Kt(t,e,n,r){var i=Object.create(t||null);return e?x(i,e):i}Ut.data=function(t,e,n){return n?qt(t,e,n):e&&"function"!==typeof e?t:qt(t,e)},W.forEach(function(t){Ut[t]=Bt}),B.forEach(function(t){Ut[t+"s"]=Kt}),Ut.watch=function(t,e,n,r){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in x(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ut.props=Ut.methods=Ut.inject=Ut.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return x(i,t),e&&x(i,e),i},Ut.provide=qt;var $t=function(t,e){return void 0===e?t:e};function Ht(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=E(i),a[o]={type:null})}else if(h(n))for(var s in n)i=n[s],o=E(s),a[o]=h(i)?i:{type:i};else 0;t.props=a}}function Gt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(h(n))for(var o in n){var a=n[o];r[o]=h(a)?x({from:o},a):{from:a}}else 0}}function zt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Qt(t,e,n){if("function"===typeof e&&(e=e.options),Ht(e,n),Gt(e,n),zt(e),!e._base&&(e.extends&&(t=Qt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Qt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)_(t,o)||s(o);function s(r){var i=Ut[r]||$t;a[r]=i(t[r],e[r],n,r)}return a}function Yt(t,e,n,r){if("string"===typeof n){var i=t[e];if(_(i,n))return i[n];var o=E(n);if(_(i,o))return i[o];var a=I(o);if(_(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Xt(t,e,n,r){var i=e[t],o=!_(n,t),a=n[t],s=ee(Boolean,i.type);if(s>-1)if(o&&!_(i,"default"))a=!1;else if(""===a||a===A(t)){var u=ee(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Jt(r,i,t);var c=Dt;Ot(!0),Mt(a),Ot(c)}return a}function Jt(t,e,n){if(_(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Zt(e.type)?r.call(t):r}}function Zt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function te(t,e){return Zt(t)===Zt(e)}function ee(t,e){if(!Array.isArray(e))return te(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(te(e[n],t))return n;return-1}function ne(t,e,n){if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(Kc){ie(Kc,r,"errorCaptured hook")}}}ie(t,e,n)}function re(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),d(o)&&o.catch(function(t){return ne(t,r,i+" (Promise/async)")})}catch(Kc){ne(Kc,r,i)}return o}function ie(t,e,n){if(K.errorHandler)try{return K.errorHandler.call(null,t,e,n)}catch(Kc){oe(Kc,null,"config.errorHandler")}oe(t,e,n)}function oe(t,e,n){if(!J&&!Z||"undefined"===typeof console)throw t;console.error(t)}var ae,se=!1,ue=[],ce=!1;function he(){ce=!1;var t=ue.slice(0);ue.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&lt(Promise)){var le=Promise.resolve();ae=function(){le.then(he),ot&&setTimeout(M)},se=!0}else if(nt||"undefined"===typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&lt(setImmediate)?function(){setImmediate(he)}:function(){setTimeout(he,0)};else{var fe=1,de=new MutationObserver(he),pe=document.createTextNode(String(fe));de.observe(pe,{characterData:!0}),ae=function(){fe=(fe+1)%2,pe.data=String(fe)},se=!0}function me(t,e){var n;if(ue.push(function(){if(t)try{t.call(e)}catch(Kc){ne(Kc,e,"nextTick")}else n&&n(e)}),ce||(ce=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var ye=new ft;function ve(t){ge(t,ye),ye.clear()}function ge(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof wt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)ge(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)ge(t[r[n]],e)}}}var be,we=S(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});function _e(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return re(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)re(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function Se(t,e,n,i,a,s){var u,c,h,l;for(u in t)c=t[u],h=e[u],l=we(u),r(c)||(r(h)?(r(c.fns)&&(c=t[u]=_e(c,s)),o(l.once)&&(c=t[u]=a(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==h&&(h.fns=c,t[u]=h));for(u in e)r(t[u])&&(l=we(u),i(l.name,e[u],l.capture))}function Te(t,e,n){var a;t instanceof wt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),b(a.fns,u)}r(s)?a=_e([u]):i(s.fns)&&o(s.merged)?(a=s,a.fns.push(u)):a=_e([s,u]),a.merged=!0,t[e]=a}function Ee(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var h=A(c);Ie(a,u,c,h,!0)||Ie(a,s,c,h,!1)}return a}}function Ie(t,e,n,r,o){if(i(e)){if(_(e,n))return t[n]=e[n],o||delete e[n],!0;if(_(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function ke(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ae(t){return s(t)?[Tt(t)]:Array.isArray(t)?De(t):void 0}function Ce(t){return i(t)&&i(t.text)&&a(t.isComment)}function De(t,e){var n,a,u,c,h=[];for(n=0;n<t.length;n++)a=t[n],r(a)||"boolean"===typeof a||(u=h.length-1,c=h[u],Array.isArray(a)?a.length>0&&(a=De(a,(e||"")+"_"+n),Ce(a[0])&&Ce(c)&&(h[u]=Tt(c.text+a[0].text),a.shift()),h.push.apply(h,a)):s(a)?Ce(c)?h[u]=Tt(c.text+a):""!==a&&h.push(Tt(a)):Ce(a)&&Ce(c)?h[u]=Tt(c.text+a.text):(o(t._isVList)&&i(a.tag)&&r(a.key)&&i(e)&&(a.key="__vlist"+e+"_"+n+"__"),h.push(a)));return h}function Oe(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function Ne(t,e,n,r,i){var o=St();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function xe(t,e,n){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;if(o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(!i(t.contexts)){var a=t.contexts=[n],s=!0,c=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0)},h=V(function(n){t.resolved=Oe(n,e),s?a.length=0:c(!0)}),l=V(function(e){i(t.errorComp)&&(t.error=!0,c(!0))}),f=t(h,l);return u(f)&&(d(f)?r(t.resolved)&&f.then(h,l):d(f.component)&&(f.component.then(h,l),i(f.error)&&(t.errorComp=Oe(f.error,e)),i(f.loading)&&(t.loadingComp=Oe(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){r(t.resolved)&&r(t.error)&&(t.loading=!0,c(!1))},f.delay||200)),i(f.timeout)&&setTimeout(function(){r(t.resolved)&&l(null)},f.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}function Re(t){return t.isComment&&t.asyncFactory}function Me(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Re(n)))return n}}function Pe(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ue(t,e)}function Le(t,e){be.$on(t,e)}function je(t,e){be.$off(t,e)}function Fe(t,e){var n=be;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Ue(t,e,n){be=t,Se(e,n||{},Le,je,Fe,t),be=void 0}function Ve(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?N(n):n;for(var r=N(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)re(n[o],e,r,e,i)}return e}}function qe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Be)&&delete n[c];return n}function Be(t){return t.isComment&&!t.asyncFactory||" "===t.text}function We(t,e,n){n=n||{$stable:!e};for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?We(i,e,n):i&&(n[i.key]=i.fn)}return n}var Ke=null;function $e(t){var e=Ke;return Ke=t,function(){Ke=e}}function He(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ge(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=$e(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ze(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ze(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function ze(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=St),Ze(t,"beforeMount"),r=function(){t._update(t._render(),n)},new yn(t,r,M,{before:function(){t._isMounted&&!t._isDestroyed&&Ze(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ze(t,"mounted")),t}function Qe(t,e,r,i,o){var a=!!(i.data.scopedSlots&&!i.data.scopedSlots.$stable||t.$scopedSlots!==n&&!t.$scopedSlots.$stable),s=!!(o||t.$options._renderChildren||a);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Ot(!1);for(var u=t._props,c=t.$options._propKeys||[],h=0;h<c.length;h++){var l=c[h],f=t.$options.props;u[l]=Xt(l,f,e,t)}Ot(!0),t.$options.propsData=e}r=r||n;var d=t.$options._parentListeners;t.$options._parentListeners=r,Ue(t,r,d),s&&(t.$slots=qe(o,i.context),t.$forceUpdate())}function Ye(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Xe(t,e){if(e){if(t._directInactive=!1,Ye(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Xe(t.$children[n]);Ze(t,"activated")}}function Je(t,e){if((!e||(t._directInactive=!0,!Ye(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Je(t.$children[n]);Ze(t,"deactivated")}}function Ze(t,e){gt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)re(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),bt()}var tn=[],en=[],nn={},rn=!1,on=!1,an=0;function sn(){an=tn.length=en.length=0,nn={},rn=on=!1}var un=0,cn=Date.now;function hn(){var t,e;for(un=cn(),on=!0,tn.sort(function(t,e){return t.id-e.id}),an=0;an<tn.length;an++)t=tn[an],t.before&&t.before(),e=t.id,nn[e]=null,t.run();var n=en.slice(),r=tn.slice();sn(),dn(n),ln(r),ht&&K.devtools&&ht.emit("flush")}function ln(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ze(r,"updated")}}function fn(t){t._inactive=!1,en.push(t)}function dn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Xe(t[e],!0)}function pn(t){var e=t.id;if(null==nn[e]){if(nn[e]=!0,on){var n=tn.length-1;while(n>an&&tn[n].id>t.id)n--;tn.splice(n+1,0,t)}else tn.push(t);rn||(rn=!0,me(hn))}}J&&cn()>document.createEvent("Event").timeStamp&&(cn=function(){return performance.now()});var mn=0,yn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++mn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ft,this.newDepIds=new ft,this.expression="","function"===typeof e?this.getter=e:(this.getter=Q(e),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()};yn.prototype.get=function(){var t;gt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Kc){if(!this.user)throw Kc;ne(Kc,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ve(t),bt(),this.cleanupDeps()}return t},yn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},yn.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},yn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():pn(this)},yn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Kc){ne(Kc,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},yn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},yn.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},yn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var vn={enumerable:!0,configurable:!0,get:M,set:M};function gn(t,e,n){vn.get=function(){return this[e][n]},vn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,vn)}function bn(t){t._watchers=[];var e=t.$options;e.props&&wn(t,e.props),e.methods&&Cn(t,e.methods),e.data?_n(t):Mt(t._data={},!0),e.computed&&En(t,e.computed),e.watch&&e.watch!==at&&Dn(t,e.watch)}function wn(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Ot(!1);var a=function(o){i.push(o);var a=Xt(o,e,n,t);Pt(r,o,a),o in t||gn(t,"_props",o)};for(var s in e)a(s);Ot(!0)}function _n(t){var e=t.$options.data;e=t._data="function"===typeof e?Sn(e,t):e||{},h(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&_(r,o)||H(o)||gn(t,"_data",o)}Mt(e,!0)}function Sn(t,e){gt();try{return t.call(e,e)}catch(Kc){return ne(Kc,e,"data()"),{}}finally{bt()}}var Tn={lazy:!0};function En(t,e){var n=t._computedWatchers=Object.create(null),r=ct();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new yn(t,a||M,M,Tn)),i in t||In(t,i,o)}}function In(t,e,n){var r=!ct();"function"===typeof n?(vn.get=r?kn(e):An(n),vn.set=M):(vn.get=n.get?r&&!1!==n.cache?kn(e):An(n.get):M,vn.set=n.set||M),Object.defineProperty(t,e,vn)}function kn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),yt.target&&e.depend(),e.value}}function An(t){return function(){return t.call(this,this)}}function Cn(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?M:O(e[n],t)}function Dn(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)On(t,n,r[i]);else On(t,n,r)}}function On(t,e,n,r){return h(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Nn(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Lt,t.prototype.$delete=jt,t.prototype.$watch=function(t,e,n){var r=this;if(h(e))return On(r,t,e,n);n=n||{},n.user=!0;var i=new yn(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(o){ne(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}function xn(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Rn(t){var e=Mn(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach(function(n){Pt(t,n,e[n])}),Ot(!0))}function Mn(t,e){if(t){for(var n=Object.create(null),r=dt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&_(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function Pn(t,e){var n;if(t){if(t._normalized)return t;for(var r in n={},t)t[r]&&"$"!==r[0]&&(n[r]=Ln(t[r]))}else n={};for(var i in e)i in n||(n[i]=jn(e,i));return n._normalized=!0,n.$stable=!t||t.$stable,n}function Ln(t){return function(e){var n=t(e);return n&&"object"===typeof n&&!Array.isArray(n)?[n]:Ae(n)}}function jn(t,e){return function(){return t[e]}}function Fn(t,e){var n,r,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(dt&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),h=c.next();while(!h.done)n.push(e(h.value,n.length)),h=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],n[r]=e(t[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function Un(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=x(x({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Vn(t){return Yt(this.$options,"filters",t,!0)||L}function qn(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Bn(t,e,n,r,i){var o=K.keyCodes[e]||n;return i&&r&&!K.keyCodes[e]?qn(i,r):o?qn(o,t):r?A(r)!==e:void 0}function Wn(t,e,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=R(n));var a=function(a){if("class"===a||"style"===a||g(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||K.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=E(a);if(!(a in o)&&!(u in o)&&(o[a]=n[a],i)){var c=t.on||(t.on={});c["update:"+u]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function Kn(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Hn(r,"__static__"+t,!1),r)}function $n(t,e,n){return Hn(t,"__once__"+e+(n?"_"+n:""),!0),t}function Hn(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Gn(t[r],e+"_"+r,n);else Gn(t,e,n)}function Gn(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function zn(t,e){if(e)if(h(e)){var n=t.on=t.on?x({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Qn(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Yn(t,e){return"string"===typeof t?e+t:t}function Xn(t){t._o=$n,t._n=m,t._s=p,t._l=Fn,t._t=Un,t._q=F,t._i=U,t._m=Kn,t._f=Vn,t._k=Bn,t._b=Wn,t._v=Tt,t._e=St,t._u=We,t._g=zn,t._d=Qn,t._p=Yn}function Jn(t,e,r,i,a){var s,u=a.options;_(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var c=o(u._compiled),h=!c;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=Mn(u.inject,i),this.slots=function(){return qe(r,i)},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pn(t.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Pn(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var o=lr(s,t,e,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return lr(s,t,e,n,r,h)}}function Zn(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var h in c)u[h]=Xt(h,c,e||n);else i(r.attrs)&&er(u,r.attrs),i(r.props)&&er(u,r.props);var l=new Jn(r,u,a,o,t),f=s.render.call(null,l._c,l);if(f instanceof wt)return tr(f,r,l.parent,s,l);if(Array.isArray(f)){for(var d=Ae(f)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=tr(d[m],r,l.parent,s,l);return p}}function tr(t,e,n,r,i){var o=Et(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function er(t,e){for(var n in e)t[E(n)]=e[n]}Xn(Jn.prototype);var nr={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;nr.prepatch(n,n)}else{var r=t.componentInstance=or(t,Ke);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Qe(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Ze(n,"mounted")),t.data.keepAlive&&(e._isMounted?fn(n):Xe(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Je(e,!0):e.$destroy())}},rr=Object.keys(nr);function ir(t,e,n,a,s){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"===typeof t){var h;if(r(t.cid)&&(h=t,t=xe(h,c,n),void 0===t))return Ne(h,e,n,a,s);e=e||{},wr(t),i(e.model)&&ur(t.options,e);var l=Ee(e,t,s);if(o(t.options.functional))return Zn(t,l,e,n,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}ar(e);var p=t.options.name||s,m=new wt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:l,listeners:f,tag:s,children:a},h);return m}}}function or(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function ar(t){for(var e=t.hook||(t.hook={}),n=0;n<rr.length;n++){var r=rr[n],i=e[r],o=nr[r];i===o||i&&i._merged||(e[r]=i?sr(o,i):o)}}function sr(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function ur(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}var cr=1,hr=2;function lr(t,e,n,r,i,a){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(a)&&(i=hr),fr(t,e,n,r,i)}function fr(t,e,n,r,o){if(i(n)&&i(n.__ob__))return St();if(i(n)&&i(n.is)&&(e=n.is),!e)return St();var a,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===hr?r=Ae(r):o===cr&&(r=ke(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||K.getTagNamespace(e),a=K.isReservedTag(e)?new wt(K.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=Yt(t.$options,"components",e))?new wt(e,n,r,void 0,void 0,t):ir(u,n,t,r,e)):a=ir(e,n,t,r);return Array.isArray(a)?a:i(a)?(i(s)&&dr(a,s),i(n)&&pr(n),a):St()}function dr(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&dr(u,e,n)}}function pr(t){u(t.style)&&ve(t.style),u(t.class)&&ve(t.class)}function mr(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=qe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return lr(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return lr(t,e,n,r,i,!0)};var o=r&&r.data;Pt(t,"$attrs",o&&o.attrs||n,null,!0),Pt(t,"$listeners",e._parentListeners||n,null,!0)}function yr(t){Xn(t.prototype),t.prototype.$nextTick=function(t){return me(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=Pn(i.data.scopedSlots,e.$slots)),e.$vnode=i;try{t=r.call(e._renderProxy,e.$createElement)}catch(Kc){ne(Kc,e,"render"),t=e._vnode}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof wt||(t=St()),t.parent=i,t}}var vr=0;function gr(t){t.prototype._init=function(t){var e=this;e._uid=vr++,e._isVue=!0,t&&t._isComponent?br(e,t):e.$options=Qt(wr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,He(e),Pe(e),mr(e),Ze(e,"beforeCreate"),Rn(e),bn(e),xn(e),Ze(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function br(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function wr(t){var e=t.options;if(t.super){var n=wr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=_r(t);i&&x(t.extendOptions,i),e=t.options=Qt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function _r(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Sr(t){this._init(t)}function Tr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=N(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Er(t){t.mixin=function(t){return this.options=Qt(this.options,t),this}}function Ir(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Qt(n.options,t),a["super"]=n,a.options.props&&kr(a),a.options.computed&&Ar(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,B.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=x({},a.options),i[r]=a,a}}function kr(t){var e=t.options.props;for(var n in e)gn(t.prototype,"_props",n)}function Ar(t){var e=t.options.computed;for(var n in e)In(t.prototype,n,e[n])}function Cr(t){B.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&h(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Dr(t){return t&&(t.Ctor.options.name||t.tag)}function Or(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function Nr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Dr(a.componentOptions);s&&!e(s)&&xr(n,o,r,i)}}}function xr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,b(n,e)}gr(Sr),Nn(Sr),Ve(Sr),Ge(Sr),yr(Sr);var Rr=[String,RegExp,Array],Mr={name:"keep-alive",abstract:!0,props:{include:Rr,exclude:Rr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)xr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Nr(t,function(t){return Or(e,t)})}),this.$watch("exclude",function(e){Nr(t,function(t){return!Or(e,t)})})},render:function(){var t=this.$slots.default,e=Me(t),n=e&&e.componentOptions;if(n){var r=Dr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Or(o,r))||a&&r&&Or(a,r))return e;var s=this,u=s.cache,c=s.keys,h=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[h]?(e.componentInstance=u[h].componentInstance,b(c,h),c.push(h)):(u[h]=e,c.push(h),this.max&&c.length>parseInt(this.max)&&xr(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Pr={KeepAlive:Mr};function Lr(t){var e={get:function(){return K}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:x,mergeOptions:Qt,defineReactive:Pt},t.set=Lt,t.delete=jt,t.nextTick=me,t.observable=function(t){return Mt(t),t},t.options=Object.create(null),B.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,x(t.options.components,Pr),Tr(t),Er(t),Ir(t),Cr(t)}Lr(Sr),Object.defineProperty(Sr.prototype,"$isServer",{get:ct}),Object.defineProperty(Sr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sr,"FunctionalRenderContext",{value:Jn}),Sr.version="2.6.0";var jr=y("style,class"),Fr=y("input,textarea,option,select,progress"),Ur=function(t,e,n){return"value"===n&&Fr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Vr=y("contenteditable,draggable,spellcheck"),qr=y("events,caret,typing,plaintext-only"),Br=function(t,e){return Gr(e)||"false"===e?"false":"contenteditable"===t&&qr(e)?e:"true"},Wr=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Kr="http://www.w3.org/1999/xlink",$r=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Hr=function(t){return $r(t)?t.slice(6,t.length):""},Gr=function(t){return null==t||!1===t};function zr(t){var e=t.data,n=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Qr(r.data,e));while(i(n=n.parent))n&&n.data&&(e=Qr(e,n.data));return Yr(e.staticClass,e.class)}function Qr(t,e){return{staticClass:Xr(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Yr(t,e){return i(t)||i(e)?Xr(t,Jr(e)):""}function Xr(t,e){return t?e?t+" "+e:t:e||""}function Jr(t){return Array.isArray(t)?Zr(t):u(t)?ti(t):"string"===typeof t?t:""}function Zr(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Jr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ti(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ei={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ni=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ri=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ii=function(t){return"pre"===t},oi=function(t){return ni(t)||ri(t)};function ai(t){return ri(t)?"svg":"math"===t?"math":void 0}var si=Object.create(null);function ui(t){if(!J)return!0;if(oi(t))return!1;if(t=t.toLowerCase(),null!=si[t])return si[t];var e=document.createElement(t);return t.indexOf("-")>-1?si[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:si[t]=/HTMLUnknownElement/.test(e.toString())}var ci=y("text,number,password,search,email,tel,url");function hi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function li(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function fi(t,e){return document.createElementNS(ei[t],e)}function di(t){return document.createTextNode(t)}function pi(t){return document.createComment(t)}function mi(t,e,n){t.insertBefore(e,n)}function yi(t,e){t.removeChild(e)}function vi(t,e){t.appendChild(e)}function gi(t){return t.parentNode}function bi(t){return t.nextSibling}function wi(t){return t.tagName}function _i(t,e){t.textContent=e}function Si(t,e){t.setAttribute(e,"")}var Ti=Object.freeze({createElement:li,createElementNS:fi,createTextNode:di,createComment:pi,insertBefore:mi,removeChild:yi,appendChild:vi,parentNode:gi,nextSibling:bi,tagName:wi,setTextContent:_i,setStyleScope:Si}),Ei={create:function(t,e){Ii(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ii(t,!0),Ii(e))},destroy:function(t){Ii(t,!0)}};function Ii(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?b(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var ki=new wt("",{},[]),Ai=["create","activate","update","remove","destroy"];function Ci(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Di(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Di(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||ci(r)&&ci(o)}function Oi(t,e,n){var r,o,a={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(a[o]=r);return a}function Ni(t){var e,n,a={},u=t.modules,c=t.nodeOps;for(e=0;e<Ai.length;++e)for(a[Ai[e]]=[],n=0;n<u.length;++n)i(u[n][Ai[e]])&&a[Ai[e]].push(u[n][Ai[e]]);function h(t){return new wt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function l(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);i(e)&&c.removeChild(e,t)}function d(t,e,n,r,a,s,u){if(i(t.elm)&&i(s)&&(t=s[u]=Et(t)),t.isRootInsert=!a,!p(t,e,n,r)){var h=t.data,l=t.children,f=t.tag;i(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),S(t),b(t,l,e),i(h)&&_(t,e),g(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),g(n,t.elm,r)):(t.elm=c.createTextNode(t.text),g(n,t.elm,r))}}function p(t,e,n,r){var a=t.data;if(i(a)){var s=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return m(t,e),g(n,t.elm,r),o(s)&&v(t,e,n,r),!0}}function m(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(_(t,e),S(t)):(Ii(t),e.push(t))}function v(t,e,n,r){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](ki,s);e.push(s);break}g(n,t.elm,r)}function g(t,e,n){i(t)&&(i(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function _(t,n){for(var r=0;r<a.create.length;++r)a.create[r](ki,t);e=t.data.hook,i(e)&&(i(e.create)&&e.create(ki,t),i(e.insert)&&n.push(t))}function S(t){var e;if(i(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)i(e=n.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}i(e=Ke)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function T(t,e,n,r,i,o){for(;r<=i;++r)d(n[r],o,t,e,!1,n,r)}function E(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)E(t.children[n])}function I(t,e,n,r){for(;n<=r;++n){var o=e[n];i(o)&&(i(o.tag)?(k(o),E(o)):f(o.elm))}}function k(t,e){if(i(e)||i(t.data)){var n,r=a.remove.length+1;for(i(e)?e.listeners+=r:e=l(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&k(n,e),n=0;n<a.remove.length;++n)a.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else f(t.elm)}function A(t,e,n,o,a){var s,u,h,l,f=0,p=0,m=e.length-1,y=e[0],v=e[m],g=n.length-1,b=n[0],w=n[g],_=!a;while(f<=m&&p<=g)r(y)?y=e[++f]:r(v)?v=e[--m]:Ci(y,b)?(D(y,b,o,n,p),y=e[++f],b=n[++p]):Ci(v,w)?(D(v,w,o,n,g),v=e[--m],w=n[--g]):Ci(y,w)?(D(y,w,o,n,g),_&&c.insertBefore(t,y.elm,c.nextSibling(v.elm)),y=e[++f],w=n[--g]):Ci(v,b)?(D(v,b,o,n,p),_&&c.insertBefore(t,v.elm,y.elm),v=e[--m],b=n[++p]):(r(s)&&(s=Oi(e,f,m)),u=i(b.key)?s[b.key]:C(b,e,f,m),r(u)?d(b,o,t,y.elm,!1,n,p):(h=e[u],Ci(h,b)?(D(h,b,o,n,p),e[u]=void 0,_&&c.insertBefore(t,h.elm,y.elm)):d(b,o,t,y.elm,!1,n,p)),b=n[++p]);f>m?(l=r(n[g+1])?null:n[g+1].elm,T(t,l,n,p,g,o)):p>g&&I(t,e,f,m)}function C(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&Ci(t,a))return o}}function D(t,e,n,s,u,h){if(t!==e){i(e.elm)&&i(s)&&(e=s[u]=Et(e));var l=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?x(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;i(d)&&i(f=d.hook)&&i(f=f.prepatch)&&f(t,e);var p=t.children,m=e.children;if(i(d)&&w(e)){for(f=0;f<a.update.length;++f)a.update[f](t,e);i(f=d.hook)&&i(f=f.update)&&f(t,e)}r(e.text)?i(p)&&i(m)?p!==m&&A(l,p,m,n,h):i(m)?(i(t.text)&&c.setTextContent(l,""),T(l,null,m,0,m.length-1,n)):i(p)?I(l,p,0,p.length-1):i(t.text)&&c.setTextContent(l,""):t.text!==e.text&&c.setTextContent(l,e.text),i(d)&&i(f=d.hook)&&i(f=f.postpatch)&&f(t,e)}}}function O(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var N=y("attrs,class,staticClass,staticStyle,key");function x(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return m(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var h=!0,l=t.firstChild,f=0;f<c.length;f++){if(!l||!x(l,c[f],n,r)){h=!1;break}l=l.nextSibling}if(!h||l)return!1}else b(e,c,n);if(i(u)){var d=!1;for(var p in u)if(!N(p)){d=!0,_(e,n);break}!d&&u["class"]&&ve(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!r(e)){var u=!1,l=[];if(r(t))u=!0,d(e,l);else{var f=i(t.nodeType);if(!f&&Ci(t,e))D(t,e,l,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(q)&&(t.removeAttribute(q),n=!0),o(n)&&x(t,e,l))return O(e,l,!0),t;t=h(t)}var p=t.elm,m=c.parentNode(p);if(d(e,l,p._leaveCb?null:m,c.nextSibling(p)),i(e.parent)){var y=e.parent,v=w(e);while(y){for(var g=0;g<a.destroy.length;++g)a.destroy[g](y);if(y.elm=e.elm,v){for(var b=0;b<a.create.length;++b)a.create[b](ki,y);var _=y.data.hook.insert;if(_.merged)for(var S=1;S<_.fns.length;S++)_.fns[S]()}else Ii(y);y=y.parent}}i(m)?I(m,[t],0,0):i(t.tag)&&E(t)}}return O(e,l,u),e.elm}i(t)&&E(t)}}var xi={create:Ri,update:Ri,destroy:function(t){Ri(t,ki)}};function Ri(t,e){(t.data.directives||e.data.directives)&&Mi(t,e)}function Mi(t,e){var n,r,i,o=t===ki,a=e===ki,s=Li(t.data.directives,t.context),u=Li(e.data.directives,e.context),c=[],h=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Fi(i,"update",e,t),i.def&&i.def.componentUpdated&&h.push(i)):(Fi(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var l=function(){for(var n=0;n<c.length;n++)Fi(c[n],"inserted",e,t)};o?Te(e,"insert",l):l()}if(h.length&&Te(e,"postpatch",function(){for(var n=0;n<h.length;n++)Fi(h[n],"componentUpdated",e,t)}),!o)for(n in s)u[n]||Fi(s[n],"unbind",t,t,a)}var Pi=Object.create(null);function Li(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Pi),i[ji(r)]=r,r.def=Yt(e.$options,"directives",r.name,!0);return i}function ji(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fi(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(Kc){ne(Kc,n.context,"directive "+t.name+" "+e+" hook")}}var Ui=[Ei,xi];function Vi(t,e){var n=e.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var o,a,s,u=e.elm,c=t.data.attrs||{},h=e.data.attrs||{};for(o in i(h.__ob__)&&(h=e.data.attrs=x({},h)),h)a=h[o],s=c[o],s!==a&&qi(u,o,a);for(o in(nt||it)&&h.value!==c.value&&qi(u,"value",h.value),c)r(h[o])&&($r(o)?u.removeAttributeNS(Kr,Hr(o)):Vr(o)||u.removeAttribute(o))}}function qi(t,e,n){t.tagName.indexOf("-")>-1?Bi(t,e,n):Wr(e)?Gr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Vr(e)?t.setAttribute(e,Br(e,n)):$r(e)?Gr(n)?t.removeAttributeNS(Kr,Hr(e)):t.setAttributeNS(Kr,e,n):Bi(t,e,n)}function Bi(t,e,n){if(Gr(n))t.removeAttribute(e);else{if(nt&&!rt&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName)&&"placeholder"===e&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Wi={create:Vi,update:Vi};function Ki(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=zr(e),u=n._transitionClasses;i(u)&&(s=Xr(s,Jr(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var $i,Hi,Gi,zi,Qi,Yi,Xi={create:Ki,update:Ki},Ji=/[\w).+\-_$\]]/;function Zi(t){var e,n,r,i,o,a=!1,s=!1,u=!1,c=!1,h=0,l=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||h||l||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:l++;break;case 93:l--;break;case 123:h++;break;case 125:h--;break}if(47===e){for(var p=r-1,m=void 0;p>=0;p--)if(m=t.charAt(p)," "!==m)break;m&&Ji.test(m)||(c=!0)}}else void 0===i?(d=r+1,i=t.slice(0,r).trim()):y();function y(){(o||(o=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==d&&y(),o)for(r=0;r<o.length;r++)i=to(i,o[r]);return i}function to(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function eo(t,e){console.error("[Vue compiler]: "+t)}function no(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function ro(t,e,n,r,i){(t.props||(t.props=[])).push(po({name:e,value:n,dynamic:i},r)),t.plain=!1}function io(t,e,n,r,i){var o=i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[]);o.push(po({name:e,value:n,dynamic:i},r)),t.plain=!1}function oo(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(po({name:e,value:n},r))}function ao(t,e,n,r,i,o,a,s){(t.directives||(t.directives=[])).push(po({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:a},s)),t.plain=!1}function so(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function uo(t,e,r,i,o,a,s,u){var c;i=i||n,i.right?u?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete i.right):i.middle&&(u?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),i.capture&&(delete i.capture,e=so("!",e,u)),i.once&&(delete i.once,e=so("~",e,u)),i.passive&&(delete i.passive,e=so("&",e,u)),i.native?(delete i.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var h=po({value:r.trim(),dynamic:u},s);i!==n&&(h.modifiers=i);var l=c[e];Array.isArray(l)?o?l.unshift(h):l.push(h):c[e]=l?o?[h,l]:[l,h]:h,t.plain=!1}function co(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}function ho(t,e,n){var r=lo(t,":"+e)||lo(t,"v-bind:"+e);if(null!=r)return Zi(r);if(!1!==n){var i=lo(t,e);if(null!=i)return JSON.stringify(i)}}function lo(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function fo(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function po(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function mo(t,e,n){var r=n||{},i=r.number,o=r.trim,a="$$v",s=a;o&&(s="(typeof "+a+" === 'string'? "+a+".trim(): "+a+")"),i&&(s="_n("+s+")");var u=yo(e,s);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ("+a+") {"+u+"}"}}function yo(t,e){var n=vo(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function vo(t){if(t=t.trim(),$i=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<$i-1)return zi=t.lastIndexOf("."),zi>-1?{exp:t.slice(0,zi),key:'"'+t.slice(zi+1)+'"'}:{exp:t,key:null};Hi=t,zi=Qi=Yi=0;while(!bo())Gi=go(),wo(Gi)?So(Gi):91===Gi&&_o(Gi);return{exp:t.slice(0,Qi),key:t.slice(Qi+1,Yi)}}function go(){return Hi.charCodeAt(++zi)}function bo(){return zi>=$i}function wo(t){return 34===t||39===t}function _o(t){var e=1;Qi=zi;while(!bo())if(t=go(),wo(t))So(t);else if(91===t&&e++,93===t&&e--,0===e){Yi=zi;break}}function So(t){var e=t;while(!bo())if(t=go(),t===e)break}var To,Eo="__r",Io="__c";function ko(t,e,n){n;var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return mo(t,r,i),!1;if("select"===o)Do(t,r,i);else if("input"===o&&"checkbox"===a)Ao(t,r,i);else if("input"===o&&"radio"===a)Co(t,r,i);else if("input"===o||"textarea"===o)Oo(t,r,i);else{if(!K.isReservedTag(o))return mo(t,r,i),!1}return!0}function Ao(t,e,n){var r=n&&n.number,i=ho(t,"value")||"null",o=ho(t,"true-value")||"true",a=ho(t,"false-value")||"false";ro(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),uo(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+yo(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+yo(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+yo(e,"$$c")+"}",null,!0)}function Co(t,e,n){var r=n&&n.number,i=ho(t,"value")||"null";i=r?"_n("+i+")":i,ro(t,"checked","_q("+e+","+i+")"),uo(t,"change",yo(e,i),null,!0)}function Do(t,e,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = "+i+";";a=a+" "+yo(e,o),uo(t,"change",a,null,!0)}function Oo(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==r,c=o?"change":"range"===r?Eo:"input",h="$event.target.value";s&&(h="$event.target.value.trim()"),a&&(h="_n("+h+")");var l=yo(e,h);u&&(l="if($event.target.composing)return;"+l),ro(t,"value","("+e+")"),uo(t,c,l,null,!0),(s||a)&&uo(t,"blur","$forceUpdate()")}function No(t){if(i(t[Eo])){var e=nt?"change":"input";t[e]=[].concat(t[Eo],t[e]||[]),delete t[Eo]}i(t[Io])&&(t.change=[].concat(t[Io],t.change||[]),delete t[Io])}function xo(t,e,n){var r=To;return function i(){var o=e.apply(null,arguments);null!==o&&Mo(t,i,n,r)}}function Ro(t,e,n,r){if(se){var i=un,o=e;e=o._wrapper=function(t){if(t.timeStamp>=i)return o.apply(this,arguments)}}To.addEventListener(t,e,st?{capture:n,passive:r}:n)}function Mo(t,e,n,r){(r||To).removeEventListener(t,e._wrapper||e,n)}function Po(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};To=e.elm,No(n),Se(n,i,Ro,Mo,xo,e.context),To=void 0}}var Lo,jo={create:Po,update:Po};function Fo(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=x({},u)),s)r(u[n])&&(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n||o!==s[n])if("value"===n){a._value=o;var c=r(o)?"":String(o);Uo(a,c)&&(a.value=c)}else if("innerHTML"===n&&ri(a.tagName)&&r(a.innerHTML)){Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+o+"</svg>";var h=Lo.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(h.firstChild)a.appendChild(h.firstChild)}else a[n]=o}}}function Uo(t,e){return!t.composing&&("OPTION"===t.tagName||Vo(t,e)||qo(t,e))}function Vo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Kc){}return n&&t.value!==e}function qo(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Bo={create:Fo,update:Fo},Wo=S(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function Ko(t){var e=$o(t.style);return t.staticStyle?x(t.staticStyle,e):e}function $o(t){return Array.isArray(t)?R(t):"string"===typeof t?Wo(t):t}function Ho(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Ko(i.data))&&x(r,n)}(n=Ko(t.data))&&x(r,n);var o=t;while(o=o.parent)o.data&&(n=Ko(o.data))&&x(r,n);return r}var Go,zo=/^--/,Qo=/\s*!important$/,Yo=function(t,e,n){if(zo.test(e))t.style.setProperty(e,n);else if(Qo.test(n))t.style.setProperty(A(e),n.replace(Qo,""),"important");else{var r=Jo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Xo=["Webkit","Moz","ms"],Jo=S(function(t){if(Go=Go||document.createElement("div").style,t=E(t),"filter"!==t&&t in Go)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Xo.length;n++){var r=Xo[n]+e;if(r in Go)return r}});function Zo(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,h=o.normalizedStyle||o.style||{},l=c||h,f=$o(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?x({},f):f;var d=Ho(e,!0);for(s in l)r(d[s])&&Yo(u,s,"");for(s in d)a=d[s],a!==l[s]&&Yo(u,s,null==a?"":a)}}var ta={create:Zo,update:Zo},ea=/\s+/;function na(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ea).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ra(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ea).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function ia(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&x(e,oa(t.name||"v")),x(e,t),e}return"string"===typeof t?oa(t):void 0}}var oa=S(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),aa=J&&!rt,sa="transition",ua="animation",ca="transition",ha="transitionend",la="animation",fa="animationend";aa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ca="WebkitTransition",ha="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(la="WebkitAnimation",fa="webkitAnimationEnd"));var da=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function pa(t){da(function(){da(t)})}function ma(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),na(t,e))}function ya(t,e){t._transitionClasses&&b(t._transitionClasses,e),ra(t,e)}function va(t,e,n){var r=ba(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===sa?ha:fa,u=0,c=function(){t.removeEventListener(s,h),n()},h=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,h)}var ga=/\b(transform|all)(,|$)/;function ba(t,e){var n,r=window.getComputedStyle(t),i=(r[ca+"Delay"]||"").split(", "),o=(r[ca+"Duration"]||"").split(", "),a=wa(i,o),s=(r[la+"Delay"]||"").split(", "),u=(r[la+"Duration"]||"").split(", "),c=wa(s,u),h=0,l=0;e===sa?a>0&&(n=sa,h=a,l=o.length):e===ua?c>0&&(n=ua,h=c,l=u.length):(h=Math.max(a,c),n=h>0?a>c?sa:ua:null,l=n?n===sa?o.length:u.length:0);var f=n===sa&&ga.test(r[ca+"Property"]);return{type:n,timeout:h,propCount:l,hasTransform:f}}function wa(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return _a(e)+_a(t[n])}))}function _a(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Sa(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=ia(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,c=o.enterClass,h=o.enterToClass,l=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,p=o.appearActiveClass,y=o.beforeEnter,v=o.enter,g=o.afterEnter,b=o.enterCancelled,w=o.beforeAppear,_=o.appear,S=o.afterAppear,T=o.appearCancelled,E=o.duration,I=Ke,k=Ke.$vnode;while(k&&k.parent)k=k.parent,I=k.context;var A=!I._isMounted||!t.isRootInsert;if(!A||_||""===_){var C=A&&f?f:c,D=A&&p?p:l,O=A&&d?d:h,N=A&&w||y,x=A&&"function"===typeof _?_:v,R=A&&S||g,M=A&&T||b,P=m(u(E)?E.enter:E);0;var L=!1!==a&&!rt,j=Ia(x),F=n._enterCb=V(function(){L&&(ya(n,O),ya(n,D)),F.cancelled?(L&&ya(n,C),M&&M(n)):R&&R(n),n._enterCb=null});t.data.show||Te(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),x&&x(n,F)}),N&&N(n),L&&(ma(n,C),ma(n,D),pa(function(){ya(n,C),F.cancelled||(ma(n,O),j||(Ea(P)?setTimeout(F,P):va(n,s,F)))})),t.data.show&&(e&&e(),x&&x(n,F)),L||j||F()}}}function Ta(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=ia(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,h=o.leaveToClass,l=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,p=o.afterLeave,y=o.leaveCancelled,v=o.delayLeave,g=o.duration,b=!1!==a&&!rt,w=Ia(d),_=m(u(g)?g.leave:g);0;var S=n._leaveCb=V(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(ya(n,h),ya(n,l)),S.cancelled?(b&&ya(n,c),y&&y(n)):(e(),p&&p(n)),n._leaveCb=null});v?v(T):T()}function T(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(ma(n,c),ma(n,l),pa(function(){ya(n,c),S.cancelled||(ma(n,h),w||(Ea(_)?setTimeout(S,_):va(n,s,S)))})),d&&d(n,S),b||w||S())}}function Ea(t){return"number"===typeof t&&!isNaN(t)}function Ia(t){if(r(t))return!1;var e=t.fns;return i(e)?Ia(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ka(t,e){!0!==e.data.show&&Sa(e)}var Aa=J?{create:ka,activate:ka,remove:function(t,e){!0!==t.data.show?Ta(t,e):e()}}:{},Ca=[Wi,Xi,jo,Bo,ta,Aa],Da=Ca.concat(Ui),Oa=Ni({nodeOps:Ti,modules:Da});rt&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Fa(t,"input")});var Na={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Te(n,"postpatch",function(){Na.componentUpdated(t,e,n)}):xa(t,e,n.context),t._vOptions=[].map.call(t.options,Pa)):("textarea"===n.tag||ci(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",La),t.addEventListener("compositionend",ja),t.addEventListener("change",ja),rt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){xa(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Pa);if(i.some(function(t,e){return!F(t,r[e])})){var o=t.multiple?e.value.some(function(t){return Ma(t,i)}):e.value!==e.oldValue&&Ma(e.value,i);o&&Fa(t,"change")}}}};function xa(t,e,n){Ra(t,e,n),(nt||it)&&setTimeout(function(){Ra(t,e,n)},0)}function Ra(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=U(r,Pa(a))>-1,a.selected!==o&&(a.selected=o);else if(F(Pa(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Ma(t,e){return e.every(function(e){return!F(e,t)})}function Pa(t){return"_value"in t?t._value:t.value}function La(t){t.target.composing=!0}function ja(t){t.target.composing&&(t.target.composing=!1,Fa(t.target,"input"))}function Fa(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ua(t){return!t.componentInstance||t.data&&t.data.transition?t:Ua(t.componentInstance._vnode)}var Va={bind:function(t,e,n){var r=e.value;n=Ua(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Sa(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=Ua(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Sa(n,function(){t.style.display=t.__vOriginalDisplay}):Ta(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},qa={model:Na,show:Va},Ba={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Wa(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Wa(Me(e.children)):t}function Ka(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[E(o)]=i[o];return e}function $a(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Ha(t){while(t=t.parent)if(t.data.transition)return!0}function Ga(t,e){return e.key===t.key&&e.tag===t.tag}var za=function(t){return t.tag||Re(t)},Qa=function(t){return"show"===t.name},Ya={name:"transition",props:Ba,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(za),n.length)){0;var r=this.mode;0;var i=n[0];if(Ha(this.$vnode))return i;var o=Wa(i);if(!o)return i;if(this._leaving)return $a(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=Ka(this),c=this._vnode,h=Wa(c);if(o.data.directives&&o.data.directives.some(Qa)&&(o.data.show=!0),h&&h.data&&!Ga(o,h)&&!Re(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var l=h.data.transition=x({},u);if("out-in"===r)return this._leaving=!0,Te(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),$a(t,i);if("in-out"===r){if(Re(o))return c;var f,d=function(){f()};Te(u,"afterEnter",d),Te(u,"enterCancelled",d),Te(l,"delayLeave",function(t){f=t})}}return i}}},Xa=x({tag:String,moveClass:String},Ba);delete Xa.mode;var Ja={props:Xa,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=$e(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Ka(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],h=[],l=0;l<r.length;l++){var f=r[l];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):h.push(f)}this.kept=t(e,null,c),this.removed=h}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Za),t.forEach(ts),t.forEach(es),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;ma(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ha,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ha,t),n._moveCb=null,ya(n,e))})}}))},methods:{hasMove:function(t,e){if(!aa)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ra(n,t)}),na(n,e),n.style.display="none",this.$el.appendChild(n);var r=ba(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Za(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ts(t){t.data.newPos=t.elm.getBoundingClientRect()}function es(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var ns={Transition:Ya,TransitionGroup:Ja};Sr.config.mustUseProp=Ur,Sr.config.isReservedTag=oi,Sr.config.isReservedAttr=jr,Sr.config.getTagNamespace=ai,Sr.config.isUnknownElement=ui,x(Sr.options.directives,qa),x(Sr.options.components,ns),Sr.prototype.__patch__=J?Oa:M,Sr.prototype.$mount=function(t,e){return t=t&&J?hi(t):void 0,ze(this,t,e)},J&&setTimeout(function(){K.devtools&&ht&&ht.emit("init",Sr)},0);var rs=/\{\{((?:.|\r?\n)+?)\}\}/g,is=/[-.*+?^${}()|[\]\/\\]/g,os=S(function(t){var e=t[0].replace(is,"\\$&"),n=t[1].replace(is,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function as(t,e){var n=e?os(e):rs;if(n.test(t)){var r,i,o,a=[],s=[],u=n.lastIndex=0;while(r=n.exec(t)){i=r.index,i>u&&(s.push(o=t.slice(u,i)),a.push(JSON.stringify(o)));var c=Zi(r[1].trim());a.push("_s("+c+")"),s.push({"@binding":c}),u=i+r[0].length}return u<t.length&&(s.push(o=t.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}function ss(t,e){e.warn;var n=lo(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=ho(t,"class",!1);r&&(t.classBinding=r)}function us(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}var cs={staticKeys:["staticClass"],transformNode:ss,genData:us};function hs(t,e){e.warn;var n=lo(t,"style");n&&(t.staticStyle=JSON.stringify(Wo(n)));var r=ho(t,"style",!1);r&&(t.styleBinding=r)}function ls(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}var fs,ds={staticKeys:["staticStyle"],transformNode:hs,genData:ls},ps={decode:function(t){return fs=fs||document.createElement("div"),fs.innerHTML=t,fs.textContent}},ms=y("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),ys=y("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),vs=y("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),gs=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,bs=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ws="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+$+"]*",_s="((?:"+ws+"\\:)?"+ws+")",Ss=new RegExp("^<"+_s),Ts=/^\s*(\/?)>/,Es=new RegExp("^<\\/"+_s+"[^>]*>"),Is=/^<!DOCTYPE [^>]+>/i,ks=/^<!\--/,As=/^<!\[/,Cs=y("script,style,textarea",!0),Ds={},Os={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},Ns=/&(?:lt|gt|quot|amp);/g,xs=/&(?:lt|gt|quot|amp|#10|#9);/g,Rs=y("pre,textarea",!0),Ms=function(t,e){return t&&Rs(t)&&"\n"===e[0]};function Ps(t,e){var n=e?xs:Ns;return t.replace(n,function(t){return Os[t]})}function Ls(t,e){var n,r,i=[],o=e.expectHTML,a=e.isUnaryTag||P,s=e.canBeLeftOpenTag||P,u=0;while(t){if(n=t,r&&Cs(r)){var c=0,h=r.toLowerCase(),l=Ds[h]||(Ds[h]=new RegExp("([\\s\\S]*?)(</"+h+"[^>]*>)","i")),f=t.replace(l,function(t,n,r){return c=r.length,Cs(h)||"noscript"===h||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ms(h,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});u+=t.length-f.length,t=f,k(h,u-c,u)}else{var d=t.indexOf("<");if(0===d){if(ks.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p),u,u+p+3),T(p+3);continue}}if(As.test(t)){var m=t.indexOf("]>");if(m>=0){T(m+2);continue}}var y=t.match(Is);if(y){T(y[0].length);continue}var v=t.match(Es);if(v){var g=u;T(v[0].length),k(v[1],g,u);continue}var b=E();if(b){I(b),Ms(b.tagName,t)&&T(1);continue}}var w=void 0,_=void 0,S=void 0;if(d>=0){_=t.slice(d);while(!Es.test(_)&&!Ss.test(_)&&!ks.test(_)&&!As.test(_)){if(S=_.indexOf("<",1),S<0)break;d+=S,_=t.slice(d)}w=t.substring(0,d)}d<0&&(w=t),w&&T(w.length),e.chars&&w&&e.chars(w,u-w.length,u)}if(t===n){e.chars&&e.chars(t);break}}function T(e){u+=e,t=t.substring(e)}function E(){var e=t.match(Ss);if(e){var n,r,i={tagName:e[1],attrs:[],start:u};T(e[0].length);while(!(n=t.match(Ts))&&(r=t.match(bs)||t.match(gs)))r.start=u,T(r[0].length),r.end=u,i.attrs.push(r);if(n)return i.unarySlash=n[1],T(n[0].length),i.end=u,i}}function I(t){var n=t.tagName,u=t.unarySlash;o&&("p"===r&&vs(n)&&k(r),s(n)&&r===n&&k(n));for(var c=a(n)||!!u,h=t.attrs.length,l=new Array(h),f=0;f<h;f++){var d=t.attrs[f],p=d[3]||d[4]||d[5]||"",m="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;l[f]={name:d[1],value:Ps(p,m)}}c||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:l,start:t.start,end:t.end}),r=n),e.start&&e.start(n,l,c,t.start,t.end)}function k(t,n,o){var a,s;if(null==n&&(n=u),null==o&&(o=u),t){for(s=t.toLowerCase(),a=i.length-1;a>=0;a--)if(i[a].lowerCasedTag===s)break}else a=0;if(a>=0){for(var c=i.length-1;c>=a;c--)e.end&&e.end(i[c].tag,n,o);i.length=a,r=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}k()}var js,Fs,Us,Vs,qs,Bs,Ws,Ks,$s=/^@|^v-on:/,Hs=/^v-|^@|^:/,Gs=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,zs=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qs=/^\(|\)$/g,Ys=/^\[.*\]$/,Xs=/:(.*)$/,Js=/^:|^\.|^v-bind:/,Zs=/\.[^.]+/g,tu=/^v-slot(:|$)|^#/,eu=/[\r\n]/,nu=/\s+/g,ru=S(ps.decode);function iu(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:Iu(e),rawAttrsMap:{},parent:n,children:[]}}function ou(t,e){js=e.warn||eo,Bs=e.isPreTag||P,Ws=e.mustUseProp||P,Ks=e.getTagNamespace||P;var n=e.isReservedTag||P;(function(t){return!!t.component||!n(t.tag)}),Us=no(e.modules,"transformNode"),Vs=no(e.modules,"preTransformNode"),qs=no(e.modules,"postTransformNode"),Fs=e.delimiters;var r,i,o=[],a=!1!==e.preserveWhitespace,s=e.whitespace,u=!1,c=!1;function h(t){if(l(t),u||t.processed||(t=uu(t,e)),o.length||t===r||r.if&&(t.elseif||t.else)&&yu(r,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)pu(t,i);else{if(t.slotScope){var n=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[n]=t}i.children.push(t),t.parent=i}t.children=t.children.filter(function(t){return!t.slotScope}),l(t),t.pre&&(u=!1),Bs(t.tag)&&(c=!1);for(var a=0;a<qs.length;a++)qs[a](t,e)}function l(t){var e;if(!c)while((e=t.children[t.children.length-1])&&3===e.type&&" "===e.text)t.children.pop()}return Ls(t,{warn:js,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,a,s){var l=i&&i.ns||Ks(t);nt&&"svg"===l&&(n=Ou(n));var f=iu(t,n,i);l&&(f.ns=l),Au(f)&&!ct()&&(f.forbidden=!0);for(var d=0;d<Vs.length;d++)f=Vs[d](f,e)||f;u||(au(f),f.pre&&(u=!0)),Bs(f.tag)&&(c=!0),u?su(f):f.processed||(lu(f),du(f),vu(f)),r||(r=f),a?h(f):(i=f,o.push(f))},end:function(t,e,n){var r=o[o.length-1];o.length-=1,i=o[o.length-1],h(r)},chars:function(t,e,n){if(i&&(!nt||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,o,h=i.children;if(t=c||t.trim()?ku(i)?t:ru(t):h.length?s?"condense"===s&&eu.test(t)?"":" ":a?" ":"":"",t)"condense"===s&&(t=t.replace(nu," ")),!u&&" "!==t&&(r=as(t,Fs))?o={type:2,expression:r.expression,tokens:r.tokens,text:t}:" "===t&&h.length&&" "===h[h.length-1].text||(o={type:3,text:t}),o&&h.push(o)}},comment:function(t,e,n){var r={type:3,text:t,isComment:!0};i.children.push(r)}}),r}function au(t){null!=lo(t,"v-pre")&&(t.pre=!0)}function su(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}function uu(t,e){cu(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,hu(t),gu(t),wu(t),_u(t);for(var n=0;n<Us.length;n++)t=Us[n](t,e)||t;return Su(t),t}function cu(t){var e=ho(t,"key");e&&(t.key=e)}function hu(t){var e=ho(t,"ref");e&&(t.ref=e,t.refInFor=Tu(t))}function lu(t){var e;if(e=lo(t,"v-for")){var n=fu(e);n&&x(t,n)}}function fu(t){var e=t.match(Gs);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(Qs,""),i=r.match(zs);return i?(n.alias=r.replace(zs,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}function du(t){var e=lo(t,"v-if");if(e)t.if=e,yu(t,{exp:e,block:t});else{null!=lo(t,"v-else")&&(t.else=!0);var n=lo(t,"v-else-if");n&&(t.elseif=n)}}function pu(t,e){var n=mu(e.children);n&&n.if&&yu(n,{exp:t.elseif,block:t})}function mu(t){var e=t.length;while(e--){if(1===t[e].type)return t[e];t.pop()}}function yu(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function vu(t){var e=lo(t,"v-once");null!=e&&(t.once=!0)}function gu(t){var e;"template"===t.tag?(e=lo(t,"scope"),t.slotScope=e||lo(t,"slot-scope")):(e=lo(t,"slot-scope"))&&(t.slotScope=e);var n=ho(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||io(t,"slot",n,co(t,"slot"))),"template"===t.tag){var r=fo(t,tu);if(r){0;var i=bu(r),o=i.name,a=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=r.value||"_"}}else{var s=fo(t,tu);if(s){0;var u=t.scopedSlots||(t.scopedSlots={}),c=bu(s),h=c.name,l=c.dynamic,f=u[h]=iu("template",[],t);f.slotTarget=h,f.slotTargetDynamic=l,f.children=t.children.filter(function(t){return!t.slotScope}),f.slotScope=s.value||"_",t.children=[],t.plain=!1}}}function bu(t){var e=t.name.replace(tu,"");return e||"#"!==t.name[0]&&(e="default"),Ys.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function wu(t){"slot"===t.tag&&(t.slotName=ho(t,"name"))}function _u(t){var e;(e=ho(t,"is"))&&(t.component=e),null!=lo(t,"inline-template")&&(t.inlineTemplate=!0)}function Su(t){var e,n,r,i,o,a,s,u,c=t.attrsList;for(e=0,n=c.length;e<n;e++){if(r=i=c[e].name,o=c[e].value,Hs.test(r))if(t.hasBindings=!0,a=Eu(r.replace(Hs,"")),a&&(r=r.replace(Zs,"")),Js.test(r))r=r.replace(Js,""),o=Zi(o),u=Ys.test(r),u&&(r=r.slice(1,-1)),a&&(a.prop&&!u&&(r=E(r),"innerHtml"===r&&(r="innerHTML")),a.camel&&!u&&(r=E(r)),a.sync&&(s=yo(o,"$event"),u?uo(t,'"update:"+('+r+")",s,null,!1,js,c[e],!0):(uo(t,"update:"+E(r),s,null,!1,js,c[e]),A(r)!==E(r)&&uo(t,"update:"+A(r),s,null,!1,js,c[e])))),a&&a.prop||!t.component&&Ws(t.tag,t.attrsMap.type,r)?ro(t,r,o,c[e],u):io(t,r,o,c[e],u);else if($s.test(r))r=r.replace($s,""),u=Ys.test(r),u&&(r=r.slice(1,-1)),uo(t,r,o,a,!1,js,c[e],u);else{r=r.replace(Hs,"");var h=r.match(Xs),l=h&&h[1];u=!1,l&&(r=r.slice(0,-(l.length+1)),Ys.test(l)&&(l=l.slice(1,-1),u=!0)),ao(t,r,i,o,l,u,a,c[e])}else io(t,r,JSON.stringify(o),c[e]),!t.component&&"muted"===r&&Ws(t.tag,t.attrsMap.type,r)&&ro(t,r,"true",c[e])}}function Tu(t){var e=t;while(e){if(void 0!==e.for)return!0;e=e.parent}return!1}function Eu(t){var e=t.match(Zs);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function Iu(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}function ku(t){return"script"===t.tag||"style"===t.tag}function Au(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}var Cu=/^xmlns:NS\d+/,Du=/^NS\d+:/;function Ou(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Cu.test(r.name)||(r.name=r.name.replace(Du,""),e.push(r))}return e}function Nu(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=ho(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=lo(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=lo(t,"v-else",!0),s=lo(t,"v-else-if",!0),u=xu(t);lu(u),oo(u,"type","checkbox"),uu(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+o,yu(u,{exp:u.if,block:u});var c=xu(t);lo(c,"v-for",!0),oo(c,"type","radio"),uu(c,e),yu(u,{exp:"("+n+")==='radio'"+o,block:c});var h=xu(t);return lo(h,"v-for",!0),oo(h,":type",n),uu(h,e),yu(u,{exp:i,block:h}),a?u.else=!0:s&&(u.elseif=s),u}}}function xu(t){return iu(t.tag,t.attrsList.slice(),t.parent)}var Ru={preTransformNode:Nu},Mu=[cs,ds,Ru];function Pu(t,e){e.value&&ro(t,"textContent","_s("+e.value+")",e)}function Lu(t,e){e.value&&ro(t,"innerHTML","_s("+e.value+")",e)}var ju,Fu,Uu={model:ko,text:Pu,html:Lu},Vu={expectHTML:!0,modules:Mu,directives:Uu,isPreTag:ii,isUnaryTag:ms,mustUseProp:Ur,canBeLeftOpenTag:ys,isReservedTag:oi,getTagNamespace:ai,staticKeys:j(Mu)},qu=S(Wu);function Bu(t,e){t&&(ju=qu(e.staticKeys||""),Fu=e.isReservedTag||P,Ku(t),$u(t,!1))}function Wu(t){return y("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}function Ku(t){if(t.static=Hu(t),1===t.type){if(!Fu(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Ku(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Ku(a),a.static||(t.static=!1)}}}function $u(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)$u(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)$u(t.ifConditions[i].block,e)}}function Hu(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!Fu(t.tag)||Gu(t)||!Object.keys(t).every(ju))))}function Gu(t){while(t.parent){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}var zu=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Qu=/\([^)]*?\);*$/,Yu=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Xu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ju={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Zu=function(t){return"if("+t+")return null;"},tc={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Zu("$event.target !== $event.currentTarget"),ctrl:Zu("!$event.ctrlKey"),shift:Zu("!$event.shiftKey"),alt:Zu("!$event.altKey"),meta:Zu("!$event.metaKey"),left:Zu("'button' in $event && $event.button !== 0"),middle:Zu("'button' in $event && $event.button !== 1"),right:Zu("'button' in $event && $event.button !== 2")};function ec(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var a=nc(t[o]);t[o]&&t[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function nc(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return nc(t)}).join(",")+"]";var e=Yu.test(t.value),n=zu.test(t.value),r=Yu.test(t.value.replace(Qu,""));if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(tc[s])o+=tc[s],Xu[s]&&a.push(s);else if("exact"===s){var u=t.modifiers;o+=Zu(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);a.length&&(i+=rc(a)),o&&(i+=o);var c=e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value;return"function($event){"+i+c+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function rc(t){return"if(('keyCode' in $event)&&"+t.map(ic).join("&&")+")return null;"}function ic(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Xu[t],r=Ju[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}function oc(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function ac(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}var sc={on:oc,bind:ac,cloak:M},uc=function(t){this.options=t,this.warn=t.warn||eo,this.transforms=no(t.modules,"transformCode"),this.dataGenFns=no(t.modules,"genData"),this.directives=x(x({},sc),t.directives);var e=t.isReservedTag||P;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function cc(t,e){var n=new uc(e),r=t?hc(t,n):'_c("div")';return{render:"with(this){return "+r+"}",staticRenderFns:n.staticRenderFns}}function hc(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return lc(t,e);if(t.once&&!t.onceProcessed)return fc(t,e);if(t.for&&!t.forProcessed)return mc(t,e);if(t.if&&!t.ifProcessed)return dc(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return Ac(t,e);var n;if(t.component)n=Cc(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=yc(t,e));var i=t.inlineTemplate?null:_c(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return _c(t,e)||"void 0"}function lc(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+hc(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function fc(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return dc(t,e);if(t.staticInFor){var n="",r=t.parent;while(r){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+hc(t,e)+","+e.onceId+++","+n+")":hc(t,e)}return lc(t,e)}function dc(t,e,n,r){return t.ifProcessed=!0,pc(t.ifConditions.slice(),e,n,r)}function pc(t,e,n,r){if(!t.length)return r||"_e()";var i=t.shift();return i.exp?"("+i.exp+")?"+o(i.block)+":"+pc(t,e,n,r):""+o(i.block);function o(t){return n?n(t,e):t.once?fc(t,e):hc(t,e)}}function mc(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||hc)(t,e)+"})"}function yc(t,e){var n="{",r=vc(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+Dc(t.attrs)+","),t.props&&(n+="domProps:"+Dc(t.props)+","),t.events&&(n+=ec(t.events,!1)+","),t.nativeEvents&&(n+=ec(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=bc(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=gc(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+Dc(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function vc(t,e){var n=t.directives;if(n){var r,i,o,a,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var c=e.directives[o.name];c&&(a=!!c(t,o,e.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return u?s.slice(0,-1)+"]":void 0}}function gc(t,e){var n=t.children[0];if(1===n.type){var r=cc(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function bc(t,e){var n=Object.keys(t).some(function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for});return"scopedSlots:_u(["+Object.keys(t).map(function(n){return wc(t[n],e)}).join(",")+"]"+(n?",true":"")+")"}function wc(t,e){if(t.if&&!t.ifProcessed)return dc(t,e,wc,"null");if(t.for&&!t.forProcessed)return mc(t,e,wc);var n="function("+String(t.slotScope)+"){return "+("template"===t.tag?_c(t,e)||"undefined":hc(t,e))+"}";return"{key:"+(t.slotTarget||'"default"')+",fn:"+n+"}"}function _c(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return""+(r||hc)(a,e)+s}var u=n?Sc(o,e.maybeComponent):0,c=i||Ec;return"["+o.map(function(t){return c(t,e)}).join(",")+"]"+(u?","+u:"")}}function Sc(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Tc(i)||i.ifConditions&&i.ifConditions.some(function(t){return Tc(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}function Tc(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Ec(t,e){return 1===t.type?hc(t,e):3===t.type&&t.isComment?kc(t):Ic(t)}function Ic(t){return"_v("+(2===t.type?t.expression:Oc(JSON.stringify(t.text)))+")"}function kc(t){return"_e("+JSON.stringify(t.text)+")"}function Ac(t,e){var n=t.slotName||'"default"',r=_c(t,e),i="_t("+n+(r?","+r:""),o=t.attrs&&"{"+t.attrs.map(function(t){return E(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];return!o&&!a||r||(i+=",null"),o&&(i+=","+o),a&&(i+=(o?"":",null")+","+a),i+")"}function Cc(t,e,n){var r=e.inlineTemplate?null:_c(e,n,!0);return"_c("+t+","+yc(e,n)+(r?","+r:"")+")"}function Dc(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=Oc(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Oc(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function Nc(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),M}}function xc(t){var e=Object.create(null);return function(n,r,i){r=x({},r);r.warn;delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r);var s={},u=[];return s.render=Nc(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(t){return Nc(t,u)}),e[o]=s}}function Rc(t){return function(e){function n(n,r){var i=Object.create(e),o=[],a=[],s=function(t,e,n){(n?a:o).push(t)};if(r)for(var u in r.modules&&(i.modules=(e.modules||[]).concat(r.modules)),r.directives&&(i.directives=x(Object.create(e.directives||null),r.directives)),r)"modules"!==u&&"directives"!==u&&(i[u]=r[u]);i.warn=s;var c=t(n.trim(),i);return c.errors=o,c.tips=a,c}return{compile:n,compileToFunctions:xc(n)}}}var Mc,Pc=Rc(function(t,e){var n=ou(t.trim(),e);!1!==e.optimize&&Bu(n,e);var r=cc(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}}),Lc=Pc(Vu),jc=(Lc.compile,Lc.compileToFunctions);function Fc(t){return Mc=Mc||document.createElement("div"),Mc.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Mc.innerHTML.indexOf("&#10;")>0}var Uc=!!J&&Fc(!1),Vc=!!J&&Fc(!0),qc=S(function(t){var e=hi(t);return e&&e.innerHTML}),Bc=Sr.prototype.$mount;function Wc(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}Sr.prototype.$mount=function(t,e){if(t=t&&hi(t),t===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"===typeof r)"#"===r.charAt(0)&&(r=qc(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=Wc(t));if(r){0;var i=jc(r,{outputSourceRange:!1,shouldDecodeNewlines:Uc,shouldDecodeNewlinesForHref:Vc,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return Bc.call(this,t,e)},Sr.compile=jc,e["a"]=Sr}).call(this,n("c8ba"))},a109:function(t,e,n){"use strict";var r=n("56a9")(!0);n("4ddf")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},a21f:function(t,e,n){var r=n("584a"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},a25f:function(t,e,n){var r=n("7726"),i=r.navigator;t.exports=i&&i.userAgent||""},a2cd:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return h}),n.d(e,"__generator",function(){return l}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return S});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof y?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){s("next",t)}function h(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof d?d(t):t[Symbol.iterator]()}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},a313:function(t,e,n){var r=n("8187");t.exports=Array.isArray||function(t){return"Array"==r(t)}},a59c:function(t,e,n){"use strict";(function(t){var e=setTimeout;function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function o(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void s(e.promise,i)}a(e.promise,r)}else(1===t._state?a:s)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void u(t);if("function"===typeof n)return void h(r(n,e),t)}t._state=1,t._value=e,u(t)}catch(o){s(t,o)}}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(r){if(n)return;n=!0,s(e,r)}}i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var r=new this.constructor(n);return o(this,new c(t,e,r)),r},i.prototype["finally"]=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},i.all=function(t){return new i(function(e,n){if(!t||"undefined"===typeof t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0===--i&&e(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)o(a,r[a])})},i.resolve=function(t){return t&&"object"===typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},i._immediateFn="function"===typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var l=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("unable to locate global object")}();l.Promise||(l.Promise=i)}).call(this,n("c8ba"))},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},aad8:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},ab4f:function(t,e,n){t.exports=!n("948a")&&!n("eb5a")(function(){return 7!=Object.defineProperty(n("cba9")("div"),"a",{get:function(){return 7}}).a})},abfd:function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return r});
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r,i=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(r||(r={}));var o=r.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(t){i.forEach(function(e){e.logLevel=t})}},ad20:function(t,e,n){var r=n("1f50"),i=n("f28b");t.exports=function(t){return r(i(t))}},b10d:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},b25f:function(t,e,n){var r=n("3358");t.exports=function(t,e){return new(r(t))(e)}},b3a3:function(t,e,n){"use strict";var r=n("235a"),i=n("998f")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("74d1")(o)},b4b7:function(t,e,n){var r=n("8d98")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},b665:function(t,e,n){n("a109"),n("cc61"),t.exports=n("78a3").f("iterator")},b7aa:function(t,e,n){"use strict";(function(t){var e=n("c23d"),r=n.n(e);(function(){var t,e=e||{},n=this;function i(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}function a(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function u(t){return null===t}function c(t){return"array"==s(t)}function h(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function l(t){return"function"==s(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y,v.apply(null,arguments)}function g(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.ob=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function T(t){if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function E(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");T.call(this,n+t[r])}function I(t,e){throw new E("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function k(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function A(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function C(){this.b=this.a=null}w(T,Error),T.prototype.name="CustomError",w(E,T),E.prototype.name="AssertionError",k.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new k(function(){return new N},function(t){t.reset()});function O(){var t=vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function N(){this.next=this.b=this.a=null}C.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},N.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},N.prototype.reset=function(){this.next=this.b=this.a=null};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(i(t))return i(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},R=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,a=0;a<r;a++)a in o&&e.call(n,o[a],a,t)};function M(t,e){var n=t.length,r=i(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}var P=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),o=i(t)?t.split(""):t,a=0;a<n;a++)a in o&&(r[a]=e.call(void 0,o[a],a,t));return r},L=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t))return!0;return!1};function j(t){t:{for(var e=fa,n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]}function F(t,e){return 0<=x(t,e)}function U(t,e){var n;return e=x(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function V(t,e){M(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function q(t){return Array.prototype.concat.apply([],arguments)}function B(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function W(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $(t){return Z.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(G,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Y,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(X,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(J,"&#0;")),t):t}var H,G=/&/g,z=/</g,Q=/>/g,Y=/"/g,X=/'/g,J=/\x00/g,Z=/[\x00&<>"']/;function tt(t,e){return-1!=t.indexOf(e)}function et(t,e){return t<e?-1:t>e?1:0}t:{var nt=n.navigator;if(nt){var rt=nt.userAgent;if(rt){H=rt;break t}}H=""}function it(t){return tt(H,t)}function ot(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function at(t){for(var e in t)return!1;return!0}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut,ct,ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<ht.length;o++)n=ht[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ft(t){n.setTimeout(function(){throw t},0)}function dt(){var t=n.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!it("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=v(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!it("Trident")&&!it("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){r=r.next;var t=r.wb;r.wb=null,t()}},function(t){i.next={wb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}function pt(t,e){ct||mt(),yt||(ct(),yt=!0),vt.add(t,e)}function mt(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);ct=function(){t.then(gt)}}else ct=function(){var t=gt;!l(n.setImmediate)||n.Window&&n.Window.prototype&&!it("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ut||(ut=dt()),ut(t)):n.setImmediate(t)}}var yt=!1,vt=new C;function gt(){for(var t;t=O();){try{t.a.call(t.b)}catch(e){ft(e)}A(D,t)}yt=!1}function bt(t,e){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var n=this;t.call(e,function(t){Mt(n,_t,t)},function(t){if(!(t instanceof Wt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Mt(n,St,t)})}catch(r){Mt(this,St,r)}}var wt=0,_t=2,St=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new k(function(){return new Tt},function(t){t.reset()});function It(t,e,n){var r=Et.get();return r.g=t,r.b=e,r.f=n,r}function kt(t){if(t instanceof bt)return t;var e=new bt(a);return Mt(e,_t,t),e}function At(t){return new bt(function(e,n){n(t)})}function Ct(t,e,n){Pt(t,e,n,null)||pt(g(e,t))}function Dt(t){return new bt(function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Ct(o,g(a,u),s);else e(i)})}function Ot(t){return new bt(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Db:!0,value:o}:{Db:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],Ct(i,g(o,a,!0),g(o,a,!1));else e(r)})}function Nt(t,e){if(t.a==wt)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?Nt(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,St,e)))}t.c=null}else Mt(t,St,e)}function xt(t,e){t.b||t.a!=_t&&t.a!=St||jt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Rt(t,e,n,r){var i=It(null,null,null);return i.a=new bt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Wt?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,xt(t,i),i.a}function Mt(t,e,n){t.a==wt&&(t===n&&(e=St,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pt(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,jt(t),e!=St||n instanceof Wt||qt(t,n)))}function Pt(t,e,n,r){if(t instanceof bt)return xt(t,It(e||a,n||null,r)),!0;if(S(t))return t.then(e,n,r),!0;if(f(t))try{var i=t.then;if(l(i))return Lt(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Lt(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}function jt(t){t.h||(t.h=!0,pt(t.Yb,t))}function Ft(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ut(t,e,n,r){if(n==St&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Vt(e,n,r);else try{e.c?e.g.call(e.f):Vt(e,n,r)}catch(i){Bt.call(null,i)}A(Et,e)}function Vt(t,e,n){e==_t?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function qt(t,e){t.g=!0,pt(function(){t.g&&Bt.call(null,e)})}bt.prototype.then=function(t,e,n){return Rt(this,l(t)?t:null,l(e)?e:null,n)},_(bt),t=bt.prototype,t.ia=function(t,e){return t=It(t,t,e),t.c=!0,xt(this,t),this},t.s=function(t,e){return Rt(this,null,t,e)},t.cancel=function(t){this.a==wt&&pt(function(){var e=new Wt(t);Nt(this,e)},this)},t.Nc=function(t){this.a=wt,Mt(this,_t,t)},t.Oc=function(t){this.a=wt,Mt(this,St,t)},t.Yb=function(){for(var t;t=Ft(this);)Ut(this,t,this.a,this.i);this.h=!1};var Bt=ft;function Wt(t){T.call(this,t)}function Kt(){0!=$t&&(Ht[this[d]||(this[d]=++p)]=this),this.qa=this.qa,this.ja=this.ja}w(Wt,T),Wt.prototype.name="cancel";var $t=0,Ht={};function Gt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=$t)){var e=t[d]||(t[d]=++p);if(0!=$t&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[e]}}function zt(t){return zt[" "](t),t}function Qt(t,e){var n=ue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Kt.prototype.qa=!1,Kt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},zt[" "]=a;var Yt,Xt=it("Opera"),Jt=it("Trident")||it("MSIE"),Zt=it("Edge"),te=Zt||Jt,ee=it("Gecko")&&!(tt(H.toLowerCase(),"webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),ne=tt(H.toLowerCase(),"webkit")&&!it("Edge");function re(){var t=n.document;return t?t.documentMode:void 0}t:{var ie="",oe=function(){var t=H;return ee?/rv:([^\);]+)(\)|;)/.exec(t):Zt?/Edge\/([\d\.]+)/.exec(t):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ne?/WebKit\/(\S+)/.exec(t):Xt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(oe&&(ie=oe?oe[1]:""),Jt){var ae=re();if(null!=ae&&ae>parseFloat(ie)){Yt=String(ae);break t}}Yt=ie}var se,ue={};function ce(t){return Qt(t,function(){for(var e=0,n=K(String(Yt)).split("."),r=K(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=et(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||et(0==a[2].length,0==s[2].length)||et(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var he=n.document;se=he&&Jt?re()||("CSS1Compat"==he.compatMode?parseInt(Yt,10):5):void 0;var le=Object.freeze||function(t){return t},fe=!Jt||9<=Number(se),de=Jt&&!ce("9"),pe=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",a,e),n.removeEventListener("test",a,e),t}();function me(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function ye(t,e){if(me.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ee){t:{try{zt(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=i(t.pointerType)?t.pointerType:ve[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}me.prototype.preventDefault=function(){this.Kb=!1},w(ye,me);var ve=le({2:"touch",3:"pen",4:"mouse"});ye.prototype.preventDefault=function(){ye.ob.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,de)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},ye.prototype.f=function(){return this.a};var ge="closure_listenable_"+(1e6*Math.random()|0),be=0;function we(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++be,this.oa=this.Ia=!1}function _e(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Se(t){this.src=t,this.a={},this.b=0}function Te(t,e){var n=e.type;n in t.a&&U(t.a[n],e)&&(_e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ee(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}Se.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=Ee(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):(e=new we(e,this.src,o,!!r,i),e.Ia=n,t.push(e)),e};var Ie="closure_lm_"+(1e6*Math.random()|0),ke={};function Ae(t,e,n,r,i){if(r&&r.once)Oe(t,e,n,r,i);else if(c(e))for(var o=0;o<e.length;o++)Ae(t,e[o],n,r,i);else n=Ue(n),t&&t[ge]?qe(t,e,n,f(r)?!!r.capture:!!r,i):Ce(t,e,n,!1,r,i)}function Ce(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,s=je(t);if(s||(t[Ie]=s=new Se(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=De(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Re(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function De(){var t=Le,e=fe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Oe(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)Oe(t,e[o],n,r,i);else n=Ue(n),t&&t[ge]?Be(t,e,n,f(r)?!!r.capture:!!r,i):Ce(t,e,n,!0,r,i)}function Ne(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)Ne(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=Ue(n),t&&t[ge]?(t=t.l,e=String(e).toString(),e in t.a&&(o=t.a[e],n=Ee(o,n,r,i),-1<n&&(_e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=je(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ee(e,n,r,i)),(n=-1<t?e[t]:null)&&xe(n))}function xe(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[ge])Te(e.l,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Re(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=je(e))?(Te(n,t),0==n.b&&(n.src=null,e[Ie]=null)):_e(t)}}}function Re(t){return t in ke?ke[t]:ke[t]="on"+t}function Me(t,e,n,r){var i=!0;if((t=je(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Pe(o,r),i=i&&!1!==o)}return i}function Pe(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&xe(t),n.call(r,e)}function Le(t,e){if(t.oa)return!0;if(!fe){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(r=r[e[i]],null==r){e=null;break t}e=r}if(i=e,e=new ye(i,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Me(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Me(i[o],t,!1,e),r=r&&a}return r}return Pe(t,new ye(e,this))}function je(t){return t=t[Ie],t instanceof Se?t:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(t){return l(t)?t:(t[Fe]||(t[Fe]=function(e){return t.handleEvent(e)}),t[Fe])}function Ve(){Kt.call(this),this.l=new Se(this),this.Rb=this,this.Va=null}function qe(t,e,n,r,i){t.l.add(String(e),n,!1,r,i)}function Be(t,e,n,r,i){t.l.add(String(e),n,!0,r,i)}function We(t,e,n,r){if(e=t.l.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Te(t.l,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Kb}function Ke(t,e,r){if(l(t))r&&(t=v(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function $e(t){var e=null;return new bt(function(n,r){e=Ke(function(){n(void 0)},t),-1==e&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function He(t){if(t.S&&"function"==typeof t.S)return t.S();if(i(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ge(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function ze(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||i(t))R(t,e,void 0);else for(var n=Ge(t),r=He(t),o=r.length,a=0;a<o;a++)e.call(void 0,r[a],n&&n[a],t)}function Qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ye(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Xe(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(Ve,Kt),Ve.prototype[ge]=!0,Ve.prototype.addEventListener=function(t,e,n,r){Ae(this,t,e,n,r)},Ve.prototype.removeEventListener=function(t,e,n,r){Ne(this,t,e,n,r)},Ve.prototype.dispatchEvent=function(t){var e,n=this.Va;if(n)for(e=[];n;n=n.Va)e.push(n);n=this.Rb;var r=t.type||t;if(i(t))t=new me(t,n);else if(t instanceof me)t.target=t.target||n;else{var o=t;t=new me(r,n),lt(t,o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=We(s,r,!0,t)&&o}if(s=t.b=n,o=We(s,r,!0,t)&&o,o=We(s,r,!1,t)&&o,e)for(a=0;a<e.length;a++)s=t.b=e[a],o=We(s,r,!1,t)&&o;return o},Ve.prototype.va=function(){if(Ve.ob.va.call(this),this.l){var t,e=this.l;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,_e(n[r]);delete e.a[t],e.b--}}this.Va=null},t=Qe.prototype,t.S=function(){Ye(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Ye(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Xe(this.b,t)?this.b[t]:e},t.set=function(t,e){Xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Je=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function tn(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof tn){this.f=void 0!==e?e:t.f,en(this,t.c),this.l=t.l,this.b=t.b,nn(this,t.i),this.g=t.g,e=t.a;var n=new vn;n.c=e.c,e.a&&(n.a=new Qe(e.a),n.b=e.b),rn(this,n),this.h=t.h}else t&&(n=String(t).match(Je))?(this.f=!!e,en(this,n[1]||"",!0),this.l=cn(n[2]||""),this.b=cn(n[3]||"",!0),nn(this,n[4]),this.g=cn(n[5]||"",!0),rn(this,n[6]||"",!0),this.h=cn(n[7]||"")):(this.f=!!e,this.a=new vn(null,this.f))}function en(t,e,n){t.c=n?cn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function rn(t,e,n){e instanceof vn?(t.a=e,En(t.a,t.f)):(n||(e=hn(e,mn)),t.a=new vn(e,t.f))}function on(t,e,n){t.a.set(e,n)}function an(t,e){return t.a.get(e)}function sn(t){return t instanceof tn?new tn(t):new tn(t,void 0)}function un(t,e){var n=new tn(null,void 0);return en(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function cn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hn(t,e,n){return i(t)?(t=encodeURI(t).replace(e,ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ln(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}tn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(hn(e,fn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(hn(e,fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(hn(n,"/"==n.charAt(0)?pn:dn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",hn(n,yn)),t.join("")};var fn=/[#\/\?@]/g,dn=/[#\?:]/g,pn=/[#\?]/g,mn=/[#\?@]/g,yn=/#/g;function vn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gn(t){t.a||(t.a=new Qe,t.b=0,t.c&&Ze(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function bn(t){var e=Ge(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new vn(null,void 0);t=He(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];c(o)?Sn(n,i,o):n.add(i,o)}return n}function wn(t,e){gn(t),e=Tn(t,e),Xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Xe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ye(t)))}function _n(t,e){return gn(t),e=Tn(t,e),Xe(t.a.b,e)}function Sn(t,e,n){wn(t,e),0<n.length&&(t.c=null,t.a.set(Tn(t,e),B(n)),t.b+=n.length)}function Tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function En(t,e){e&&!t.f&&(gn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(wn(this,e),Sn(this,n,t))},t)),t.f=e}t=vn.prototype,t.add=function(t,e){gn(this),this.c=null,t=Tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){gn(this),this.a.forEach(function(n,r){R(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){gn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){gn(this);var e=[];if(i(t))_n(this,t)&&(e=q(e,this.a.get(Tn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=q(e,t[n])}return e},t.set=function(t,e){return gn(this),this.c=null,t=Tn(this,t),_n(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t=t?this.S(t):[],0<t.length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var In=!Jt||9<=Number(se);function kn(){this.a="",this.b=Cn}function An(t){return t instanceof kn&&t.constructor===kn&&t.b===Cn?t.a:(I("expected object of type Const, got '"+t+"'"),"type_error:Const")}kn.prototype.na=!0,kn.prototype.ma=function(){return this.a},kn.prototype.toString=function(){return"Const{"+this.a+"}"};var Cn={};function Dn(t){var e=new kn;return e.a=t,e}function On(){this.a="",this.b=Pn}function Nn(t){return t instanceof On&&t.constructor===On&&t.b===Pn?t.a:(I("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function xn(t,e){var n=An(t);if(!Mn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Rn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof kn?An(t):encodeURIComponent(String(t))}),Ln(t)}Dn(""),On.prototype.na=!0,On.prototype.ma=function(){return this.a},On.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Rn=/%{(\w+)}/g,Mn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Pn={};function Ln(t){var e=new On;return e.a=t,e}function jn(){this.a="",this.b=qn}function Fn(t){return t instanceof jn&&t.constructor===jn&&t.b===qn?t.a:(I("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}jn.prototype.na=!0,jn.prototype.ma=function(){return this.a},jn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Un=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Vn(t){return t instanceof jn?t:(t=t.na?t.ma():String(t),Un.test(t)||(t="about:invalid#zClosurez"),Bn(t))}var qn={};function Bn(t){var e=new jn;return e.a=t,e}function Wn(){this.a="",this.b=$n}function Kn(t){return t instanceof Wn&&t.constructor===Wn&&t.b===$n?t.a:(I("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}Bn("about:blank"),Wn.prototype.na=!0,Wn.prototype.ma=function(){return this.a},Wn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $n={};function Hn(t){var e=new Wn;return e.a=t,e}function Gn(t){var e=document;return i(t)?e.getElementById(t):t}function zn(t,e){ot(e,function(e,n){e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Qn.hasOwnProperty(n)?t.setAttribute(Qn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Hn("<!DOCTYPE html>"),Hn(""),Hn("<br>");var Qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Yn(t,e,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!In&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',$(s.name),'"'),s.type){a.push(' type="',$(s.type),'"');var u={};lt(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(i(s)?a.className=s:c(s)?a.className=s.join(" "):zn(a,s)),2<r.length&&Xn(o,a,r),a}function Xn(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!h(a)||f(a)&&0<a.nodeType?r(a):R(Jn(a)?B(a):a,r)}}function Jn(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(l(t))return"function"==typeof t.item}return!1}function Zn(t){var e=[];return er(new tr,t,e),e.join("")}function tr(){}function er(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(c(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),er(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),ir(r,n),n.push(":"),er(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ir(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e}),'"')}function or(){var t=Dr();return Jt&&!!se&&11==se||/Edge\/\d+/.test(t)}function ar(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function sr(t,e){e=e||n.window;var r="about:blank";t&&(r=Fn(Vn(t))),e.location.href=r}function ur(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<ur(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function cr(){var t=Dr();return t=kr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!Jt||!se||9<se)}function hr(t){return t=(t||Dr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||n.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Dr().toLowerCase(),r&&(e.target=r,tt(n,"crios/")&&(e.target="_blank")),kr(Dr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof jn?n:Vn("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof jn||e instanceof jn||(e=e.na?e.ma():String(e),Un.test(e)||(e="about:invalid#zClosurez"),e=Bn(e)),a.href=Fn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Fn(e),a&&(te&&tt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,Dn("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$(t)+'">',t=Hn(t),a.document.write(Kn(t)),a.document.close())):(a=r.open(Fn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}function dr(t){return new bt(function(e){function n(){$e(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new bt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},Oe(window,"load",t))}).s(function(e){throw Ne(window,"load",t),e})}function vr(){return gr(void 0)?yr().then(function(){return new bt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))}function gr(t){return t=t||Dr(),!("file:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return"object"!==typeof n.window&&"function"===typeof n.importScripts}function _r(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Sr(){var t=_r();return"ReactNative"===t||"Node"===t}function Tr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var Er="Firefox",Ir="Chrome";function kr(t){var e=t.toLowerCase();return tt(e,"opera/")||tt(e,"opr/")||tt(e,"opios/")?"Opera":tt(e,"iemobile")?"IEMobile":tt(e,"msie")||tt(e,"trident/")?"IE":tt(e,"edge/")?"Edge":tt(e,"firefox/")?Er:tt(e,"silk/")?"Silk":tt(e,"blackberry")?"Blackberry":tt(e,"webos")?"Webos":!tt(e,"safari/")||tt(e,"chrome/")||tt(e,"crios/")||tt(e,"android")?!tt(e,"chrome/")&&!tt(e,"crios/")||tt(e,"edge/")?tt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Ar={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=_r(),"Browser"===r?(i=Dr(),r=kr(i)):"Worker"===r&&(i=Dr(),r=kr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Dr(){return n.navigator&&n.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function Nr(){try{var t=n.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!n.indexedDB}catch(r){return wr()&&!!n.indexedDB}return!1}function xr(){return(Rr()||"chrome-extension:"===Mr()||gr())&&!Sr()&&Nr()&&!wr()}function Rr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return n.location&&n.location.protocol||null}function Pr(t){return t=t||Dr(),!hr(t)&&kr(t)!=Er}function Lr(t){return"undefined"===typeof t?null:Zn(t)}function jr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return t=t||Dr(),"Safari"!=kr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Dr(),e=_r(),this.b=hr(t)||"ReactNative"===e}function Wr(){var t=n.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(){var t=n.document,e=null;return Wr()||!t?kt():new bt(function(n){e=function(){Wr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function $r(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Or("fireauth.oauthhelper",n)&&!Or("fireauth.iframe",n))}function Gr(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function zr(){var t=n.navigator;return t&&t.serviceWorker?kt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):kt(null)}Br.prototype.get=function(){var t=n.navigator;return!t||"boolean"!==typeof t.onLine||!Rr()&&"chrome-extension:"!==Mr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Yr={};function Xr(t){Yr[t]||(Yr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Jr.abcd}catch(_f){Qr=!1}function Zr(t,e,n){Qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ti(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Zr(t,n,e[n])}function ei(t){var e={};return ti(e,t),e}function ni(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ri(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function ii(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Zr(e,n,ii(t[n]));return e}function oi(t){var e={},n=t[si],r=t[ui];if(t=t[ci],!t||t!=ai&&!n)throw Error("Invalid provider user info!");e[li]=r||null,e[hi]=n||null,Zr(this,di,t),Zr(this,fi,ii(e))}var ai="EMAIL_SIGNIN",si="email",ui="newEmail",ci="requestType",hi="email",li="fromEmail",fi="data",di="operation";function pi(t,e){this.code=yi+t,this.message=e||vi[t]||""}function mi(t){var e=t&&t.code;return e?new pi(e.substring(yi.length),t.message):null}w(pi,Error),pi.prototype.C=function(){return{code:this.code,message:this.message}},pi.prototype.toJSON=function(){return this.C()};var yi="auth/",vi={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function gi(t){var e=t[Ti];if("undefined"===typeof e)throw new pi("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new pi("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[bi];if(n&&"object"===typeof n){e=n[ki];var r=n[Ei];if(n=n[Ii],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new pi("argument-error",Ei+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new pi("argument-error",Ii+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new pi("argument-error",ki+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new pi("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new pi("argument-error",bi+" property must be a non null object when specified.");if(this.f=null,(e=t[Si])&&"object"===typeof e){if(e=e[Ai],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new pi("argument-error",Ai+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new pi("argument-error",Si+" property must be a non null object when specified.");if(e=t[_i],"undefined"!==typeof e&&"boolean"!==typeof e)throw new pi("argument-error",_i+" property must be a boolean when specified.");if(this.c=!!e,t=t[wi],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new pi("argument-error",wi+" property must be a non empty string when specified.");this.i=t||null}var bi="android",wi="dynamicLinkDomain",_i="handleCodeInApp",Si="iOS",Ti="url",Ei="installApp",Ii="minimumVersion",ki="packageName",Ai="bundleId";function Ci(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function Di(t){return P(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}var Oi=null,Ni=null;function xi(t){var e="";return Ri(t,function(t){e+=String.fromCharCode(t)}),e}function Ri(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ni[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Mi();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Mi(){if(!Oi){Oi={},Ni={};for(var t=0;65>t;t++)Oi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ni[Oi[t]]=t,62<=t&&(Ni["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Pi(t){this.c=t.sub,b(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Li(t){return(t=ji(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Pi(t):null}function ji(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(xi(t))}catch(r){}return null}Pi.prototype.f=function(){return this.b};var Fi,Ui={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Vi(t){for(var e in Ui)if(Ui[e].id===t)return t=Ui[e],{firebaseEndpoint:t.ab,secureTokenEndpoint:t.ib};return null}Fi=Vi("__EID__")?"__EID__":void 0;var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Wi={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:Bi},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:Bi},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:Bi},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:qi}};function Ki(t){for(var e in Wi)if(Wi[e].Na==t)return Wi[e];return null}function $i(t){var e={};e["facebook.com"]=Yi,e["google.com"]=Ji,e["github.com"]=Xi,e["twitter.com"]=Zi;var n=t&&t[Gi];try{if(n)return e[n]?new e[n](t):new Qi(t);if("undefined"!==typeof t[Hi])return new zi(t)}catch(r){}return null}var Hi="idToken",Gi="providerId";function zi(t){var e=t[Gi];if(!e&&t[Hi]){var n=Li(t[Hi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Zr(this,"providerId",e),Zr(this,"isNewUser",n)}function Qi(t){zi.call(this,t),t=Fr(t.rawUserInfo||"{}"),Zr(this,"profile",ii(t||{}))}function Yi(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",t.screenName||null)}function to(t){this.a=sn(t)}function eo(t){var e=sn(t),n=an(e,"link"),r=an(sn(n),"link");return e=an(e,"deep_link_id"),an(sn(e),"link")||e||r||n||t}function no(t,e){return t.then(function(t){if(t[Wa]){var n=Li(t[Wa]);if(!n||e!=n.c)throw new pi("user-mismatch");return t}throw new pi("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==yi+"user-not-found"?new pi("user-mismatch"):t})}function ro(t,e){if(!e)throw new pi("internal-error","failed to construct a credential");this.a=e,Zr(this,"providerId",t),Zr(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Zr(this,"idToken",e.idToken),e.accessToken&&Zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new pi("internal-error","failed to construct a credential");Zr(this,"accessToken",e.oauthToken),Zr(this,"secret",e.oauthTokenSecret)}Zr(this,"providerId",t),Zr(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:bn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function so(t,e){this.Dc=e||[],ti(this,{providerId:t,isOAuthProvider:!0}),this.yb={},this.cb=(Ki(t)||{}).Ma||null,this.$a=null}function uo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new pi("argument-error",'SAML provider IDs must be prefixed with "saml."');so.call(this,t,[])}function co(t){so.call(this,t,Bi),this.a=[]}function ho(){co.call(this,"facebook.com")}function lo(t){if(!t)throw new pi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new ho).credential(null,e)}function fo(){co.call(this,"github.com")}function po(t){if(!t)throw new pi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new fo).credential(null,e)}function mo(){co.call(this,"google.com"),this.ua("profile")}function yo(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new mo).credential(n,e)}function vo(){so.call(this,"twitter.com",qi)}function go(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new pi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function bo(t,e,n){this.a=t,this.c=e,Zr(this,"providerId","password"),Zr(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function wo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function _o(t,e){if(e=So(e),!e)throw new pi("argument-error","Invalid email link!");return new bo(t,e,wo.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){t=eo(t),t=new to(t);var e=an(t.a,"oobCode")||null;return"signIn"===(an(t.a,"mode")||null)&&e?e:null}function To(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new pi("internal-error");this.a=t,Zr(this,"providerId","phone"),Zr(this,"signInMethod","phone")}function Eo(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function Io(t){try{this.a=t||r.a.auth()}catch(e){throw new pi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function ko(t,e){if(!t)throw new pi("missing-verification-id");if(!e)throw new pi("missing-verification-code");return new To({Ta:t,Sa:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new To({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return yo(o,n);case"facebook.com":return lo(n);case"github.com":return po(n);case"twitter.com":return go(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ro(e,a):new oo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new co(e).credential(o,n,i):null}}catch(s){return null}}function Co(t){if(!t.isOAuthProvider)throw new pi("invalid-oauth-provider")}function Do(t,e,n,r,i,o){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.h=o||null,this.a=i||null,!this.f&&!this.a)throw new pi("invalid-auth-event");if(this.f&&this.a)throw new pi("invalid-auth-event");if(this.f&&!this.g)throw new pi("invalid-auth-event")}function Oo(t){return t=t||{},t.type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&mi(t.error),t.postBody):null}function No(){this.b=null,this.a=[]}w(Qi,zi),w(Yi,Qi),w(Xi,Qi),w(Ji,Qi),w(Zi,Qi),ro.prototype.la=function(t){return ms(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,ys(t,n)},ro.prototype.f=function(t,e){return no(vs(t,io(this)),e)},ro.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.la=function(t){return ms(t,ao(this))},oo.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ys(t,n)},oo.prototype.f=function(t,e){var n=ao(this);return no(vs(t,n),e)},oo.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},so.prototype.Da=function(t){return this.yb=st(t),this},w(uo,so),w(co,so),co.prototype.ua=function(t){return F(this.a,t)||this.a.push(t),this},co.prototype.Eb=function(){return B(this.a)},co.prototype.credential=function(t,e,n){if(!t&&!e)throw new pi("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,{idToken:t||null,accessToken:e||null,nonce:n||null},this.providerId)},w(ho,co),Zr(ho,"PROVIDER_ID","facebook.com"),Zr(ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(fo,co),Zr(fo,"PROVIDER_ID","github.com"),Zr(fo,"GITHUB_SIGN_IN_METHOD","github.com"),w(mo,co),Zr(mo,"PROVIDER_ID","google.com"),Zr(mo,"GOOGLE_SIGN_IN_METHOD","google.com"),w(vo,so),Zr(vo,"PROVIDER_ID","twitter.com"),Zr(vo,"TWITTER_SIGN_IN_METHOD","twitter.com"),bo.prototype.la=function(t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Hs(t,Is,{email:this.a,oobCode:this.c}):Hs(t,Bs,{email:this.a,password:this.c})},bo.prototype.b=function(t,e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Hs(t,ks,{idToken:e,email:this.a,oobCode:this.c}):Hs(t,Ls,{idToken:e,email:this.a,password:this.c})},bo.prototype.f=function(t,e){return no(this.la(t),e)},bo.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},ti(wo,{PROVIDER_ID:"password"}),ti(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),To.prototype.la=function(t){return t.Ua(Eo(this))},To.prototype.b=function(t,e){var n=Eo(this);return n.idToken=e,Hs(t,Ks,n)},To.prototype.f=function(t,e){var n=Eo(this);return n.operation="REAUTH",t=Hs(t,$s,n),no(t,e)},To.prototype.C=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Io.prototype.Ua=function(t,e){var n=this.a.b;return kt(e.verify()).then(function(r){if(!i(r))throw new pi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return hs(n,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new pi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},ti(Io,{PROVIDER_ID:"phone"}),ti(Io,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var xo,Ro=null;function Mo(t){var e="unauthorized-domain",n=void 0,r=sn(t);t=r.b,r=r.c,"chrome-extension"==r?n=W("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=W("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",pi.call(this,e,n)}function Po(t,e,n){pi.call(this,t,n),t=e||{},t.zb&&Zr(this,"email",t.zb),t.$&&Zr(this,"phoneNumber",t.$),t.credential&&Zr(this,"credential",t.credential)}function Lo(t){if(t.code){var e=t.code||"";0==e.indexOf(yi)&&(e=e.substring(yi.length));var n={credential:Ao(t)};if(t.email)n.zb=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new pi(e,t.message||void 0);return new Po(e,n,t.message)}return null}function jo(){}function Fo(t){return t.c||(t.c=t.b())}function Uo(){}function Vo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function qo(){}function Bo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=v(this.ec,this),this.a.onerror=v(this.Fb,this),this.a.onprogress=v(this.fc,this),this.a.ontimeout=v(this.ic,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}No.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=Or("universalLinks.subscribe",n),"function"===typeof t&&t(null,this.b))},No.prototype.unsubscribe=function(t){V(this.a,function(e){return e==t})},w(Mo,pi),w(Po,pi),Po.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&lt(t,e),t},Po.prototype.toJSON=function(){return this.C()},jo.prototype.c=null,w(Uo,jo),Uo.prototype.a=function(){var t=Vo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Uo.prototype.b=function(){var t={};return Vo(this)&&(t[0]=!0,t[1]=!0),t},xo=new Uo,w(qo,jo),qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Bo;throw Error("Unsupported browser")},qo.prototype.b=function(){return{}},t=Bo.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,Wo(this,4)},t.Fb=function(){this.status=500,this.responseText="",Wo(this,4)},t.ic=function(){this.Fb()},t.fc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null;function $o(t){this.f=t,this.b=this.c=this.a=null}function Ho(t,e){this.name=t,this.value=e}Ko.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||b(),delete this.a},Ho.prototype.toString=function(){return this.name};var Go=new Ho("SEVERE",1e3),zo=new Ho("WARNING",900),Qo=new Ho("CONFIG",700),Yo=new Ho("FINE",500);function Xo(t){return t.c?t.c:t.a?Xo(t.a):(I("Root logger has no level set."),null)}$o.prototype.log=function(t,e,n){if(t.value>=Xo(this).value)for(l(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Jo={},Zo=null;function ta(t){var e;if(Zo||(Zo=new $o(""),Jo[""]=Zo,Zo.c=Qo),!(e=Jo[t])){e=new $o(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=ta(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,Jo[t]=e}return e}function ea(t,e){t&&t.log(Yo,e,void 0)}function na(t){this.f=t}function ra(t){Ve.call(this),this.i=t,this.readyState=ia,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ta("goog.net.FetchXmlHttp")}w(na,jo),na.prototype.a=function(){return new ra(this.f)},na.prototype.b=function(t){return function(){return t}}({}),w(ra,Ve);var ia=0;function oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function aa(t){Ve.call(this),this.headers=new Qe,this.D=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=sa,this.v=this.O=!1}t=ra.prototype,t.open=function(t,e){if(this.readyState!=ia)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,oa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Gb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,oa(this)),this.readyState=ia},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,oa(this)),this.a&&(this.readyState=3,oa(this),this.a&&t.text().then(this.gc.bind(this,t),this.Gb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,oa(this))},t.Gb=function(t){var e=this.f;e&&e.log(zo,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,oa(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(zo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(zo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},w(aa,Ve);var sa="";aa.prototype.b=ta("goog.net.XhrIo");var ua=/^https?$/i,ca=["POST","PUT"];function ha(t,e,r,i,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);r=r?r.toUpperCase():"GET",t.m=e,t.h="",t.N=r,t.G=!1,t.c=!0,t.a=t.D?t.D.a():xo.a(),t.w=t.D?Fo(t.D):Fo(xo),t.a.onreadystatechange=v(t.Jb,t);try{ea(t.b,_a(t,"Opening Xhr")),t.I=!0,t.a.open(r,String(e),!0),t.I=!1}catch(s){return ea(t.b,_a(t,"Error opening Xhr: "+s.message)),void da(t,s)}e=i||"";var a=new Qe(t.headers);o&&ze(o,function(t,e){a.set(e,t)}),o=j(a.U()),i=n.FormData&&e instanceof n.FormData,!F(ca,r)||o||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{va(t),0<t.g&&(t.v=la(t.a),ea(t.b,_a(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=v(t.Ga,t)):t.u=Ke(t.Ga,t.g,t)),ea(t.b,_a(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ea(t.b,_a(t,"Send error: "+s.message)),da(t,s)}}function la(t){return Jt&&ce(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function fa(t){return"content-type"==t.toLowerCase()}function da(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,pa(t),ya(t)}function pa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ma(t){if(t.c&&"undefined"!=typeof e)if(t.w[1]&&4==ga(t)&&2==ba(t))ea(t.b,_a(t,"Local request error detected and ignored"));else if(t.i&&4==ga(t))Ke(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==ga(t)){ea(t.b,_a(t,"Request complete")),t.c=!1;try{var r,i=ba(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.m).match(Je)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!ua.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ga(t)?t.a.statusText:""}catch(h){ea(t.b,"Can not get status: "+h.message),c=""}t.h=c+" ["+ba(t)+"]",pa(t)}}finally{ya(t)}}}function ya(t,e){if(t.a){va(t);var n=t.a,r=t.w[0]?a:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Go,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function va(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function ga(t){return t.a?t.a.readyState:0}function ba(t){try{return 2<ga(t)?t.a.status:-1}catch(e){return-1}}function wa(t){try{return t.a?t.a.responseText:""}catch(e){return ea(t.b,"Can not get responseText: "+e.message),""}}function _a(t,e){return e+" ["+t.N+" "+t.m+" "+ba(t)+"]"}function Sa(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(t,e,n){t.a=!0,t.c=n,t.f=!e,Ca(t)}function Ea(t){if(t.a){if(!t.m)throw new Da(t);t.m=!1}}function Ia(t,e){ka(t,null,e,void 0)}function ka(t,e,n,r){t.g.push([e,n,r]),t.a&&Ca(t)}function Aa(t){return L(t.g,function(t){return l(t[1])})}function Ca(t){if(t.h&&t.a&&Aa(t)){var e=t.h,r=xa[e];r&&(n.clearTimeout(r.a),delete xa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(S(e)||"function"===typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(c){e=c,t.f=!0,Aa(t)||(r=!0)}}t.c=e,i&&(u=v(t.o,t,!0),i=v(t.o,t,!1),e instanceof Sa?(ka(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new Na(e),xa[e.a]=e,t.h=e.a)}function Da(){T.call(this)}function Oa(){T.call(this)}function Na(t){this.a=n.setTimeout(v(this.c,this),0),this.b=t}t=aa.prototype,t.Ga=function(){"undefined"!=typeof e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ea(this.b,_a(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ea(this.b,_a(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ya(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ya(this,!0)),aa.ob.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?ma(this):this.wc())},t.wc=function(){ma(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Go,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return ea(this.b,"Can not get response: "+e.message),null}},Sa.prototype.cancel=function(t){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new Oa(this),Ea(this),Ta(this,!1,t))}},Sa.prototype.o=function(t,e){this.i=!1,Ta(this,t,e)},Sa.prototype.D=function(){Ea(this),Ta(this,!0,null)},Sa.prototype.then=function(t,e,n){var r,i,o=new bt(function(t,e){r=t,i=e});return ka(this,r,function(t){t instanceof Oa?o.cancel():i(t)}),o.then(t,e,n)},_(Sa),w(Da,T),Da.prototype.message="Deferred has already fired",Da.prototype.name="AlreadyCalledError",w(Oa,T),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",Na.prototype.c=function(){throw delete xa[this.a],this.b};var xa={};function Ra(t){var e={},n=e.document||document,r=Nn(t),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},a=new Sa(Pa,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){La(i,!0);var t=new Ua(Fa,"Timeout reached for loading script "+r);Ea(a),Ta(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(La(i,e.fd||!1,s),a.D())},i.onerror=function(){La(i,!0,s);var t=new Ua(ja,"Error while loading script "+r);Ea(a),Ta(a,!1,t)},o=e.attributes||{},lt(o,{type:"text/javascript",charset:"UTF-8"}),zn(i,o),i.src=Nn(t),Ma(n).appendChild(i),a}function Ma(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Pa(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&La(t,!0,this.Ga)}}function La(t,e,r){null!=r&&n.clearTimeout(r),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var ja=0,Fa=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),T.call(this,n),this.code=t}function Va(t){this.f=t}function qa(t,e,i){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Ka,this.f=st(t.secureTokenHeaders||$a),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Ha,this.a=st(t.firebaseHeaders||Ga),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==_r(),i=n.XMLHttpRequest||i&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest,!i&&!wr())throw new pi("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,wr()?this.c=new na(self):Sr()?this.c=new Va(i):this.c=new qo}w(Ua,T),w(Va,jo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var Ba,Wa="idToken",Ka=new Br(3e4,6e4),$a={"Content-Type":"application/x-www-form-urlencoded"},Ha=new Br(3e4,6e4),Ga={"Content-Type":"application/json"};function za(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Ya(t,e,n,r,i,o,a){cr()||wr()?t=v(t.o,t):(Ba||(Ba=new bt(function(t,e){Za(t,e)})),t=v(t.m,t)),t(e,n,r,i,o,a)}qa.prototype.o=function(t,e,r,i,o,a){if(wr()&&("undefined"===typeof n.fetch||"undefined"===typeof n.Headers||"undefined"===typeof n.Request))throw new pi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new aa(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}qe(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(wa(this))||null}catch(n){t=null}e&&e(t)}),Be(s,"ready",function(){u&&clearTimeout(u),Gt(this)}),Be(s,"timeout",function(){u&&clearTimeout(u),Gt(this),e&&e(null)}),ha(s,t,r,i,o)};var Xa=Dn("https://apis.google.com/js/client.js?onload=%{onload}"),Ja="__fcb"+Math.floor(1e6*Math.random()).toString();function Za(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Ja]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=xn(Xa,{onload:Ja});Ia(Ra(r),function(){e(Error("CORS_UNSUPPORTED"))})}}function ts(t,e){return new bt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ya(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(zs(t)):t.access_token&&t.refresh_token?n(t):r(new pi("internal-error")):r(new pi("network-request-failed"))},"POST",bn(e).toString(),t.f,t.l.get()):r(new pi("internal-error"))})}function es(t,e,n,r,i,o){var a=sn(t.g+e);on(a,"key",t.b),o&&on(a,"cb",b().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&on(a,u,r[u]);return new bt(function(e,o){Ya(t,a.toString(),function(t){t?t.error?o(zs(t,i||{})):e(t):o(new pi("network-request-failed"))},n,s?void 0:Zn(jr(r)),t.a,t.h.get())})}function ns(t){if(t=t.email,!i(t)||!mr.test(t))throw new pi("invalid-email")}function rs(t){"email"in t&&ns(t)}function is(t,e){return Hs(t,Ss,{identifier:e,continueUri:Rr()?ar():"http://localhost"}).then(function(t){return t.allProviders||[]})}function os(t,e){return Hs(t,Ss,{identifier:e,continueUri:Rr()?ar():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function as(t){return Hs(t,Ns,{}).then(function(t){return t.authorizedDomains||[]})}function ss(t){if(!t[Wa])throw new pi("internal-error")}function us(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new pi("internal-error")}else{if(!t.sessionInfo)throw new pi("missing-verification-id");if(!t.code)throw new pi("missing-verification-code")}}qa.prototype.m=function(t,e,n,r,i){var o=this;Ba.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},qa.prototype.Qa=function(){return Hs(this,js,{})},qa.prototype.pb=function(t,e){return Hs(this,Ps,{idToken:t,email:e})},qa.prototype.qb=function(t,e){return Hs(this,Ls,{idToken:t,password:e})};var cs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function hs(t,e){return Hs(t,Ms,e)}function ls(t,e,n){return Hs(t,Es,{idToken:e,deleteProvider:n})}function fs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new pi("internal-error")}function ds(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new vn(t.postBody),_n(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function ps(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Lo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Lo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Lo(t)):t.errorMessage&&(e=Gs(t.errorMessage)),e)throw e;if(!t[Wa])throw new pi("internal-error")}function ms(t,e){return e.returnIdpCredential=!0,Hs(t,Fs,e)}function ys(t,e){return e.returnIdpCredential=!0,Hs(t,Vs,e)}function vs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Hs(t,Us,e)}function gs(t){if(!t.oobCode)throw new pi("invalid-action-code")}t=qa.prototype,t.rb=function(t,e){var n={idToken:t},r=[];return ot(cs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Hs(this,Ps,n)},t.kb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},lt(t,e),Hs(this,Os,t)},t.lb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},lt(t,e),Hs(this,Cs,t)},t.jb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},lt(t,e),Hs(this,Ds,t)},t.Ua=function(t){return Hs(this,Ws,t)},t.Za=function(t,e){return Hs(this,Rs,{oobCode:t,newPassword:e})},t.Ja=function(t){return Hs(this,ws,{oobCode:t})},t.Wa=function(t){return Hs(this,bs,{oobCode:t})};var bs={endpoint:"setAccountInfo",B:gs,da:"email"},ws={endpoint:"resetPassword",B:gs,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new pi("internal-error")}},_s={endpoint:"signupNewUser",B:function(t){if(ns(t),!t.password)throw new pi("weak-password")},J:ss,R:!0},Ss={endpoint:"createAuthUri"},Ts={endpoint:"deleteAccount",T:["idToken"]},Es={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!c(t.deleteProvider))throw new pi("internal-error")}},Is={endpoint:"emailLinkSignin",T:["email","oobCode"],B:ns,J:ss,R:!0},ks={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:ns,J:ss,R:!0},As={endpoint:"getAccountInfo"},Cs={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new pi("internal-error");ns(t)},da:"email"},Ds={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new pi("internal-error")},da:"email"},Os={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new pi("internal-error");ns(t)},da:"email"},Ns={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},xs={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new pi("internal-error")}},Rs={endpoint:"resetPassword",B:gs,da:"email"},Ms={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ps={endpoint:"setAccountInfo",T:["idToken"],B:rs,R:!0},Ls={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(rs(t),!t.password)throw new pi("weak-password")},J:ss,R:!0},js={endpoint:"signupNewUser",J:ss,R:!0},Fs={endpoint:"verifyAssertion",B:fs,Oa:ds,J:ps,R:!0},Us={endpoint:"verifyAssertion",B:fs,Oa:ds,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new pi("user-not-found");if(t.errorMessage)throw Gs(t.errorMessage);if(!t[Wa])throw new pi("internal-error")},R:!0},Vs={endpoint:"verifyAssertion",B:function(t){if(fs(t),!t.idToken)throw new pi("internal-error")},Oa:ds,J:ps,R:!0},qs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new pi("invalid-custom-token")},J:ss,R:!0},Bs={endpoint:"verifyPassword",B:function(t){if(ns(t),!t.password)throw new pi("wrong-password")},J:ss,R:!0},Ws={endpoint:"verifyPhoneNumber",B:us,J:ss},Ks={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new pi("internal-error");us(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Lo(t);ss(t)}},$s={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:us,J:ss};function Hs(t,e,n){if(!ri(n,e.T))return At(new pi("internal-error"));var r,i=e.Ib||"POST";return kt(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),es(t,e.endpoint,i,n,e.Xb,e.ub||!1)}).then(function(t){return r=t,e.Oa?e.Oa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new pi("internal-error");return r[e.da]})}function Gs(t){return zs({error:{errors:[{message:t}],code:400,message:t}})}function zs(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new pi(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},lt(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new pi(r[i],e);return!e&&t&&(e=Lr(t)),new pi("internal-error",e)}function Qs(t){this.b=t,this.a=null,this.fb=Ys(this)}function Ys(t){return ru().then(function(){return new bt(function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},eu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function Xs(t,e){return t.fb.then(function(){return new bt(function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Js(t,e){t.fb.then(function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Zs=Dn("https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Br(3e4,6e4),eu=new Br(5e3,15e3),nu=null;function ru(){return nu||(nu=new bt(function(t,e){function r(){qr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:tu.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){Or("gapi.load")?r():e(Error("Network Error"))},i=xn(Zs,{onload:i}),kt(Ra(i)).s(function(){e(Error("Network Error"))})}}).s(function(t){throw nu=null,t}))}function iu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=un(this.i,"/__/auth/iframe"),on(this.a,"apiKey",this.g),on(this.a,"appName",this.h),this.b=null,this.c=[]}function ou(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function au(t){try{return r.a.app(t).auth().ya()}catch(e){return[]}}function su(t,e,n,r,i){this.m=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function uu(t){var e=ar();return as(t).then(function(t){t:{var n=sn(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=sn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Mo(ar())})}function cu(t){return t.l?t.l:(t.l=yr().then(function(){if(!t.u){var e=t.c,n=t.h,r=au(t.b),i=new iu(t.m,t.f,t.b);i.f=e,i.b=n,i.c=B(r||[]),t.u=i.toString()}t.i=new Qs(t.u),fu(t)}),t.l)}function hu(t){return t.o||(t.v=t.c?Cr(t.c,au(t.b)):null,t.o=new qa(t.f,Vi(t.h),t.v)),t.o}function lu(t,e,n,r,i,o,a,s,u,c){return t=new ou(t,e,n,r,i),t.i=o,t.g=a,t.h=s,t.b=st(u||null),t.f=c,t.toString()}function fu(t){if(!t.i)throw Error("IfcHandler must be initialized!");Js(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Oo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)})}function du(t){var e={type:"webStorageSupport"};return cu(t).then(function(){return Xs(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function pu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new pi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mu(t){this.b=t,this.a={},this.c=v(this.f,this)}iu.prototype.toString=function(){return this.f?on(this.a,"v",this.f):wn(this.a.a,"v"),this.b?on(this.a,"eid",this.b):wn(this.a.a,"eid"),this.c.length?on(this.a,"fw",this.c.join(",")):wn(this.a.a,"fw"),this.a.toString()},ou.prototype.toString=function(){var t=un(this.o,"/__/auth/handler");if(on(t,"apiKey",this.m),on(t,"appName",this.c),on(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(u){n=null}for(var i in e.$a=n,on(t,"providerId",this.a.providerId),e=this.a,n=jr(e.yb),n)n[i]=n[i].toString();i=e.Dc,n=st(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.cb&&e.$a&&!n[e.cb]&&(n[e.cb]=e.$a),at(n)||on(t,"customParameters",Lr(n))}if("function"===typeof this.a.Eb&&(e=this.a.Eb(),e.length&&on(t,"scopes",e.join(","))),this.i?on(t,"redirectUrl",this.i):wn(t.a,"redirectUrl"),this.g?on(t,"eventId",this.g):wn(t.a,"eventId"),this.h?on(t,"v",this.h):wn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!an(t,s)&&on(t,s,this.b[s]);return this.f?on(t,"eid",this.f):wn(t.a,"eid"),s=au(this.c),s.length&&on(t,"fw",s.join(",")),t.toString()},t=su.prototype,t.Ea=function(t,e,n){var r=new pi("popup-closed-by-user"),i=new pi("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){du(o).then(function(n){n||(t&&lr(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return dr(t)}).then(function(){if(!a)return $e(n).then(function(){e(r)})})},t.Mb=function(){var t=Dr();return!Pr(t)&&!Vr(t)},t.Hb=function(){return!1},t.Cb=function(t,e,n,r,i,o,a){if(!t)return At(new pi("popup-blocked"));if(a&&!Pr())return this.ga().s(function(e){lr(t),i(e)}),r(),kt();this.a||(this.a=uu(hu(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw lr(t),i(e),e});return r(),e}).then(function(){if(Co(n),!a){var r=lu(s.m,s.f,s.b,e,n,null,o,s.c,void 0,s.h);sr(r,t)}}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=uu(hu(this)));var r=this;return this.a.then(function(){Co(e);var i=lu(r.m,r.f,r.b,t,e,ar(),n,r.c,void 0,r.h);sr(i)}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return cu(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new pi("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){V(this.g,function(e){return e==t})},t=pu.prototype,t.get=function(t){return kt(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return kt(this.a.setItem(t,Lr(e)))},t.P=function(t){return kt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var yu,vu=[];function gu(){var t=wr()?self:null;if(R(vu,function(n){n.b==t&&(e=n)}),!e){var e=new mu(t);vu.push(e)}return e}function bu(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return At(Error("connection_unavailable"));var h=r?800:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null;return new bt(function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},h),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:l,onMessage:o},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))}).then(function(e){return Su(t,c),e}).s(function(e){throw Su(t,c),e})}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),V(t.a,function(t){return t==e})}}function Tu(){if(!Au())throw new pi("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;wr()&&self?(this.l=gu(),this.l.subscribe("keyChanged",function(e,n){return xu(t).then(function(e){return 0<e.length&&R(t.a,function(t){t(e)}),{keyProcessed:F(e,n.key)}})}),this.l.subscribe("ping",function(){return kt(["keyChanged"])})):zr().then(function(e){(t.h=e)&&(t.g=new wu(new bu(e)),_u(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&F(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Eu(t){return new bt(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}function Iu(t){return new bt(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Eu(t).then(function(){return Iu(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function ku(t){return t.o||(t.o=Iu(t)),t.o}function Au(){try{return!!n.indexedDB}catch(_f){return!1}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new bt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Nu(t,e){return t.g&&t.h&&Gr()===t.h?_u(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):kt()}function xu(t){return ku(t).then(function(t){var e=Cu(Du(t,!1));return e.getAll?Ou(e.getAll()):new bt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=ur(t.c,n),t.c=n}return r})}function Ru(t){function e(){t.f=setTimeout(function(){t.i=xu(t).then(function(e){0<e.length&&R(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}Mu(t),e()}function Mu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=kt().then(function(){if(Au()){var t=Ur(),r="__sak"+t;return yu||(yu=new Tu),n=yu,n.set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){R(e.a,function(e){e(t)})}),t})}function Lu(){this.a={},this.type="inMemory"}function ju(){if(!Uu()){if("Node"==_r())throw new pi("internal-error","The LocalStorage compatibility library was not found.");throw new pi("web-storage-unsupported")}this.a=Fu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Fu(){try{var t=n.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Uu(){var t="Node"==_r();if(t=Fu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Vu(){this.type="nullStorage"}function qu(){if(!Wu()){if("Node"==_r())throw new pi("internal-error","The SessionStorage compatibility library was not found.");throw new pi("web-storage-unsupported")}this.a=Bu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=n.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Wu(){var t="Node"==_r();if(t=Bu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Ku(){var t={};t.Browser=Gu,t.Node=zu,t.ReactNative=Qu,t.Worker=Yu,this.a=t[_r()]}mu.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];R(r,function(e){i.push(kt().then(function(){return e(t.origin,t.data.data)}))}),Ot(i).then(function(r){var i=[];R(r,function(t){i.push({fulfilled:t.Db,value:t.value,reason:t.reason?t.reason.message:void 0})}),R(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},mu.prototype.subscribe=function(t,e){at(this.a)&&this.b.addEventListener("message",this.c),"undefined"===typeof this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},mu.prototype.unsubscribe=function(t,e){"undefined"!==typeof this.a[t]&&e?(V(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],at(this.a)&&this.b.removeEventListener("message",this.c)},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},t=Tu.prototype,t.set=function(t,e){var n,r=!1,i=this;return ku(this).then(function(e){return n=e,e=Cu(Du(n,!0)),Ou(e.get(t))}).then(function(o){var a=Cu(Du(n,!0));return o?(o.value=e,Ou(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,Ou(a.add(o)))}).then(function(){return i.c[t]=e,Nu(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return ku(this).then(function(e){return Ou(Cu(Du(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return ku(this).then(function(r){return e=!0,n.b++,Ou(Cu(Du(r,!0))["delete"](t))}).then(function(){return delete n.c[t],Nu(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&Ru(this),this.a.push(t)},t.ca=function(t){V(this.a,function(e){return e==t}),0==this.a.length&&Mu(this)},t=Pu.prototype,t.get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){V(this.a,function(e){return e==t})},t=Lu.prototype,t.get=function(t){return kt(this.a[t])},t.set=function(t,e){return this.a[t]=e,kt()},t.P=function(t){return delete this.a[t],kt()},t.Y=function(){},t.ca=function(){},t=ju.prototype,t.get=function(t){var e=this;return kt().then(function(){var n=e.a.getItem(t);return Fr(n)})},t.set=function(t,e){var n=this;return kt().then(function(){var r=Lr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return kt().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&Ae(n.window,"storage",t)},t.ca=function(t){n.window&&Ne(n.window,"storage",t)},t=Vu.prototype,t.get=function(){return kt(null)},t.set=function(){return kt()},t.P=function(){return kt()},t.Y=function(){},t.ca=function(){},t=qu.prototype,t.get=function(t){var e=this;return kt().then(function(){var n=e.a.getItem(t);return Fr(n)})},t.set=function(t,e){var n=this;return kt().then(function(){var r=Lr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return kt().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var $u,Hu,Gu={A:ju,Ra:qu},zu={A:ju,Ra:qu},Qu={A:pu,Ra:Vu},Yu={A:ju,Ra:Vu},Xu={Zc:"local",NONE:"none",ad:"session"};function Ju(t){var e=new pi("invalid-persistence-type"),n=new pi("unsupported-persistence-type");t:{for(r in Xu)if(Xu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Nr()&&"none"!==t)throw n}}function Zu(){var t=!(Vr(Dr())||!br()),e=Pr(),r=Nr();this.o=t,this.h=e,this.l=r,this.a={},$u||($u=new Ku),t=$u;try{this.g=!or()&&Hr()||!n.indexedDB?new t.a.A:new Pu(wr()?new Lu:new t.a.A)}catch(i){this.g=new Lu,this.h=!0}try{this.i=new t.a.Ra}catch(i){this.i=new Lu}this.m=new Lu,this.f=v(this.Pb,this),this.b={}}function tc(){return Hu||(Hu=new Zu),Hu}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,r){var i=nc(e,r),o=ec(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=Fr(n.localStorage.getItem(i))}catch(u){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}function ic(t,e,n){return n=nc(e,n),"local"==e.A&&(t.b[n]=null),ec(t,e.A).P(n)}function oc(t){ac(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ye({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Pb(r))}},1e3)}function ac(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=tc()}t=Zu.prototype,t.get=function(t,e){return ec(this,t.A).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=nc(t,e),this.l&&(this.b[t]=n.localStorage.getItem(t)),at(this.a)&&(ec(this,"local").Y(this.f),this.h||(or()||!Hr())&&n.indexedDB||!this.l||oc(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(V(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),at(this.a)&&(ec(this,"local").ca(this.f),ac(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];"undefined"===typeof i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Xa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ec(this,"local").ca(this.f):ac(this),this.o)if(r=n.localStorage.getItem(e),i=t.a.newValue,i!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"===typeof t.a.a)return;var a=this;r=function(){"undefined"===typeof t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Xa(e))},Jt&&se&&10==se&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else R(t,v(this.Xa,this))},t.Xa=function(t){this.a[t]&&R(this.a[t],function(t){t()})};var uc,cc={name:"authEvent",A:"local"};function hc(t){return t.b.get(cc,t.a).then(function(t){return Oo(t)})}function lc(){this.a=tc()}function fc(){this.b=-1}function dc(t,e){this.b=pc,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==uc||(uc=n.Int32Array?new Int32Array(_c):_c),this.reset()}w(dc,fc);for(var pc=64,mc=pc-1,yc=[],vc=0;vc<mc;vc++)yc[vc]=0;var gc=q(128,yc);function bc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&h^~c&l,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|uc[e])|0,a=o+(a+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function wc(t,e,n){void 0===n&&(n=e.length);var r=0,o=t.c;if(i(e))for(;r<n;)t.f[o++]=e.charCodeAt(r++),o==t.b&&(bc(t),o=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var a=e[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(bc(t),o=0)}}t.c=o,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):B(this.h)};var _c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sc(){dc.call(this,8,Tc)}w(Sc,dc);var Tc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(t,e,n,r,i){this.m=t,this.i=e,this.l=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new lc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new pi("invalid-cordova-configuration",t)}function kc(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Ac(t){var e=new Sc;wc(e,t),t=[];var n=8*e.g;56>e.c?wc(e,gc,56-e.c):wc(e,gc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(bc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Di(t)}function Cc(t,e,r,i){var o=kc(),a=new Do(e,i,null,o,new pi("no-auth-event")),s=Or("BuildInfo.packageName",n);if("string"!==typeof s)throw new pi("invalid-cordova-configuration");var u=Or("BuildInfo.displayName",n),c={};if(Dr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Dr().toLowerCase().match(/android/))return At(new pi("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Ac(o),c.sessionId=o;var h=lu(t.m,t.i,t.l,e,r,null,i,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(cc,a.C(),e)}).then(function(){var e=Or("cordova.plugins.browsertab.isAvailable",n);if("function"!==typeof e)throw new pi("invalid-cordova-configuration");var r=null;e(function(e){if(e){if(r=Or("cordova.plugins.browsertab.openUrl",n),"function"!==typeof r)throw new pi("invalid-cordova-configuration");r(h)}else{if(r=Or("cordova.InAppBrowser.open",n),"function"!==typeof r)throw new pi("invalid-cordova-configuration");e=Dr(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(h,e?"_blank":"_system","location=yes")}})})}function Dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Oc(t){return t.f||(t.f=t.ga().then(function(){return new bt(function(e){function n(r){return e(r),t.Ka(n),!1}t.wa(n),xc(t)})})),t.f}function Nc(t){var e=null;return hc(t.g).then(function(n){return e=n,n=t.g,ic(n.b,cc,n.a)}).then(function(){return e})}function xc(t){function e(e){i=!0,o&&o.cancel(),Nc(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;i=eo(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=sn(i),o=Fr(an(o,"firebaseError")||null),o=(o="object"===typeof o?mi(o):null)?new Do(n.b,n.c,null,null,o):new Do(n.b,n.c,i,n.g)),i=o||r}Dc(t,i)})}var r=new Do("unknown",null,null,null,new pi("no-auth-event")),i=!1,o=$e(500).then(function(){return Nc(t).then(function(){i||Dc(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"===typeof a)try{a(t)}catch(r){console.error(r)}},Ro||(Ro=new No),Ro.subscribe(e)}function Rc(t){this.a=t,this.b=tc()}t=Ec.prototype,t.ga=function(){return this.za?this.za:this.za=vr().then(function(){if("function"!==typeof Or("universalLinks.subscribe",n))throw Ic("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Or("BuildInfo.packageName",n))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!==typeof Or("cordova.plugins.browsertab.openUrl",n))throw Ic("cordova-plugin-browsertab is not installed");if("function"!==typeof Or("cordova.InAppBrowser.open",n))throw Ic("cordova-plugin-inappbrowser is not installed")},function(){throw new pi("cordova-not-ready")})},t.Ea=function(t,e){return e(new pi("operation-not-supported-in-this-environment")),kt()},t.Cb=function(){return At(new pi("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return At(new pi("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=kt().then(function(){return Co(e),Oc(i)}).then(function(){return Cc(i,t,e,r)}).then(function(){return new bt(function(t,e){s=function(){var e=Or("cordova.plugins.browsertab.close",n);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(s),u=function(){a||(a=$e(2e3).then(function(){e(new pi("redirect-cancelled-by-user"))}))},c=function(){Wr()&&u()},o.addEventListener("resume",u,!1),Dr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Nc(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.wa=function(t){this.b.push(t),Oc(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new pi("no-auth-event")),t(e))})},t.Ka=function(t){V(this.b,function(e){return e==t})};var Mc={name:"pendingRedirect",A:"session"};function Pc(t){return t.b.set(Mc,"pending",t.a)}function Lc(t){return ic(t.b,Mc,t.a)}function jc(t){return t.b.get(Mc,t.a).then(function(t){return"pending"==t})}function Fc(t,e,n){this.u=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.i=v(this.bb,this),this.b=new zc,this.o=new eh,this.g=new Rc(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Uc(this.u,this.l,this.m,Fi)}function Uc(t,e,n,i){var o=r.a.SDK_VERSION||null;return gr()?new Ec(t,e,n,o,i):new su(t,e,n,o,i)}function Vc(t){t.f||(t.f=!0,t.a.wa(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function qc(t){t.a.Mb()&&Vc(t).s(function(e){var n=new Do("unknown",null,null,null,new pi("operation-not-supported-in-this-environment"));$c(e)&&t.bb(n)}),t.a.Hb()||Qc(t.b)}t=Fc.prototype,t.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Uc(this.u,this.l,this.m)},t.Ya=function(){this.b.Ya()},t.subscribe=function(t){if(F(this.h,t)||this.h.push(t),!this.f){var e=this;jc(this.g).then(function(t){t?Lc(e.g).then(function(){Vc(e).s(function(t){var n=new Do("unknown",null,null,null,new pi("operation-not-supported-in-this-environment"));$c(t)&&e.bb(n)})}):qc(e)}).s(function(){qc(e)})}},t.unsubscribe=function(t){V(this.h,function(e){return e==t})},t.bb=function(t){if(!t)throw new pi("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.vb(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return Qc(this.b),e};var Bc=new Br(2e3,1e4),Wc=new Br(3e4,6e4);function Kc(t,e,n,r,i,o){return t.a.Cb(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.i))},function(){t.reset()},i,o)}function $c(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Fc.prototype.fa=function(){return this.b.fa()},Fc.prototype.Ca=function(t,e,n){var r,i=this;return Pc(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if($c(t))throw new pi("operation-not-supported-in-this-environment");return r=t,Lc(i.g).then(function(){throw r})}).then(function(){return i.a.Qb()?new bt(function(){}):Lc(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Fc.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Bc.get())};var Hc={};function Gc(t,e,n){var r=e+":"+n;return Hc[r]||(Hc[r]=new Fc(t,e,n)),Hc[r]}function zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Qc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function Yc(t,e,n){n=n.xa(e.b,e.c);var r=e.f,i=e.g,o=e.h,a=!!e.b.match(/Redirect$/);n(r,i,o).then(function(e){Zc(t,a,e,null)}).s(function(e){Zc(t,a,null,e)})}function Xc(t,e){if(t.b=function(){return At(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function Jc(t,e){if(t.b=function(){return kt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?Xc(t,r):Jc(t,n):Jc(t,{user:null}),t.f=[],t.c=[]}function th(t){var e=new pi("timeout");t.a&&t.a.cancel(),t.a=$e(Wc.get()).then(function(){t.b||(t.g=!0,Zc(t,!0,null,e))})}function eh(){}function nh(t,e){var n=t.c,r=t.b;e.xa(r,n)(t.f,t.g,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}function rh(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(t){this.sb=t},enumerable:!1})}function ih(t,e){this.a=e,Zr(this,"verificationId",t)}function oh(t,e,n,r){return new Io(t).Ua(e,n).then(function(t){return new ih(t,r)})}function ah(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new pi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:t,expirationTime:$r(1e3*e.exp),authTime:$r(1e3*e.auth_time),issuedAtTime:$r(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function sh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uh(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function ch(t,e){t.stop(),t.b=$e(uh(t,e)).then(function(){return Kr()}).then(function(){return t.h()}).then(function(){ch(t,!0)}).s(function(e){t.i(e)&&ch(t,!1)})}function hh(t){this.f=t,this.b=this.a=null,this.c=0}function lh(t,e){var n=e[Wa],r=e.refreshToken;e=dh(e.expiresIn),t.b=n,t.c=e,t.a=r}function fh(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function dh(t){return b()+1e3*parseInt(t,10)}function ph(t,e){return ts(t.f,e).then(function(e){return t.b=e.access_token,t.c=dh(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function mh(t,e){this.a=t||null,this.b=e||null,ti(this,{lastSignInTime:$r(e||null),creationTime:$r(t||null)})}function yh(t){return new mh(t.a,t.b)}function vh(t,e,n,r,i,o){ti(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gh(t,e){for(var n in me.call(this,t),e)this[n]=e[n]}function bh(t,e,n){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=r.a.SDK_VERSION?Cr(r.a.SDK_VERSION):null,this.b=new qa(this.m,Vi(Fi),t),this.h=new hh(this.b),Ah(this,e[Wa]),lh(this.h,e),Zr(this,"refreshToken",this.h.a),Nh(this,n||{}),Ve.call(this),this.I=!1,this.u&&xr()&&(this.a=Gc(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=Eh(this),this.V=v(this.Ha,this);var i=this;this.ka=null,this.ta=function(t){i.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){_h(i,t.c)},this.W=null}function wh(t,e){t.X&&Ne(t.X,"languageCodeChanged",t.ta),(t.X=e)&&Ae(e,"languageCodeChanged",t.ta)}function _h(t,e){t.O=e,Qa(t.b,r.a.SDK_VERSION?Cr(r.a.SDK_VERSION,t.O):null)}function Sh(t,e){t.W&&Ne(t.W,"frameworkChanged",t.sa),(t.W=e)&&Ae(e,"frameworkChanged",t.sa)}function Th(t){try{return r.a.app(t.o).auth()}catch(e){throw new pi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Eh(t){return new sh(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-b()-3e5;return 0<e?e:0})}function Ih(t){t.D||t.w.b||(t.w.start(),Ne(t,"tokenChanged",t.V),Ae(t,"tokenChanged",t.V))}function kh(t){Ne(t,"tokenChanged",t.V),t.w.stop()}function Ah(t,e){t.ra=e,Zr(t,"_lat",e)}function Ch(t,e){V(t.N,function(t){return t==e})}function Dh(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Ot(e).then(function(){return t})}function Oh(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Nh(t,e){ti(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new mh(e.createdAt,e.lastLoginAt),providerData:[]})}function xh(){}function Rh(t){return kt().then(function(){if(t.D)throw new pi("app-deleted")})}function Mh(t){return P(t.providerData,function(t){return t.providerId})}function Ph(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){V(t.providerData,function(t){return t.providerId==e})}function jh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Zr(t,e,n)}function Fh(t,e){t!=e&&(ti(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Zr(t,"metadata",yh(e.metadata)):Zr(t,"metadata",new mh),R(e.providerData,function(e){Ph(t,e)}),fh(t.h,e.h),Zr(t,"refreshToken",t.h.a))}function Uh(t){return t.F().then(function(e){var n=t.isAnonymous;return qh(t,e).then(function(){return n||jh(t,"isAnonymous",!1),e})})}function Vh(t,e){e[Wa]&&t.ra!=e[Wa]&&(lh(t.h,e),t.dispatchEvent(new gh("tokenChanged")),Ah(t,e[Wa]),jh(t,"refreshToken",t.h.a))}function qh(t,e){return Hs(t.b,As,{idToken:e}).then(v(t.xc,t))}function Bh(t){return(t=t.providerUserInfo)&&t.length?P(t,function(t){return new vh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Wh(t,e){return Uh(t).then(function(){if(F(Mh(t),e))return Dh(t).then(function(){throw new pi("provider-already-linked")})})}function Kh(t,e,n){var r=Ao(e);return e=$i(e),ei({user:t,credential:r,additionalUserInfo:e,operationType:n})}function $h(t,e){return Vh(t,e),t.reload().then(function(){return t})}function Hh(t,e,n,i,o){if(!xr())return At(new pi("operation-not-supported-in-this-environment"));if(t.i&&!o)return At(t.i);var a=Ki(n.providerId),s=Ur(t.uid+":::"),u=null;(!Pr()||br())&&t.u&&n.isOAuthProvider&&(u=lu(t.u,t.m,t.o,e,n,null,s,r.a.SDK_VERSION||null));var c=fr(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(zh(t),!o)return t.F().then(function(){})}).then(function(){return Kc(t.a,c,e,n,s,!!u)}).then(function(){return new bt(function(n,r){t.ha(e,null,new pi("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=t.a.Ea(t,e,c,s)})}).then(function(t){return c&&lr(c),t?ei(t):null}).s(function(t){throw c&&lr(c),t}),Qh(t,i,o)}function Gh(t,e,n,r,i){if(!xr())return At(new pi("operation-not-supported-in-this-environment"));if(t.i&&!i)return At(t.i);var o=null,a=Ur(t.uid+":::");return r=r().then(function(){if(zh(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,Dh(t)}).then(function(e){return t.ba&&(e=t.ba,e=e.b.set(el,t.C(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return nl(t.ba);throw o}).then(function(){if(o)throw o}),Qh(t,r,i)}function zh(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new pi("internal-error");throw new pi("auth-domain-config-required")}}function Qh(t,e,n){var r=Yh(t,e,n);return t.G.push(r),r.ia(function(){U(t.G,r)}),r}function Yh(t,e,n){return t.i&&!n?(e.cancel(),At(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new gh("userInvalidated")),t.i=e),e})}function Xh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Wa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-b())/1e3;var r=new bh(e,n,t);return t.providerData&&R(t.providerData,function(t){t&&Ph(r,ei(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Jh(t,e,n,r){var i=new bh(t,e);return n&&(i.ba=n),r&&_h(i,r),i.reload().then(function(){return i})}function Zh(t,e,n,r){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[Wa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-b())/1e3,e=new bh(e,o),n&&(e.ba=n),r&&_h(e,r),Fh(e,t),e}function tl(t){this.a=t,this.b=tc()}zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),kt()):e.xa(n,r)?Yc(this,t,e):At(new pi("invalid-auth-event")):(Zc(this,!1,null,null),kt())}else At(new pi("invalid-auth-event"))},zc.prototype.Ya=function(){this.g&&!this.i&&Zc(this,!1,null,null)},zc.prototype.fa=function(){var t=this;return new bt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),th(t))})},eh.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),kt()):e.xa(n,r)?nh(t,e):At(new pi("invalid-auth-event"))}else At(new pi("invalid-auth-event"))},ih.prototype.confirm=function(t){return t=ko(this.verificationId,t),this.a(t)},sh.prototype.start=function(){this.a=this.c,ch(this,!0)},sh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},hh.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},hh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?At(new pi("user-token-expired")):t||!this.b||b()>this.c-3e4?this.a?ph(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},mh.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(gh,me),w(bh,Ve),bh.prototype.pa=function(t){this.ka=t,za(this.b,t)},bh.prototype.ea=function(){return this.ka},bh.prototype.ya=function(){return B(this.O)},bh.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Zr(bh.prototype,"providerId","firebase"),t=bh.prototype,t.reload=function(){var t=this;return Qh(this,Rh(this).then(function(){return Uh(t).then(function(){return Dh(t)}).then(xh)}))},t.dc=function(t){return this.F(t).then(function(t){return new ah(t)})},t.F=function(t){var e=this;return Qh(this,Rh(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new pi("internal-error");return t.accessToken!=e.ra&&(Ah(e,t.accessToken),e.dispatchEvent(new gh("tokenChanged"))),jh(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(t=t.users,!t||!t.length)throw new pi("internal-error");t=t[0],Nh(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=Bh(t),n=0;n<e.length;n++)Ph(this,e[n]);jh(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))},t.gb=function(t){var e=this,n=null;return Qh(this,t.f(this.b,this.uid).then(function(t){return Vh(e,t),n=Kh(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.yc=function(t){return Xr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(t).then(function(){})},t.eb=function(t){var e=this,n=null;return Qh(this,Wh(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.b,n)}).then(function(t){return n=Kh(e,t,"link"),$h(e,t)}).then(function(){return n}))},t.pc=function(t){return Xr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(t).then(function(t){return t.user})},t.qc=function(t,e){var n=this;return Qh(this,Wh(this,"phone").then(function(){return oh(Th(n),t,e,v(n.eb,n))}))},t.zc=function(t,e){var n=this;return Qh(this,kt().then(function(){return oh(Th(n),t,e,v(n.gb,n))}),!0)},t.pb=function(t){var e=this;return Qh(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return Vh(e,t),e.reload()}))},t.Rc=function(t){var e=this;return Qh(this,this.F().then(function(n){return t.b(e.b,n)}).then(function(t){return Vh(e,t),e.reload()}))},t.qb=function(t){var e=this;return Qh(this,this.F().then(function(n){return e.b.qb(n,t)}).then(function(t){return Vh(e,t),e.reload()}))},t.rb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rh(this);var e=this;return Qh(this,this.F().then(function(n){return e.b.rb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Vh(e,t),jh(e,"displayName",t.displayName||null),jh(e,"photoURL",t.photoUrl||null),R(e.providerData,function(t){"password"===t.providerId&&(Zr(t,"displayName",e.displayName),Zr(t,"photoURL",e.photoURL))}),Dh(e)}).then(xh))},t.Pc=function(t){var e=this;return Qh(this,Uh(this).then(function(n){return F(Mh(e),t)?ls(e.b,n,[t]).then(function(t){var n={};return R(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),R(Mh(e),function(t){n[t]||Lh(e,t)}),n[Io.PROVIDER_ID]||Zr(e,"phoneNumber",null),Dh(e)}):Dh(e).then(function(){throw new pi("no-such-provider")})}))},t.delete=function(){var t=this;return Qh(this,this.F().then(function(e){return Hs(t.b,Ts,{idToken:e})}).then(function(){t.dispatchEvent(new gh("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wh(t,null),Sh(t,null),t.G=[],t.D=!0,kh(t),Zr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.vb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?v(this.Ab,this):"reauthViaPopup"==t&&e==(this.g||null)?v(this.Bb,this):"linkViaRedirect"==t&&(this.aa||null)==e?v(this.Ab,this):"reauthViaRedirect"==t&&(this.aa||null)==e?v(this.Bb,this):null},t.rc=function(t){var e=this;return Hh(this,"linkViaPopup",t,function(){return Wh(e,t.providerId).then(function(){return Dh(e)})},!1)},t.Ac=function(t){return Hh(this,"reauthViaPopup",t,function(){return kt()},!0)},t.sc=function(t){var e=this;return Gh(this,"linkViaRedirect",t,function(){return Wh(e,t.providerId)},!1)},t.Bc=function(t){return Gh(this,"reauthViaRedirect",t,function(){return kt()},!0)},t.Ab=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null,o=this.F().then(function(i){return ys(r.b,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return i=Kh(r,t,"link"),$h(r,t)}).then(function(){return i});return Qh(this,o)},t.Bb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null,o=kt().then(function(){return no(vs(r.b,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return i=Kh(r,t,"reauthenticate"),Vh(r,t),r.i=null,r.reload()}).then(function(){return i});return Qh(this,o,!0)},t.jb=function(t){var e=this,n=null;return Qh(this,this.F().then(function(e){return n=e,"undefined"===typeof t||at(t)?{}:Ci(new gi(t))}).then(function(t){return e.b.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.C()},t.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&lt(t,this.metadata.C()),R(this.providerData,function(e){t.providerData.push(ni(e))}),t};var el={name:"redirectUser",A:"session"};function nl(t){return ic(t.b,el,t.a)}function rl(t,e){return t.b.get(el,t.a).then(function(t){return t&&e&&(t.authDomain=e),Xh(t||{})})}function il(t){this.a=t,this.b=tc(),this.c=null,this.f=al(this),this.b.addListener(ul("local"),this.a,v(this.g,this))}function ol(t,e){var n,r=[];for(n in Xu)Xu[n]!==e&&r.push(ic(t.b,ul(Xu[n]),t.a));return r.push(ic(t.b,sl,t.a)),Dt(r)}function al(t){var e=ul("local"),n=ul("session"),r=ul("none");return rc(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(sl,t.a).then(function(t){return t?ul(t):e})})})}).then(function(e){return t.c=e,ol(t,e.A)}).s(function(){t.c||(t.c=e)})}il.prototype.g=function(){var t=this,e=ul("local");dl(this,function(){return kt().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return ol(t,"local").then(function(){t.c=e})})})};var sl={name:"persistence",A:"session"};function ul(t){return{name:"authUser",A:t}}function cl(t){return dl(t,function(){return t.b.set(sl,t.c.A,t.a)})}function hl(t,e){return dl(t,function(){return t.b.set(t.c,e.C(),t.a)})}function ll(t){return dl(t,function(){return ic(t.b,t.c,t.a)})}function fl(t,e){return dl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Xh(t||{})})})}function dl(t,e){return t.f=t.f.then(e,e),t.f}function pl(t){if(this.m=!1,Zr(this,"settings",new rh),Zr(this,"app",t),!kl(this).options||!kl(this).options.apiKey)throw new pi("invalid-api-key");t=r.a.SDK_VERSION?Cr(r.a.SDK_VERSION):null,this.b=new qa(kl(this).options&&kl(this).options.apiKey,Vi(Fi),t),this.N=[],this.o=[],this.I=[],this.Tb=r.a.INTERNAL.createSubscribe(v(this.mc,this)),this.O=void 0,this.Ub=r.a.INTERNAL.createSubscribe(v(this.nc,this)),_l(this,null),this.h=new il(kl(this).options.apiKey+":"+kl(this).name),this.w=new tl(kl(this).options.apiKey+":"+kl(this).name),this.V=Nl(this,Tl(this)),this.i=Nl(this,El(this)),this.X=!1,this.ka=v(this.Mc,this),this.Ha=v(this.Z,this),this.ra=v(this.bc,this),this.sa=v(this.jc,this),this.ta=v(this.kc,this),bl(this),this.INTERNAL={},this.INTERNAL["delete"]=v(this.delete,this),this.INTERNAL.logFramework=v(this.tc,this),this.u=0,Ve.call(this),vl(this),this.G=[]}function ml(t){me.call(this,"languageCodeChanged"),this.g=t}function yl(t){me.call(this,"frameworkChanged"),this.c=t}function vl(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}function gl(t){return t.Sb||At(new pi("auth-domain-config-required"))}function bl(t){var e=kl(t).options.authDomain,n=kl(t).options.apiKey;e&&xr()&&(t.Sb=t.V.then(function(){if(!t.m){if(t.a=Gc(e,n,kl(t).name),t.a.subscribe(t),Al(t)&&Oh(Al(t)),t.D){Oh(t.D);var r=t.D;r.pa(t.ea()),wh(r,t),r=t.D,_h(r,t.G),Sh(r,t),t.D=null}return t.a}}))}function wl(t,e){var n={};return n.apiKey=kl(t).options.apiKey,n.authDomain=kl(t).options.authDomain,n.appName=kl(t).name,t.V.then(function(){return Jh(n,e,t.w,t.ya())}).then(function(e){return Al(t)&&e.uid==Al(t).uid?(Fh(Al(t),e),t.Z(e)):(_l(t,e),Oh(e),t.Z(e))}).then(function(){Dl(t)})}function _l(t,e){Al(t)&&(Ch(Al(t),t.Ha),Ne(Al(t),"tokenChanged",t.ra),Ne(Al(t),"userDeleted",t.sa),Ne(Al(t),"userInvalidated",t.ta),kh(Al(t))),e&&(e.N.push(t.Ha),Ae(e,"tokenChanged",t.ra),Ae(e,"userDeleted",t.sa),Ae(e,"userInvalidated",t.ta),0<t.u&&Ih(e)),Zr(t,"currentUser",e),e&&(e.pa(t.ea()),wh(e,t),_h(e,t.G),Sh(e,t))}function Sl(t){var e=rl(t.w,kl(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.w),nl(t.w)});return Nl(t,e)}function Tl(t){var e=kl(t).options.authDomain,n=Sl(t).then(function(){return fl(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return hl(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:ll(t.h)})):null}).then(function(e){_l(t,e||null)});return Nl(t,n)}function El(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(ul("local"),e.a,t.ka)}})}function Il(t,e){var n=null,r=null;return Nl(t,e.then(function(e){return n=Ao(e),r=$i(e),wl(t,e)}).then(function(){return ei({user:Al(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function kl(t){return t.app}function Al(t){return t.currentUser}function Cl(t){return Al(t)&&Al(t)._lat||null}function Dl(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Cl(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Cl(t))}}function Ol(t,e){t.I.push(e),Nl(t,t.i.then(function(){!t.m&&F(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Cl(t)))}))}function Nl(t,e){return t.N.push(e),e.ia(function(){U(t.N,e)}),e}function xl(){}function Rl(){this.a={},this.b=1e12}il.prototype.mb=function(t){var e=null,n=this;return Ju(t),dl(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,ol(n,t)}).then(function(){if(n.c=ul(t),e)return n.b.set(n.c,e,n.a)}):kt()})},w(pl,Ve),w(ml,me),w(yl,me),t=pl.prototype,t.mb=function(t){return t=this.h.mb(t),Nl(this,t)},t.pa=function(t){this.W===t||this.m||(this.W=t,za(this.b,this.W),this.dispatchEvent(new ml(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),Qa(this.b,r.a.SDK_VERSION?Cr(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new yl(this.G))},t.ya=function(){return B(this.G)},t.toJSON=function(){return{apiKey:kl(this).options.apiKey,authDomain:kl(this).options.authDomain,appName:kl(this).name,currentUser:Al(this)&&Al(this).C()}},t.vb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?v(this.ac,this):null},t.ac=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,o=null,a=ms(r.b,t).then(function(t){return i=Ao(t),o=$i(t),t});return t=r.V.then(function(){return a}).then(function(t){return wl(r,t)}).then(function(){return ei({user:Al(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}),Nl(this,t)},t.Kc=function(t){if(!xr())return At(new pi("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),i=Ur(),o=null;(!Pr()||br())&&kl(this).options.authDomain&&t.isOAuthProvider&&(o=lu(kl(this).options.authDomain,kl(this).options.apiKey,kl(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null));var a=fr(o,n&&n.Ba,n&&n.Aa);return n=gl(this).then(function(e){return Kc(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new bt(function(t,n){e.ha("signInViaPopup",null,new pi("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=e.a.Ea(e,"signInViaPopup",a,i)})}).then(function(t){return a&&lr(a),t?ei(t):null}).s(function(t){throw a&&lr(a),t}),Nl(this,n)},t.Lc=function(t){if(!xr())return At(new pi("operation-not-supported-in-this-environment"));var e=this,n=gl(this).then(function(){return cl(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)});return Nl(this,n)},t.fa=function(){if(!xr())return At(new pi("operation-not-supported-in-this-environment"));var t=this,e=gl(this).then(function(){return t.a.fa()}).then(function(t){return t?ei(t):null});return Nl(this,e)},t.Qc=function(t){if(!t)return At(new pi("null-user"));var e=this,n={};n.apiKey=kl(this).options.apiKey,n.authDomain=kl(this).options.authDomain,n.appName=kl(this).name;var r=Zh(t,n,e.w,e.ya());return Nl(this,this.i.then(function(){if(kl(e).options.apiKey!=t.m)return r.reload()}).then(function(){return Al(e)&&t.uid==Al(e).uid?(Fh(Al(e),t),e.Z(t)):(_l(e,r),Oh(r),e.Z(r))}).then(function(){Dl(e)}))},t.nb=function(){var t=this,e=this.i.then(function(){return Al(t)?(_l(t,null),ll(t.h).then(function(){Dl(t)})):kt()});return Nl(this,e)},t.Mc=function(){var t=this;return fl(this.h,kl(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Al(t)&&e){n=Al(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fh(Al(t),e),Al(t).F();(Al(t)||e)&&(_l(t,e),e&&(Oh(e),e.ba=t.w),t.a&&t.a.subscribe(t),Dl(t))}})},t.Z=function(t){return hl(this.h,t)},t.bc=function(){Dl(this),this.Z(Al(this))},t.jc=function(){this.nb()},t.kc=function(){this.nb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Al(e))})},t.nc=function(t){var e=this;Ol(this,function(){t.next(Al(e))})},t.vc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){l(t)?t(Al(i)):l(t.next)&&t.next(Al(i))}),this.Tb(t,e,n)},t.uc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),l(t)?t(Al(i)):l(t.next)&&t.next(Al(i))}),this.Ub(t,e,n)},t.cc=function(t){var e=this,n=this.i.then(function(){return Al(e)?Al(e).F(t).then(function(t){return{accessToken:t}}):null});return Nl(this,n)},t.Nb=function(t){var e=this;return this.i.then(function(){return Il(e,Hs(e.b,qs,{token:t}))}).then(function(t){var n=t.user;return jh(n,"isAnonymous",!1),e.Z(n),t})},t.Ec=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Fc=function(t,e){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then(function(){return Il(n,Hs(n.b,Bs,{email:t,password:e}))})},t.xb=function(t,e){var n=this;return this.i.then(function(){return Il(n,Hs(n.b,_s,{email:t,password:e}))})},t.Wb=function(t,e){return Xr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(t,e)},t.Hc=function(t){return Xr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(t).then(function(t){return t.user})},t.Pa=function(t){var e=this;return this.i.then(function(){return Il(e,t.la(e.b))})},t.Qa=function(){var t=this;return this.i.then(function(){var e=Al(t);if(e&&e.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Il(t,t.b.Qa()).then(function(e){var n=e.user;return jh(n,"isAnonymous",!0),t.Z(n),e})})},t.Gc=function(){return Xr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},t.getUid=function(){return Al(this)&&Al(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Al(this)&&Ih(Al(this))},t.Cc=function(t){var e=this;R(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Al(this)&&kh(Al(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),Nl(this,this.i.then(function(){e.m||F(e.o,t)&&t(Cl(e))}))},t.removeAuthTokenListener=function(t){V(this.o,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,t.b.removeListener(ul("local"),t.a,this.ka)),this.a&&(this.a.unsubscribe(this),this.a.Ya()),r.a.Promise.resolve()},t.Zb=function(t){return Xr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Nl(this,is(this.b,t))},t.$b=function(t){return Nl(this,os(this.b,t))},t.oc=function(t){return!!So(t)},t.lb=function(t,e){var n=this;return Nl(this,kt().then(function(){var t=new gi(e);if(!t.c)throw new pi("argument-error",_i+" must be true when sending sign in link to email");return Ci(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Za=function(t,e){return Nl(this,this.b.Za(t,e).then(function(){}))},t.Ja=function(t){return Nl(this,this.b.Ja(t).then(function(t){return new oi(t)}))},t.Wa=function(t){return Nl(this,this.b.Wa(t).then(function(){}))},t.kb=function(t,e){var n=this;return Nl(this,kt().then(function(){return"undefined"===typeof e||at(e)?{}:Ci(new gi(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Jc=function(t,e){return Nl(this,oh(this,t,e,v(this.Pa,this)))},t.Ic=function(t,e){var n=this;return Nl(this,kt().then(function(){var r=_o(t,e||ar());return n.Pa(r)}))},xl.prototype.render=function(){},xl.prototype.reset=function(){},xl.prototype.getResponse=function(){},xl.prototype.execute=function(){};var Ml=null;function Pl(t,e){return(e=Ll(e))&&t.a[e]||null}function Ll(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function jl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Gn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ae(this.f,"click",this.i)}function Fl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ul(){}Rl.prototype.render=function(t,e){return this.a[this.b.toString()]=new jl(t,e),this.b++},Rl.prototype.reset=function(t){var e=Pl(this,t);t=Ll(t),e&&t&&(e.delete(),delete this.a[t])},Rl.prototype.getResponse=function(t){return(t=Pl(this,t))?t.getResponse():null},Rl.prototype.execute=function(t){(t=Pl(this,t))&&t.execute()},jl.prototype.getResponse=function(){return Fl(this),this.b},jl.prototype.execute=function(){Fl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=Tr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},jl.prototype.delete=function(){Fl(this),this.g=!0,clearTimeout(this.a),this.a=null,Ne(this.f,"click",this.i)},Ul.prototype.g=function(){return Ml||(Ml=new Rl),kt(Ml)},Ul.prototype.c=function(){};var Vl=null;function ql(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Bl=Dn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Wl=new Br(3e4,6e4);ql.prototype.g=function(t){var e=this;return new bt(function(r,i){var o=setTimeout(function(){i(new pi("network-request-failed"))},Wl.get());if(!n.grecaptcha||t!==e.f&&!e.b){n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new pi("internal-error"));delete n[e.a]};var a=xn(Bl,{onload:e.a,hl:t||""});kt(Ra(a)).s(function(){clearTimeout(o),i(new pi("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(o),r(n.grecaptcha)})},ql.prototype.c=function(){this.b--};var Kl=null;function $l(t,e,r,i,o,a,s){if(Zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=e,this.g=null,s?(Vl||(Vl=new Ul),s=Vl):(Kl||(Kl=new ql),s=Kl),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[zl])throw new pi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ql],!n.document)throw new pi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Gn(e)||!this.i&&Gn(e).hasChildNodes())throw new pi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new qa(t,a||null,o||null),this.v=i||function(){return null};var u=this;this.l=[];var c=this.a[Hl];this.a[Hl]=function(t){if(Yl(u,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Or(c,n);"function"===typeof e&&e(t)}};var h=this.a[Gl];this.a[Gl]=function(){if(Yl(u,null),"function"===typeof h)h();else if("string"===typeof h){var t=Or(h,n);"function"===typeof t&&t()}}}var Hl="callback",Gl="expired-callback",zl="sitekey",Ql="size";function Yl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Xl(t,e){V(t.l,function(t){return t==e})}function Jl(t,e){return t.h.push(e),e.ia(function(){U(t.h,e)}),e}function Zl(t){if(t.D)throw new pi("internal-error","RecaptchaVerifier instance has been destroyed.")}function tf(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new pi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new pi("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().ya()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?Cr(r.a.SDK_VERSION,a):null,$l.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,Vi(Fi),i)}function ef(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new pi("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=nf.length)throw new pi("internal-error","Argument validator received an unsupported number of arguments.");n=nf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new pi("argument-error",t+" failed: "+r)}t=$l.prototype,t.za=function(){var t=this;return this.f?this.f:this.f=Jl(this,kt().then(function(){if(Rr()&&!wr())return yr();throw new pi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,Hs(t.u,xs,{})}).then(function(e){t.a[zl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Zl(this);var t=this;return Jl(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=Gn(e);e=Yn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Zl(this);var t=this;return Jl(this,this.render().then(function(e){return new bt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Xl(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Zl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zl(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Gn(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},w(tf,$l);var nf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:i}}function of(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function af(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:f}}function sf(t,e){return{name:t||"",K:"a function",optional:!!e,M:l}}function uf(t,e){return{name:t||"",K:"null",optional:!!e,M:u}}function cf(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function hf(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof pl)}}}function lf(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}}function ff(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.la||!n)}}}function df(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function pf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&i(t.type)&&l(t.verify))}}}function mf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function yf(t,e){for(var n in e){var r=e[n].name;t[r]=bf(r,t[n],e[n].j)}}function vf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:g(function(t){return this[t]},n),set:g(function(t,e,n,r){ef(t,[n],[r],!0),this[e]=r},r,n,e[n].tb),enumerable:!0})}}function gf(t,e,n,r){t[e]=bf(e,n,r)}function bf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return ef(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=wf(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function wf(t){return t=t.split("."),t[t.length-1]}yf(pl.prototype,{Wa:{name:"applyActionCode",j:[rf("code")]},Ja:{name:"checkActionCode",j:[rf("code")]},Za:{name:"confirmPasswordReset",j:[rf("code"),rf("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[rf("email"),rf("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[rf("email"),rf("password")]},Zb:{name:"fetchProvidersForEmail",j:[rf("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[rf("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[rf("emailLink")]},uc:{name:"onAuthStateChanged",j:[mf(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[mf(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rf("email"),mf(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rf("email"),af("actionCodeSettings")]},mb:{name:"setPersistence",j:[rf("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[ff()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[ff()]},Nb:{name:"signInWithCustomToken",j:[rf("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[rf("token")]},Ob:{name:"signInWithEmailAndPassword",j:[rf("email"),rf("password")]},Ic:{name:"signInWithEmailLink",j:[rf("email"),rf("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[rf("email"),rf("password")]},Jc:{name:"signInWithPhoneNumber",j:[rf("phoneNumber"),pf()]},Kc:{name:"signInWithPopup",j:[df()]},Lc:{name:"signInWithRedirect",j:[df()]},Qc:{name:"updateCurrentUser",j:[mf(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof bh)}}}(),uf(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[rf("code")]}}),vf(pl.prototype,{lc:{name:"languageCode",tb:mf(rf(),uf(),"languageCode")}}),pl.Persistence=Xu,pl.Persistence.LOCAL="local",pl.Persistence.SESSION="session",pl.Persistence.NONE="none",yf(bh.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[of("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[of("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[ff()]},pc:{name:"linkWithCredential",j:[ff()]},qc:{name:"linkWithPhoneNumber",j:[rf("phoneNumber"),pf()]},rc:{name:"linkWithPopup",j:[df()]},sc:{name:"linkWithRedirect",j:[df()]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ff()]},yc:{name:"reauthenticateWithCredential",j:[ff()]},zc:{name:"reauthenticateWithPhoneNumber",j:[rf("phoneNumber"),pf()]},Ac:{name:"reauthenticateWithPopup",j:[df()]},Bc:{name:"reauthenticateWithRedirect",j:[df()]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[mf(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Pc:{name:"unlink",j:[rf("provider")]},pb:{name:"updateEmail",j:[rf("email")]},qb:{name:"updatePassword",j:[rf("password")]},Rc:{name:"updatePhoneNumber",j:[ff("phone")]},rb:{name:"updateProfile",j:[af("profile")]}}),yf(Rl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),yf(xl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),yf(bt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),vf(rh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:of("appVerificationDisabledForTesting")}}),yf(ih.prototype,{confirm:{name:"confirm",j:[rf("verificationCode")]}}),gf(wo,"credential",function(t,e){return new bo(t,e)},[rf("email"),rf("password")]),yf(ho.prototype,{ua:{name:"addScope",j:[rf("scope")]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),gf(ho,"credential",lo,[mf(rf(),af(),"token")]),gf(wo,"credentialWithLink",_o,[rf("email"),rf("emailLink")]),yf(fo.prototype,{ua:{name:"addScope",j:[rf("scope")]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),gf(fo,"credential",po,[mf(rf(),af(),"token")]),yf(mo.prototype,{ua:{name:"addScope",j:[rf("scope")]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),gf(mo,"credential",yo,[mf(rf(),mf(af(),uf()),"idToken"),mf(rf(),uf(),"accessToken",!0)]),yf(vo.prototype,{Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),gf(vo,"credential",go,[mf(rf(),af(),"token"),rf("secret",!0)]),yf(co.prototype,{ua:{name:"addScope",j:[rf("scope")]},credential:{name:"credential",j:[mf(rf(),uf(),"idToken",!0),mf(rf(),uf(),"accessToken",!0),mf(rf(),uf(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),gf(Io,"credential",ko,[rf("verificationId"),rf("verificationCode")]),yf(Io.prototype,{Ua:{name:"verifyPhoneNumber",j:[rf("phoneNumber"),pf()]}}),yf(pi.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),yf(Po.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),yf(Mo.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),yf(tf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:pl,Error:pi};gf(t,"EmailAuthProvider",wo,[]),gf(t,"FacebookAuthProvider",ho,[]),gf(t,"GithubAuthProvider",fo,[]),gf(t,"GoogleAuthProvider",mo,[]),gf(t,"TwitterAuthProvider",vo,[]),gf(t,"OAuthProvider",co,[rf("providerId")]),gf(t,"SAMLAuthProvider",uo,[rf("providerId")]),gf(t,"PhoneAuthProvider",Io,[hf()]),gf(t,"RecaptchaVerifier",tf,[mf(rf(),cf(),"recaptchaContainer"),af("recaptchaParameters",!0),lf()]),r.a.INTERNAL.registerService("auth",function(t,e){return t=new pl(t),e({INTERNAL:{getUid:v(t.getUid,t),getToken:v(t.cc,t),addAuthTokenListener:v(t.Vb,t),removeAuthTokenListener:v(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),r.a.INTERNAL.extendNamespace({User:bh})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("c8ba"))},bb4d:function(t,e,n){var r=n("aad8"),i=n("02eb"),o=n("f0be"),a=n("78a3"),s=n("cad0").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},bcaa:function(t,e,n){var r=n("cb7c"),i=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c23d:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("cd51"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(){var t={},e={},n={},a={__esModule:!0,initializeApp:f,app:l,apps:null,Promise:Promise,SDK_VERSION:"5.8.5",INTERNAL:{registerService:p,createFirebaseNamespace:u,extendNamespace:m,createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:h,factories:e,useAsService:v,Promise:Promise,deepExtend:r.deepExtend}};function h(e){var n=t[e];y(n,"delete"),delete t[e]}function l(e){return e=e||o,i(t,e)||c("no-app",{name:e}),t[e]}function f(e,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){var r=n;n={name:r}}var u=n;void 0===u.name&&(u.name=o);var h=u.name;"string"===typeof h&&h||c("bad-app-name",{name:h+""}),i(t,h)&&c("duplicate-app",{name:h});var l=new s(e,u,a);return t[h]=l,y(l,"create"),l}function d(){return Object.keys(t).map(function(e){return t[e]})}function p(t,i,o,u,h){e[t]&&c("duplicate-service",{name:t}),e[t]=i,u&&(n[t]=u,d().forEach(function(t){u("create",t)}));var f=function(e){return void 0===e&&(e=l()),"function"!==typeof e[t]&&c("invalid-app-argument",{name:t}),e[t]()};return void 0!==o&&r.deepExtend(f,o),a[t]=f,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,h?e:[])},f}function m(t){r.deepExtend(a,t)}function y(t,r){Object.keys(e).forEach(function(e){var i=v(t,e);null!==i&&n[i]&&n[i](r,t)})}function v(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}return r.patchProperty(a,"default",a),Object.defineProperty(a,"apps",{get:d}),r.patchProperty(l,"App",s),a}function c(t,e){throw l.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var h={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},l=new r.ErrorFactory("app","Firebase",h),f=!1;try{f="[object process]"===Object.prototype.toString.call(t.process)}catch(p){}f&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var d=u();e.firebase=d,e.default=d}).call(this,n("c8ba"))},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),h=o(a,c);if(t&&n!=n){while(c>h)if(s=u[h++],s!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},c46b:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c6b0:function(t,e,n){var r=n("5051"),i=n("45ba"),o=n("9129"),a=n("89fc")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("cba9")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("c88d").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(r--)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},c7b2:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"createWebChannelTransport",function(){return hn}),n.d(e,"ErrorCode",function(){return ln}),n.d(e,"EventType",function(){return fn}),n.d(e,"WebChannel",function(){return dn}),n.d(e,"XhrIo",function(){return pn});var r,i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(e=e[t[n]],null==e)return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function l(t){return"array"==h(t)}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v,g.apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.re=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(){this.i=this.i,this.j=this.j}var T=0;S.prototype.i=!1,S.prototype.La=function(){if(!this.i&&(this.i=!0,this.G(),0!=T))this[p]||(this[p]=++m)},S.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){t:{for(var e=Qe,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}function A(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\s\xa0]*$/.test(t)}var O,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var M=a.navigator;if(M){var P=M.userAgent;if(P){O=P;break t}}O=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}function q(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}V[" "]=c;var B,W=x(O,"Opera"),K=x(O,"Trident")||x(O,"MSIE"),$=x(O,"Edge"),H=$||K,G=x(O,"Gecko")&&!(x(O.toLowerCase(),"webkit")&&!x(O,"Edge"))&&!(x(O,"Trident")||x(O,"MSIE"))&&!x(O,"Edge"),z=x(O.toLowerCase(),"webkit")&&!x(O,"Edge");function Q(){var t=a.document;return t?t.documentMode:void 0}t:{var Y="",X=function(){var t=O;return G?/rv:([^\);]+)(\)|;)/.exec(t):$?/Edge\/([\d\.]+)/.exec(t):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):z?/WebKit\/(\S+)/.exec(t):W?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(X&&(Y=X?X[1]:""),K){var J=Q();if(null!=J&&J>parseFloat(Y)){B=String(J);break t}}B=Y}var Z,tt={};function et(t){return q(t,function(){for(var e=0,n=N(String(B)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=R(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||R(0==a[2].length,0==s[2].length)||R(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var nt=a.document;Z=nt&&K?Q()||("CSS1Compat"==nt.compatMode?parseInt(B,10):5):void 0;var rt=!K||9<=Number(Z),it=K&&!et("9"),ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function at(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function st(t,e){at.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}at.prototype.c=function(){this.hc=!1},_(st,at);var ut={2:"touch",3:"pen",4:"mouse"};st.prototype.g=function(t,e){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:ut[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},st.prototype.c=function(){st.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ct="closure_listenable_"+(1e6*Math.random()|0),ht=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ya=i,this.key=++ht,this.ja=this.oa=!1}function ft(t){this.src=t,this.a={},this.b=0}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ja&&o.listener==e&&o.capture==!!n&&o.ya==r)return i}return-1}lt.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},r=ft.prototype,r.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.oa=!1)):(e=new lt(e,this.src,o,!!r,i),e.oa=n,t.push(e)),e},r.Sc=function(t,e,n,r){if(t=t.toString(),t in this.a){var i=this.a[t];e=dt(i,e,n,r),-1<e&&(i[e].a(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--))}},r.fc=function(t){var e=t.type;if(e in this.a){var n,r=this.a[e],i=E(r,t);(n=0<=i)&&Array.prototype.splice.call(r,i,1),n&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},r.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],n=0;n<e.length;n++)e[n].a();delete this.a[t],this.b--}},r.Rc=function(t,e,n,r){t=this.a[t.toString()];var i=-1;return t&&(i=dt(t,e,n,r)),-1<i?t[i]:null};var pt="closure_lm_"+(1e6*Math.random()|0),mt={};function yt(t,e,n,r,i){if(r&&r.once)return bt(t,e,n,r,i);if(l(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=At(n),t&&t[ct]?t.Lb(e,n,d(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!rt)return null;var s=It(t);if(s||(t[pt]=s=new ft(t)),n=s.add(e,n,r,a,o),n.proxy)return n;if(r=gt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(St(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(){var t=Et,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function bt(t,e,n,r,i){if(l(e)){for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);return null}return n=At(n),t&&t[ct]?t.Mb(e,n,d(r)?!!r.capture:!!r,i):vt(t,e,n,!0,r,i)}function wt(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=At(n),t&&t[ct]?t.Qc(e,n,r,i):t&&(t=It(t))&&(e=t.Rc(e,n,r,i))&&_t(e)}function _t(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[ct])e.nc(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(St(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=It(e))?(n.fc(t),0==n.b&&(n.src=null,e[pt]=null)):t.a()}}}function St(t){return t in mt?mt[t]:mt[t]="on"+t}function Tt(t,e){var n=t.listener,r=t.ya||t.src;return t.oa&&_t(t),n.call(r,e)}function Et(t,e){return!!t.ja||(rt?Tt(t,new st(e,this)):(e=new st(e||u("window.event"),this),Tt(t,e)))}function It(t){return t=t[pt],t instanceof ft?t:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(t){return"function"==h(t)?t:(t[kt]||(t[kt]=function(e){return t.handleEvent(e)}),t[kt])}function Ct(){S.call(this),this.c=new ft(this),this.K=this,this.F=null}_(Ct,S),Ct.prototype[ct]=!0,r=Ct.prototype,r.addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.F;if(n)for(e=[];n;n=n.F)e.push(n);n=this.K;var r=t.type||t;if(s(t))t=new at(t,n);else if(t instanceof at)t.target=t.target||n;else{var i=t;t=new at(r,n),U(t,i)}if(i=!0,e)for(var o=e.length-1;!t.b&&0<=o;o--){var a=t.a=e[o];i=a.ua(r,!0,t)&&i}if(t.b||(a=t.a=n,i=a.ua(r,!0,t)&&i,t.b||(i=a.ua(r,!1,t)&&i)),e)for(o=0;!t.b&&o<e.length;o++)a=t.a=e[o],i=a.ua(r,!1,t)&&i;return i},r.G=function(){Ct.S.G.call(this),this.Id(),this.F=null},r.Lb=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Mb=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},r.Qc=function(t,e,n,r){this.c.Sc(String(t),e,n,r)},r.nc=function(t){this.c.fc(t)},r.Id=function(){this.c&&this.c.Tc()},r.ua=function(t,e,n){if(t=this.c.a[String(t)],!t)return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ja&&o.capture==e){var a=o.listener,s=o.ya||o.src;o.oa&&this.nc(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.hc};var Dt=a.JSON.stringify;function Ot(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function Nt(){this.b=this.a=null}Ot.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},Ot.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var xt,Rt=new Ot(function(){return new Mt},function(t){t.reset()});function Mt(){this.next=this.b=this.a=null}function Pt(t){a.setTimeout(function(){throw t},0)}function Lt(){var t=a.Promise.resolve(void 0);xt=function(){t.then(Ut)}}Nt.prototype.add=function(t,e){var n=this.c();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},Nt.prototype.g=function(t){Rt.f(t)},Nt.prototype.c=function(){return Rt.get()},Mt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Ft=new Nt;function Ut(){for(var t;t=Ft.f();){try{t.a.call(t.b)}catch(e){Pt(e)}Ft.g(t)}jt=!1}function Vt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=g(this.$d,this),this.g=w()}function qt(t,e,n){if("function"==h(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Bt(t,e,n){S.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Cd,this),this.a=[]}function Wt(t){S.call(this),this.b=t,this.a={}}_(Vt,Ct),r=Vt.prototype,r.wa=!1,r.P=null,r.$d=function(){if(this.wa){var t=w()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},r.Gc=function(){this.dispatchEvent("tick")},r.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=w())},r.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},r.G=function(){Vt.S.G.call(this),this.Na(),delete this.a},_(Bt,S),r=Bt.prototype,r.Ca=!1,r.ec=0,r.ba=null,r.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},r.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},r.G=function(){Bt.S.G.call(this),this.Pc()},r.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},r.yb=function(){this.ba=qt(this.b,this.c),this.f.apply(null,this.a)},_(Wt,S);var Kt=[];function $t(){}r=Wt.prototype,r.Jb=function(t,e,n){this.wd(t,e,n)},r.wd=function(t,e,n){l(e)||(e&&(Kt[0]=e.toString()),e=Kt);for(var r=0;r<e.length;r++){var i=yt(t,e[r],n||this.handleEvent,!1,this.b||this);if(!i)break;this.a[i.key]=i}},r.Kb=function(){L(this.a,function(t,e){this.a.hasOwnProperty(e)&&_t(t)},this),this.a={}},r.G=function(){Wt.S.G.call(this),this.Kb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=new Ct;function Gt(t){at.call(this,"serverreachability",t)}function zt(t){Ht.dispatchEvent(new Gt(Ht,t))}function Qt(t){at.call(this,"statevent",t)}function Yt(t){Ht.dispatchEvent(new Qt(Ht,t))}function Xt(t){at.call(this,"timingevent",t)}function Jt(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}_(Gt,at),_(Qt,at),_(Xt,at);var Zt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},te={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null,ee.prototype.c=function(){return this.a||(this.a={})};var re,ie={OPEN:"a",be:"b",rc:"c",ke:"d"};function oe(){at.call(this,"d")}function ae(){at.call(this,"c")}function se(){}function ue(t,e,n){this.g=t,this.da=e,this.ca=n||1,this.I=new Wt(this),this.L=ce,t=H?125:void 0,this.T=new Vt(t),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}_(oe,at),_(ae,at),_(se,ee),se.prototype.b=function(){return new XMLHttpRequest},re=new se;var ce=45e3,he={},le={};function fe(t){if(t.D&&"function"==typeof t.D)return t.D();if(s(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function de(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||s(t))I(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.D&&"function"==typeof t.D)n=void 0;else if(f(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=fe(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function pe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.fd(t)}function me(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r=ue.prototype,r.ha=function(t){this.J=t},r.setTimeout=function(t){this.L=t},r.Xc=function(t){this.K=t},r.Qd=function(t){this.j=t},r.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},r.bb=function(t,e,n){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(n)},r.ic=function(t){this.u=w(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new Bt(g(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?j(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),zt(1)},r.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},r.oc=function(t){try{t==this.a&&this.Ed()}catch(e){}},r.Ed=function(){var t=this.a.W(),e=this.a.Db(),n=this.a.aa();if(!(3>t||3==t&&!H&&!this.a.va()))if(this.l||4!=t||7==e||zt(8==e||0>=n?3:2),this.pa(),this.o=n=this.a.aa(),e=this.a.va(),this.b=200==n){if(this.Td()){if(!(n=this.Kc()))return this.b=!1,this.c=3,Yt(12),this.Z(),void this.ta();this.s=!0,this.Wa(n)}this.H?(this.vb(t,e),H&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==n&&0<e.indexOf("Unknown SID")?(this.c=3,Yt(12)):(this.c=0,Yt(13)),this.Z(),this.ta()},r.Td=function(){return this.Y&&!this.s},r.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!D(t))return t}return null},r.Md=function(){this.Y=!0},r.vb=function(t,e){for(var n=!0;!this.l&&this.A<e.length;){var r=this.Lc(e);if(r==le){4==t&&(this.c=4,Yt(14),n=!1);break}if(r==he){this.c=4,Yt(15),n=!1;break}this.Wa(r)}4==t&&0==e.length&&(this.c=1,Yt(16),n=!1),this.b=this.b&&n,n||(this.Z(),this.ta())},r.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},r.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},r.Lc=function(t){var e=this.A,n=t.indexOf("\n",e);return-1==n?le:(e=Number(t.substring(e,n)),isNaN(e)?he:(n+=1,n+e>t.length?le:(t=t.substr(n,e),this.A=n+e,t)))},r.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=w(),this.fa()},r.cancel=function(){this.l=!0,this.Z()},r.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},r.fa=function(){this.U=w()+this.L,this.mc(this.L)},r.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Jt(g(this.Dd,this),t)},r.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},r.Dd=function(){this.h=null;var t=w();0<=t-this.U?this.md():this.mc(this.U-t)},r.md=function(){2!=this.F&&(zt(3),Yt(17)),this.Z(),this.c=2,this.ta()},r.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},r.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},r.Wa=function(t){try{this.g.bc(this,t),zt(4)}catch(e){}},r=pe.prototype,r.D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.O=function(){return this.Ka(),this.a.concat()},r.Ra=function(t){return me(this.b,t)},r.hd=function(){return 0==this.c},r.gd=function(){this.b={},this.c=this.a.length=0},r.Qb=function(t){me(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},r.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var n=this.a[t];me(this.b,n)&&(this.a[e++]=n),t++}this.a.length=e}if(this.c!=this.a.length){var r={};for(e=t=0;t<this.a.length;)n=this.a[t],me(r,n)||(this.a[e++]=n,r[n]=1),t++;this.a.length=e}},r.get=function(t,e){return me(this.b,t)?this.b[t]:e},r.set=function(t,e){me(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.fd=function(t){if(t instanceof pe)for(var e=t.O(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.Pb=function(){return new pe(this)};var ye=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ve(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ge(t,e){var n;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof ge?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(n=String(t).match(ye))?(this.f=!!e,this.ma(n[1]||"",!0),this.$a(n[2]||"",!0),this.ka(n[3]||"",!0),this.la(n[4]),this.Ba(n[5]||"",!0),this.Za(n[6]||"",!0),this.Ya(n[7]||"",!0)):(this.f=!!e,this.a=new De(null,this.f))}function be(t){return t instanceof ge?t.N():new ge(t,void 0)}function we(t,e,n,r){var i=new ge(null,void 0);return t&&i.ma(t),e&&i.ka(e),n&&i.la(n),r&&i.Ba(r),i}function _e(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Se(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Te),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Te(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}r=ge.prototype,r.toString=function(){var t=[],e=this.b;e&&t.push(Se(e,Ee,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Se(e,Ee,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.Sa()&&"/"!=n.charAt(0)&&t.push("/"),t.push(Se(n,"/"==n.charAt(0)?ke:Ie,!0))),(n=this.Ic())&&t.push("?",n),(n=this.j)&&t.push("#",Se(n,Ce)),t.join("")},r.resolve=function(t){var e=this.N(),n=t.qd();n?e.ma(t.b):n=t.rd(),n?e.$a(t.i):n=t.Sa(),n?e.ka(t.c):n=t.od();var r=t.g;if(n)e.la(t.h);else if(n=t.Sb()){if("/"!=r.charAt(0))if(this.Sa()&&!this.Sb())r="/"+r;else{var i=e.g.lastIndexOf("/");-1!=i&&(r=e.g.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.Ba(r):n=t.pd(),n?e.Za(t.a.Gb()):n=t.nd(),n&&e.Ya(t.j),e},r.N=function(){return new ge(this)},r.ma=function(t,e){this.M(),(this.b=e?_e(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},r.qd=function(){return!!this.b},r.$a=function(t,e){this.M(),this.i=e?_e(t):t},r.rd=function(){return!!this.i},r.ka=function(t,e){this.M(),this.c=e?_e(t,!0):t},r.Sa=function(){return!!this.c},r.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},r.od=function(){return null!=this.h},r.Ba=function(t,e){this.M(),this.g=e?_e(t,!0):t},r.Sb=function(){return!!this.g},r.pd=function(){return""!==this.a.toString()},r.Za=function(t,e){this.M(),t instanceof De?(this.a=t,this.a.Oc(this.f)):(e||(t=Se(t,Ae)),this.a=new De(t,this.f))},r.Ic=function(){return this.a.toString()},r.m=function(t,e){this.M(),this.a.set(t,e)},r.Aa=function(t,e){this.M(),l(e)||(e=[String(e)]),this.a.lc(t,e)},r.Ya=function(t,e){this.M(),this.j=e?_e(t):t},r.nd=function(){return!!this.j},r.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),this},r.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var Ee=/[#\/\?@]/g,Ie=/[#\?:]/g,ke=/[#\?]/g,Ae=/[#\?@]/g,Ce=/#/g;function De(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Oe(){}function Ne(){}function xe(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function Re(){this.a=this.b=null}function Me(){this.a=new pe}function Pe(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[p]||(t[p]=++m)):e.charAt(0)+t}function Le(t,e){this.a=t,this.b=e}function je(t){this.g=t||Fe,a.PerformanceNavigationTiming?(t=a.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().te),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Me),this.b=null,this.c=[]}r=De.prototype,r.V=function(){if(!this.a&&(this.a=new pe,this.b=0,this.c)){var t=this;ve(this.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.add=function(t,e){this.V(),this.ia(),t=this.$(t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},r.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},r.forEach=function(t,e){this.V(),this.a.forEach(function(n,r){I(n,function(n){t.call(e,n,r,this)},this)},this)},r.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.D=function(t){this.V();var e=[];if(s(t))this.Hb(t)&&(e=A(e,this.a.get(this.$(t))));else{t=this.a.D();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},r.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t?(t=this.D(t),0<t.length?String(t[0]):e):e},r.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),C(e)),this.b+=e.length)},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.D(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},r.ia=function(){this.c=null},r.Gb=function(){var t=new De;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},r.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},r.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.Ib(e),this.lc(n,t))},this)),this.f=t},_(Ne,Oe),r=xe.prototype,r.R=null,r.Wc=function(t){this.h=t},r.Vc=function(t){this.i=t,t=this.a.Cb(this.i),Yt(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new ue(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},r.rb=function(){var t=this.a.H.a;if(null!=t)Yt(4),t?(Yt(10),this.a.na(this,!1)):(Yt(11),this.a.na(this,!0));else{this.b=new ue(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),Yt(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,n=this.a.Fa;e&&n&&t.m(e,n),this.b.bb(t,!1,this.f)}},r.sa=function(t){return this.a.sa(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Tb=function(){return!1},r.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var n=this.a.U.a(e)}catch(r){return void this.a.ab(this)}this.f=this.a.Oa(n[0])}else this.a.ab(this);else 1==this.R&&(this.g?Yt(6):"11111"==e?(Yt(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),Yt(11),this.a.na(this,!0))):(Yt(7),this.g=!1))},r.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(Yt(11),this.a.na(this,!0)):(Yt(10),this.a.na(this,!1))):(0==this.R?Yt(8):1==this.R&&Yt(9),this.a.ab(this))},r.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},r.Da=function(){return this.a.Da()},r.Pa=function(){return this.a.Pa()},r.Ac=function(){return!K||10<=Number(Z)},r=Me.prototype,r.add=function(t){this.a.set(Pe(t),t)},r.ed=function(t){this.a.Qb(Pe(t))},r.jd=function(){this.a.gd()},r.Rb=function(){return this.a.hd()},r.Ob=function(t){return this.a.Ra(Pe(t))},r.D=function(){return this.a.D()};var Fe=10;function Ue(){this.b=this.a=void 0}function Ve(){this.f=new Ue}function qe(t,e){var n=new $t,r=new Image;r.onload=b(Be,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(Be,n,r,"TestLoadImage: error",!1,e),r.onabort=b(Be,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(Be,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function Be(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}r=je.prototype,r.kb=function(t){!this.a&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(this.f=this.g,this.a=new Me,this.b&&(this.Ha(this.b),this.b=null))},r.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},r.Mc=function(){return this.b?1:this.a?this.a.a.c:0},r.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},r.Ha=function(t){this.a?this.a.add(t):this.b=t},r.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},r.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(I(this.a.D(),function(t){t.cancel()}),this.a.jd())},r.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return I(this.a.D(),function(e){t=t.concat(e.j)}),t}return C(this.c)},r.wc=function(t){this.c=this.c.concat(t)},r.Bc=function(){this.c.length=0},Ue.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},Ue.prototype.parse=function(t){return a.JSON.parse(t,this.b)},Ve.prototype.b=function(t,e,n){var r=n||"";try{de(t,function(t,n){var i=t;d(t)&&(i=Dt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}},Ve.prototype.c=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?(r=t[0].a,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var s=t[a].a,u=t[a].b;if(s-=r,0>s)r=Math.max(0,t[a].a-100),o=!1;else try{this.b(u,i,"req"+s+"_")}catch(c){n&&n(u)}}if(o)return i.join("&")}},Ve.prototype.a=function(t){return this.f.parse(t)};var We=a.JSON.parse;function Ke(t){Ct.call(this),this.headers=new pe,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=$e,this.H=this.L=this.I=!1}_(Ke,Ct);var $e="",He=/^https?$/i,Ge=["POST","PUT"];function ze(t){return K&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Qe(t){return"content-type"==t.toLowerCase()}function Ye(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function Xe(t){var e="";return L(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function Je(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=Xe(n),s(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(n=t.indexOf("#"),0>n&&(n=t.length),r=t.indexOf("?"),0>r||r>n){r=n;var i=""}else i=t.substring(r+1,n);t=[t.substr(0,r),i,t.substr(n)],n=t[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,n),t}function Ze(t){this.gb=22,this.g=[],this.H=new Re,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!u("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.ue||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new je(t&&t.concurrentRequestLimit),this.U=new Ve,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.se&&(this.eb=!1)}function tn(){}function en(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else(r=""==e)||(r=e.length-1,r=0<=r&&e.indexOf("/",r)==r),e+=r?i:"/"+i}return e}function nn(){if(K&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function rn(t,e){Ct.call(this),this.a=new Ze(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:en(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.a.Od(e),t=this.b,null!==t&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new sn(this)}function on(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function an(){ae.call(this),this.status=1}function sn(t){this.a=t}r=Ke.prototype,r.Sd=function(t){this.I=t},r.xa=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():re.c(),this.a.onreadystatechange=g(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=g(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=g(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void this.Ab(o)}t=n||"";var i=this.headers.Pb();r&&de(r,function(t,e){i.set(e,t)}),r=k(i.O()),n=a.FormData&&t instanceof a.FormData,!(0<=E(Ge,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=ze(this.a))?(this.a.timeout=this.u,this.a.ontimeout=g(this.Nb,this)):this.s=qt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(o){this.Ab(o)}},r.Ec=function(){return this.l?this.l.b():re.b()},r.Nb=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},r.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),Ke.S.G.call(this)},r.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},r.Bd=function(){this.$b()},r.$b=function(){if(this.b&&"undefined"!=typeof o&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())qt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},r.Zb=function(t,e){this.dispatchEvent(Ye(t,"progress")),this.dispatchEvent(Ye(t,e?"downloadprogress":"uploadprogress"))},r.qa=function(t){if(this.a){this.sb();var e=this.a,n=this.v[0]?c:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(r){}}},r.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},r.td=function(){return 4==this.W()},r.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},r.ud=function(){var t=String(this.C).match(ye)[1]||null;return!t&&a.self&&a.self.location&&(t=a.self.location.protocol,t=t.substr(0,t.length-1)),He.test(t?t.toLowerCase():"")},r.W=function(){return this.a?this.a.readyState:0},r.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(t){return-1}},r.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(t){return""}},r.va=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},r.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),We(e)}},r.ga=function(t){return this.a?this.a.getResponseHeader(t):null},r.Db=function(){return this.h},r.dd=function(){return s(this.f)?this.f:String(this.f)},r=Ze.prototype,r.qb=8,r.w=1,r.bd=function(t,e,n){Yt(0),this.Ea=e,this.ca=n||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},r.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new ue(this,t,void 0).Ld(e)}this.Yb()},r.Dc=function(t){this.v=new xe(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=Je(t,this.f,this.h)),this.v.Vc(e)},r.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},r.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},r.cd=function(t){this.h=t},r.Pd=function(t){this.J=t},r.Nd=function(t){this.f=t},r.Od=function(t){this.j=t},r.kc=function(t){this.Fa=t},r.Rd=function(){this.T=!0},r.jc=function(t){this.b=t},r.sd=function(){return!this.Ga},r.Xa=function(t){this.g.push(new Le(this.zc++,t)),3==this.w&&this.Ma()},r.Jc=function(){return this.uc?0:this.pc},r.Tb=function(){return 0==this.w},r.Ma=function(){this.c.Ub()||this.i||(this.i=Jt(g(this.dc,this),0),this.A=0)},r.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0))&&(this.i?(this.g=t.j.concat(this.g),!0):!(1==this.w||2==this.w||this.A>=this.Jc())&&(this.i=Jt(g(this.dc,this,t),this.Eb(this.A)),this.A++,!0))},r.dc=function(t){this.i=null,this.Xd(t)},r.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},r.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new ue(this,t,void 0),n=this.h;this.J&&(n?(n=j(n),U(n,this.J)):n=this.J),null===this.f&&e.ha(n);var r=this.wb(e),i=this.C.N();i.m("RID",t),0<this.gb&&i.m("CVER",this.gb),this.o&&this.j&&i.m("X-HTTP-Session-Id",this.j),this.ea(i),this.f&&n&&Je(i,this.f,n),this.c.Ha(e),this.hb?(i.m("$req",r),i.m("SID","null"),e.Md(),e.cb(i,null)):e.cb(i,r)},r.Wb=function(t){var e;e=t?t.da:this.L++;var n=this.C.N();n.m("SID",this.I),n.m("RID",e),n.m("AID",this.K),this.ea(n),this.f&&this.h&&Je(n,this.f,this.h),e=new ue(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(n,t)},r.ea=function(t){this.b&&de({},function(e,n){t.m(n,e)})},r.wb=function(t){var e=Math.min(this.g.length,1e3),n=this.b?g(this.b.yc,this.b,this):null;return n=this.U.c(this.g,e,n),t.Qd(this.g.splice(0,e)),n},r.Jd=function(t){this.g=t.j.concat(this.g)},r.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;xt||Lt(),jt||(xt(),jt=!0),Ft.add(t,this),this.u=0}},r.Ua=function(){return!(this.a||this.l||3<=this.u)&&(this.Y++,this.l=Jt(g(this.cc,this),this.Eb(this.u)),this.u++,!0)},r.cc=function(){this.l=null,this.Vd()},r.Vd=function(){this.a=new ue(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&Je(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},r.na=function(t,e){var n=t.l;n&&this.c.kb(n),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},r.ab=function(t){this.B=t.c,this.X(2)},r.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var n=this.U.a(e)}catch(r){n=null}l(n)&&3==n.length?this.ld(n,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),D(e)||(n=this.U.a(e),this.Ad(n,t))},r.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Jt(g(this.yd,this),6e3)))},r.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),Yt(18)}},r.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},r.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},r.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),Yt(19))},r.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},r.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var n=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),n=1}if(this.B=t.o,0!=this.w)if(t.b)1==n?(n=w()-t.u,Ht.dispatchEvent(new Xt(Ht,t.i?t.i.length:0,n,this.A)),this.Ma()):this.zb();else{var r=t.c;if(3==r||0==r&&0<this.B||!(1==n&&this.xd(t)||2==n&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),r){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},r.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},r.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},r.Ad=function(t,e){for(var n=this.b&&this.b.Ia?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.K=i[0],i=i[1],2==this.w)if("c"==i[0]){this.I=i[1],this.da=this.Oa(i[2]);var o=i[3];null!=o&&(this.qb=o),i=i[5],null!=i&&"number"==typeof i&&0<i&&(this.F=1.5*i),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=i[0]&&"close"!=i[0]||this.X(7);else 3==this.w&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.b.Ia(this,n),n.length=0),"stop"==i[0]?this.X(7):this.Qa()):"noop"!=i[0]&&(n?n.push(i):this.b&&this.b.ob(i)),this.u=0)}n&&0!=n.length&&this.b.Ia(this,n)},r.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},r.X=function(t){if(2==t){var e=null;this.b&&(e=null);var n=g(this.Zd,this);e||(e=new ge("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),qe(e.toString(),n)}else Yt(2);this.zd(t)},r.Zd=function(t){Yt(t?2:1)},r.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},r.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),C(this.g),this.g.length=0),this.b.mb())},r.Cb=function(t){return this.ub(null,t)},r.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},r.ub=function(t,e){var n=be(e);if(""!=n.c)t&&n.ka(t+"."+n.c),n.la(n.h);else{var r,i=a.location;r=t?t+"."+i.hostname:i.hostname,n=we(i.protocol,r,+i.port,e)}return this.ca&&L(this.ca,function(t,e){n.m(e,t)}),t=this.j,e=this.Fa,t&&e&&n.m(t,e),n.m("VER",this.qb),this.ea(n),n},r.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return t=new Ke(this.xc),t.Sd(this.T),t},r.Pa=function(){return!!this.b&&!0},r.Da=function(){return this.T},r=tn.prototype,r.Ia=null,r.pb=function(){},r.ob=function(){},r.nb=function(){},r.mb=function(){},r.yc=function(){},r.$c=function(t){return t},nn.prototype.a=function(t,e){return new rn(t,e)},_(rn,Ct),r=rn.prototype,r.addEventListener=function(t,e,n,r){rn.S.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){rn.S.removeEventListener.call(this,t,e,n,r)},r.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},r.close=function(){this.a.Qa()},r.Zc=function(t){if(s(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?(e={},e.__data__=Dt(t),this.a.Xa(e)):this.a.Xa(t)},r.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,rn.S.G.call(this)},_(on,oe),_(an,ae),_(sn,tn),sn.prototype.pb=function(){this.a.dispatchEvent("a")},sn.prototype.ob=function(t){this.a.dispatchEvent(new on(t))},sn.prototype.nb=function(t){this.a.dispatchEvent(new an(t))},sn.prototype.mb=function(){this.a.dispatchEvent("b")};var un=b(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},nn);nn.prototype.createWebChannel=nn.prototype.a,rn.prototype.send=rn.prototype.Zc,rn.prototype.open=rn.prototype.Yc,rn.prototype.close=rn.prototype.close,Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Lb,Ke.prototype.listenOnce=Ke.prototype.Mb,Ke.prototype.getLastError=Ke.prototype.dd,Ke.prototype.getLastErrorCode=Ke.prototype.Db,Ke.prototype.getStatus=Ke.prototype.aa,Ke.prototype.getStatusText=Ke.prototype.Fb,Ke.prototype.getResponseJson=Ke.prototype.Nc,Ke.prototype.getResponseText=Ke.prototype.va,Ke.prototype.send=Ke.prototype.xa;var cn={createWebChannelTransport:un,ErrorCode:Zt,EventType:te,WebChannel:ne,XhrIo:Ke},hn=cn.createWebChannelTransport,ln=cn.ErrorCode,fn=cn.EventType,dn=cn.WebChannel,pn=cn.XhrIo;e["default"]=cn}.call(this,n("c8ba"))},c88d:function(t,e,n){var r=n("aad8").document;t.exports=r&&r.documentElement},c8b8:function(t,e,n){n("bb4d")("asyncIterator")},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cad0:function(t,e,n){var r=n("5051"),i=n("ab4f"),o=n("2223"),a=Object.defineProperty;e.f=n("948a")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cba9:function(t,e,n){var r=n("669d"),i=n("aad8").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},cc61:function(t,e,n){for(var r=n("53c9"),i=n("f40b"),o=n("4c35"),a=n("aad8"),s=n("1982"),u=n("42d9"),c=n("8d98"),h=c("iterator"),l=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var y,v=p[m],g=d[v],b=a[v],w=b&&b.prototype;if(w&&(w[h]||s(w,h,f),w[l]||s(w,l,v),u[v]=f,g))for(y in r)w[y]||o(w,y,r[y],!0)}},cd51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fbb0"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var h=i<t.length,l=h?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==l)throw Error();var f=o<<2|s>>4;if(r.push(f),64!=c){var d=s<<4&240|c>>2;if(r.push(d),64!=l){var p=c<<6&192|l;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=s(t);return c.encodeByteArray(e,!0)},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=d(t[r],e[r]));return t}function p(t,e,n){t[e]=n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),y=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""},v=function(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},g=function(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]},b=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},w="FirebaseError",_=Error.captureStackTrace;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t){var e=_;return _=t,e}var T=function(){function t(t,e){if(this.code=t,this.message=e,_)_(this,E.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name=w,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();T.prototype=Object.create(Error.prototype),T.prototype.constructor=T,T.prototype.name=w;var E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new T(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t){return JSON.parse(t)}function k(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=I(l(o[0])||""),n=I(l(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(a){}return{header:e,claims:n,data:r,signature:i}},C=function(t){var e,n,r=A(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"===typeof r&&(r.hasOwnProperty("nbf")?e=r["nbf"]:r.hasOwnProperty("iat")&&(e=r["iat"]),n=r.hasOwnProperty("exp")?r["exp"]:e+86400),i&&e&&n&&i>=e&&i<=n},D=function(t){var e=A(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},O=function(t){var e=A(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},N=function(t){var e=A(t).claims;return"object"===typeof e&&!0===e["admin"]},x=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},R=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},M=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},P=function(t,e){return M(e,function(e,n){t[e]=n}),t},L=function(t){return P({},t)},j=function(t){return"object"===typeof t&&null!==t},F=function(t){for(var e in t)return!1;return!0},U=function(t){var e=0;for(var n in t)e++;return e},V=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},q=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},B=function(t,e,n){var r=q(t,e,n);return r&&t[r]},W=function(t){for(var e in t)return e},K=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},$=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},H=function(t){var e=[];return M(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},G=function(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},z=function(){function t(){this.blockSize=-1}return t}(),Q=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),a=1518500249):(o=u^c^h,a=1859775393):r<60?(o=u&c|h&(u|c),a=2400959708):(o=u^c^h,a=3395469782);i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0==o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(z);function Y(t,e){var n=new X(t,e);return n.subscribe.bind(n)}var X=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=Z(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=tt),void 0===r.error&&(r.error=tt),void 0===r.complete&&(r.complete=tt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function J(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function Z(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function tt(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function nt(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function rt(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(nt(t,e,r)+"must be a valid firebase namespace.")}function it(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(nt(t,e,r)+"must be a valid function.")}function ot(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(nt(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate.");var s=t.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},st=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e.assert=o,e.assertionError=a,e.base64=c,e.base64Decode=l,e.base64Encode=h,e.CONSTANTS=i,e.deepCopy=f,e.deepExtend=d,e.patchProperty=p,e.Deferred=m,e.getUA=y,e.isMobileCordova=v,e.isNodeSdk=b,e.isReactNative=g,e.ErrorFactory=E,e.FirebaseError=T,e.patchCapture=S,e.jsonEval=I,e.stringify=k,e.decode=A,e.isAdmin=N,e.issuedAtTime=D,e.isValidFormat=O,e.isValidTimestamp=C,e.clone=L,e.contains=x,e.every=$,e.extend=P,e.findKey=q,e.findValue=B,e.forEach=M,e.getAnyKey=W,e.getCount=U,e.getValues=K,e.isEmpty=F,e.isNonNullObject=j,e.map=V,e.safeGet=R,e.querystring=H,e.querystringDecode=G,e.Sha1=Q,e.async=J,e.createSubscribe=Y,e.errorPrefix=nt,e.validateArgCount=et,e.validateCallback=it,e.validateContextObject=ot,e.validateNamespace=rt,e.stringLength=st,e.stringToByteArray=at},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e1fb:function(t,e,n){var r=n("ad20"),i=n("18cc").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},e71f:function(t,e,n){"use strict";n("e89a")},e821:function(t,e,n){var r=n("2fde");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},e89a:function(t,e,n){"use strict";function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n("c23d")),a=n("abfd"),s=n("a2cd"),u=n("c7b2"),c=n("cd51"),h=o.SDK_VERSION,l=new a.Logger("@firebase/firestore");function f(){return l.logLevel===a.LogLevel.DEBUG?i.DEBUG:l.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function d(t){switch(t){case i.DEBUG:l.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:l.logLevel=a.LogLevel.ERROR;break;case i.SILENT:l.logLevel=a.LogLevel.SILENT;break;default:l.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=a.LogLevel.DEBUG){var i=n.map(y);l.debug.apply(l,["Firestore ("+h+") ["+t+"]: "+e].concat(i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=a.LogLevel.ERROR){var r=e.map(y);l.error.apply(l,["Firestore ("+h+"): "+t].concat(r))}}function y(t){if("string"===typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t){var e="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function g(t,e){t||v(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["ERROR"]=1]="ERROR",t[t["SILENT"]=2]="SILENT"})(i||(i={}));var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function T(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new S(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function k(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function A(t){var e=[];return C(t,function(t,n){return e.push(n)}),e}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D(t){for(var e in g(null!=t&&"object"===typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t){g(t&&"object"===typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t,e,n){if(e.length!==n)throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires "+X(n,"argument")+", but was called with "+X(e.length,"argument")+".")}function x(t,e,n){if(e.length<n)throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+X(n,"argument")+", but was called with "+X(e.length,"argument")+".")}function R(t,e,n,r){if(e.length<n||e.length>r)throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+X(e.length,"argument")+".")}function M(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+X(r,"element")+".")}function P(t,e,n,r){W(t,e,Y(n)+" argument",r)}function L(t,e,n,r){void 0!==r&&P(t,e,n,r)}function j(t,e,n,r){W(t,e,n+" option",r)}function F(t,e,n,r){void 0!==r&&j(t,e,n,r)}function U(t,e,n,r,i){if(!(r instanceof Array))throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+$(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+$(r[o]))}function V(t,e,n,r,i){void 0!==r&&U(t,e,n,r,i)}function q(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push($(u))}var c=$(r);throw new S(_.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}function B(t,e,n,r,i){void 0!==r&&q(t,e,n,r,i)}function W(t,e,n,r){var i=!1;if(i="object"===e?K(r):"non-empty string"===e?"string"===typeof r&&""!==r:typeof r===e,!i){var o=$(r);throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function K(t){return"object"===typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function $(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"===typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"===typeof t||"boolean"===typeof t)return""+t;if("object"===typeof t){if(t instanceof Array)return"an array";var e=H(t);return e?"a custom "+e+" object":"an object"}return"function"===typeof t?"a function":v("Unknown wrong type: "+typeof t)}function H(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/,n=e.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}function G(t,e,n){if(void 0===n)throw new S(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Y(e)+" argument, but it was undefined.")}function z(t,e,n){C(e,function(e,r){if(n.indexOf(e)<0)throw new S(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function Q(t,e,n,r){var i=$(r);return new S(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+Y(n)+" argument to be a "+e+", but it was: "+i)}function Y(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function X(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function Z(t,e){return t<e?-1:t>e?1:0}function tt(t,e){return null!==t&&void 0!==t?!(!e||!t.isEqual(e)):t===e}function et(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function nt(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(){if("undefined"===typeof Uint8Array)throw new S(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function it(){if(!b.getPlatform().base64Available)throw new S(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ot,at,st=function(){function t(t){it(),this._binaryString=t}return t.fromBase64String=function(e){N("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),it();try{var n=b.getPlatform().atob(e);return new t(n)}catch(r){throw new S(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(N("Blob.fromUint8Array",arguments,1),rt(),!(e instanceof Uint8Array))throw Q("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(n)},t.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),it(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){N("Blob.toUint8Array",arguments,0),rt();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Z(this._binaryString,t._binaryString)},t}(),ut=T(st,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ct=function(){function t(t,e){if(N("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new S(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new S(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Z(this._lat,t._lat)||Z(this._long,t._long)},t}(),ht=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3),r=1e6*(e-1e3*n);return new t(n,r)},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Z(this.nanoseconds,t.nanoseconds):Z(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),lt=function(){function t(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}return t}(),ft="(default)",dt=function(){function t(t,e){this.projectId=t,this.database=e||ft}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===ft},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Z(this.projectId,t.projectId)||Z(this.database,t.database)},t}(),pt="__name__",mt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"===typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,g(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return g(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new S(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");var n=t.split("/").filter(function(t){return t.length>0});return new e(n)},e.EMPTY_PATH=new e([]),e}(mt),vt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.isValidIdentifier=function(t){return vt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===pt},e.keyField=function(){return new e([pt])},e.fromServerFormat=function(t){var n=[],r="",i=0,o=function(){if(0===r.length)throw new S(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;while(i<t.length){var s=t[i];if("\\"===s){if(i+1===t.length)throw new S(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new S(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(mt),bt=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===yt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return yt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2===0},t.fromSegments=function(e){return new t(new yt(e.slice()))},t.fromPathString=function(e){return new t(yt.fromString(e))},t.EMPTY=new t(new yt([])),t}(),wt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return bt.comparator(t.key,e.key)},t}(),_t=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return s.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(wt),St=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wt),Tt=function(t){function e(e,n){return t.call(this,e,n)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wt),Et=function(){function t(t,e){this.comparator=t,this.root=e||kt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))},t.prototype.get=function(t){var e=this.root;while(!e.isEmpty()){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){var e=0,n=this.root;while(!n.isEmpty()){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new It(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new It(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new It(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new It(this.root,t,this.comparator,!0)},t}(),It=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];var i=1;while(!t.isEmpty())if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse){t=t.left;while(!t.isEmpty())this.nodeStack.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack.push(t),t=t.left}return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),kt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new kt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();kt.EMPTY=new At,function(t){t[t["NullValue"]=0]="NullValue",t[t["BooleanValue"]=1]="BooleanValue",t[t["NumberValue"]=2]="NumberValue",t[t["TimestampValue"]=3]="TimestampValue",t[t["StringValue"]=4]="StringValue",t[t["BlobValue"]=5]="BlobValue",t[t["RefValue"]=6]="RefValue",t[t["GeoPointValue"]=7]="GeoPointValue",t[t["ArrayValue"]=8]="ArrayValue",t[t["ObjectValue"]=9]="ObjectValue"}(ot||(ot={})),function(t){t[t["Default"]=0]="Default",t[t["Estimate"]=1]="Estimate",t[t["Previous"]=2]="Previous"}(at||(at={}));var Ct=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(at.Estimate,n);case"previous":return new t(at.Previous,n);case"none":case void 0:return new t(at.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),Dt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type.");var e=Z(this.typeOrder,t.typeOrder);return e},t}(),Ot=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ot.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Dt),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Z(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Dt),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Rt(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Dt);function Rt(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function Mt(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}var Pt=function(t){function e(e){return t.call(this,e)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Mt(this.internalValue,t.internalValue)},e}(xt),Lt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Mt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(xt),jt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Z(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Dt),Ft=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Ut?-1:this.defaultCompareTo(t)},e}(Dt),Ut=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ot.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===at.Estimate?new Ft(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===at.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Ft?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Dt),Vt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Dt),qt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ot.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:bt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Dt),Bt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Dt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();while(n.hasNext()&&r.hasNext()){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();while(n.hasNext()&&r.hasNext()){var i=n.getNext(),o=r.getNext(),a=Z(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return Z(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Et(Z)),e}(Dt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ot.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Z(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(Dt),$t=Number,Ht=$t.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Gt=$t.MAX_SAFE_INTEGER||Math.pow(2,53)-1,zt=$t.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t};function Qt(t){return null===t||void 0===t}function Yt(t){return zt(t)&&t<=Gt&&t>=Ht}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Jt=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[se]:this.memoizedOrderBy=[new ae(t),se];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ie.ASCENDING;this.memoizedOrderBy.push(a===ie.ASCENDING?se:ue)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof ee)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!bt.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!bt.isDocumentKey(this.path),"No ordering allowed for document query"),g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];t+=r.canonicalId(),t+=","}t+="|ob:";for(var i=0,o=this.orderBy;i<o.length;i++){var a=o[i];t+=a.canonicalId(),t+=","}Qt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Qt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Qt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof ee&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof ee&&t.op===te.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return bt.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return bt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(!r.matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Zt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Ot.INSTANCE)){if(e!==te.EQUAL)throw new S(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new ne(t)}if(n.isEqual(Lt.NAN)){if(e!==te.EQUAL)throw new S(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new re(t)}return new ee(t,e,n)},t}(),te=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),ee=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof qt,"Comparing on key, but filter value not a RefValue"),g(this.op!==te.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=bt.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===te.ARRAY_CONTAINS?t instanceof Kt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case te.LESS_THAN:return t<0;case te.LESS_THAN_OR_EQUAL:return t<=0;case te.EQUAL:return 0===t;case te.GREATER_THAN:return t>0;case te.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==te.EQUAL&&this.op!==te.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Zt),ne=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Zt),re=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"===typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Zt),ie=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),oe=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){var r=n[e];t+=r.toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof qt,"Bound has a non-key value where the key path is being used."),n=bt.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===ie.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.isEqual(r)}return!0},t}(),ae=function(){function t(t,e){this.field=t,void 0===e&&(e=ie.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?_t.compareByKey(t,e):_t.compareByField(this.field,t,e);switch(this.dir){case ie.ASCENDING:return n;case ie.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),se=new ae(gt.keyField(),ie.ASCENDING),ue=new ae(gt.keyField(),ie.DESCENDING),ce=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6),r=e%1e6*1e3;return new t(new ht(n,r))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new ht(0,0)),t}();(function(t){t[t["Listen"]=0]="Listen",t[t["ExistenceFilterMismatch"]=1]="ExistenceFilterMismatch",t[t["LimboResolution"]=2]="LimboResolution"})(Xt||(Xt={}));var he,le=function(){function t(t,e,n,r,i,o){void 0===i&&(i=ce.MIN),void 0===o&&(o=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),fe=function(){function t(t){this.comparator=t,this.data=new Et(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){var n=this.data.getIteratorFrom(t[0]);while(n.hasNext()){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();while(n.hasNext()){var r=n.getNext(),i=t(r.key);if(!i)return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new de(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new de(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;var n=this.data.getIterator(),r=e.data.getIterator();while(n.hasNext()){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),de=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new fe(gt.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),me=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ye=function(){function t(t,e){this.version=t,this.transformResults=e}return t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["Set"]=0]="Set",t[t["Patch"]=1]="Patch",t[t["Transform"]=2]="Transform",t[t["Delete"]=3]="Delete"})(he||(he={}));var ve=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof _t&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof _t:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return tt(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),ge=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof _t?t.version:ce.MIN},t}(),be=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=he.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new _t(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ge.getPostMutationVersion(t);return new _t(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ge),we=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=he.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Tt(this.key,e.version);var n=this.patchDocument(t);return new _t(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ge.getPostMutationVersion(t),i=this.patchDocument(t);return new _t(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof _t?t.data:Wt.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(ge),_e=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=he.Transform,r.precondition=ve.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Tt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new _t(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new _t(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&et(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof _t,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof _t&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof _t&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.field;t=t.set(i,e[n])}return t},e}(ge),Se=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=he.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new St(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new St(this.key,ce.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(ge),Te=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Ut(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Ee=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ke(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){var o=i[r];n(o)}return new Kt(e)},t.prototype.isEqual=function(e){return e instanceof t&&et(e.elements,this.elements)},t}(),Ie=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ke(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){var o=i[r];n(o)}return new Kt(e)},t.prototype.isEqual=function(e){return e instanceof t&&et(e.elements,this.elements)},t}();function ke(t){return t instanceof Kt?t.internalValue.slice():[]}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Ce=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t){switch(t){case _.OK:return v("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Oe(t){return De(t)&&t!==_.ABORTED}function Ne(t){var e=Ae[t];if(void 0!==e)return xe(e)}function xe(t){if(void 0===t)return m("GRPC error has no .code"),_.UNKNOWN;switch(t){case Ae.OK:return _.OK;case Ae.CANCELLED:return _.CANCELLED;case Ae.UNKNOWN:return _.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return _.INTERNAL;case Ae.UNAVAILABLE:return _.UNAVAILABLE;case Ae.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ae.NOT_FOUND:return _.NOT_FOUND;case Ae.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ae.ABORTED:return _.ABORTED;case Ae.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ae.DATA_LOSS:return _.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Re(t){if(void 0===t)return Ae.OK;switch(t){case _.OK:return Ae.OK;case _.CANCELLED:return Ae.CANCELLED;case _.UNKNOWN:return Ae.UNKNOWN;case _.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case _.INTERNAL:return Ae.INTERNAL;case _.UNAVAILABLE:return Ae.UNAVAILABLE;case _.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case _.NOT_FOUND:return Ae.NOT_FOUND;case _.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case _.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case _.ABORTED:return Ae.ABORTED;case _.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case _.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case _.DATA_LOSS:return Ae.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Me(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["OK"]=0]="OK",t[t["CANCELLED"]=1]="CANCELLED",t[t["UNKNOWN"]=2]="UNKNOWN",t[t["INVALID_ARGUMENT"]=3]="INVALID_ARGUMENT",t[t["DEADLINE_EXCEEDED"]=4]="DEADLINE_EXCEEDED",t[t["NOT_FOUND"]=5]="NOT_FOUND",t[t["ALREADY_EXISTS"]=6]="ALREADY_EXISTS",t[t["PERMISSION_DENIED"]=7]="PERMISSION_DENIED",t[t["UNAUTHENTICATED"]=16]="UNAUTHENTICATED",t[t["RESOURCE_EXHAUSTED"]=8]="RESOURCE_EXHAUSTED",t[t["FAILED_PRECONDITION"]=9]="FAILED_PRECONDITION",t[t["ABORTED"]=10]="ABORTED",t[t["OUT_OF_RANGE"]=11]="OUT_OF_RANGE",t[t["UNIMPLEMENTED"]=12]="UNIMPLEMENTED",t[t["INTERNAL"]=13]="INTERNAL",t[t["UNAVAILABLE"]=14]="UNAVAILABLE",t[t["DATA_LOSS"]=15]="DATA_LOSS"})(Ae||(Ae={}));var Pe=new Et(bt.comparator);function Le(){return Pe}function je(){return Le()}var Fe=new Et(bt.comparator);function Ue(){return Fe}var Ve=new Et(bt.comparator);function qe(){return Ve}var Be=new fe(bt.comparator);function We(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Be,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ke=new fe(Z);function $e(){return Ke}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Ge,ze=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bt.comparator(e.key,n.key)}:function(t,e){return bt.comparator(t.key,e.key)},this.keyedMap=Ue(),this.sortedSet=new Et(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();while(n.hasNext()){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["Added"]=0]="Added",t[t["Removed"]=1]="Removed",t[t["Modified"]=2]="Modified",t[t["Metadata"]=3]="Metadata"})(He||(He={})),function(t){t[t["Local"]=0]="Local",t[t["Synced"]=1]="Synced"}(Ge||(Ge={}));var Qe,Ye=function(){function t(){this.changeMap=new Et(bt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==He.Added&&n.type===He.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===He.Metadata&&n.type!==He.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===He.Modified&&n.type===He.Modified?this.changeMap=this.changeMap.insert(e,{type:He.Modified,doc:t.doc}):t.type===He.Modified&&n.type===He.Added?this.changeMap=this.changeMap.insert(e,{type:He.Added,doc:t.doc}):t.type===He.Removed&&n.type===He.Added?this.changeMap=this.changeMap.remove(e):t.type===He.Removed&&n.type===He.Modified?this.changeMap=this.changeMap.insert(e,{type:He.Removed,doc:n.doc}):t.type===He.Added&&n.type===He.Removed?this.changeMap=this.changeMap.insert(e,{type:He.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Xe=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:He.Added,doc:t})}),new t(e,n,ze.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.syncStateChanged!==t.syncStateChanged||!this.mutatedKeys.isEqual(t.mutatedKeys)||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Je=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=(r={},r[e]=Ze.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(ce.MIN,i,$e(),Le(),We())},t}(),Ze=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,We(),We(),We())},t}(),tn=function(){function t(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}return t}(),en=function(){function t(t,e){this.targetId=t,this.existenceFilter=e}return t}();(function(t){t[t["NoChange"]=0]="NoChange",t[t["Added"]=1]="Added",t[t["Removed"]=2]="Removed",t[t["Current"]=3]="Current",t[t["Reset"]=4]="Reset"})(Qe||(Qe={}));var nn=function(){function t(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}return t}(),rn=function(){function t(){this.pendingResponses=0,this.documentChanges=sn(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=We(),e=We(),n=We();return this.documentChanges.forEach(function(r,i){switch(i){case He.Added:t=t.add(r);break;case He.Modified:e=e.add(r);break;case He.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}}),new Ze(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=sn()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),on=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Le(),this.pendingDocumentTargetMapping=an(),this.pendingTargetResets=new fe(Z)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof _t?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof St&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Qe.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Qe.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Qe.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Qe.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Qe.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):k(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new bt(i.path);this.removeDocumentFromTarget(e,o,new St(o,ce.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else{var a=this.getCurrentDocumentCountForTarget(e);a!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}}},t.prototype.createRemoteEvent=function(t){var e=this,n={};k(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new bt(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new St(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=We();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Xt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Je(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Le(),this.pendingDocumentTargetMapping=an(),this.pendingTargetResets=new fe(Z),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?He.Modified:He.Added,r=this.ensureTargetState(t);r.addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,He.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t),n=e.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){var e=this.ensureTargetState(t);e.recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new rn),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new fe(Z),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new rn;var n=this.metadataProvider.getRemoteKeysForTarget(t);n.forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){var n=this.metadataProvider.getRemoteKeysForTarget(t);return n.has(e)},t}();function an(){return new Et(bt.comparator)}function sn(){return new Et(bt.comparator)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(){var t={};return t[ie.ASCENDING.name]="ASCENDING",t[ie.DESCENDING.name]="DESCENDING",t}(),cn=function(){var t={};return t[te.LESS_THAN.name]="LESS_THAN",t[te.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[te.GREATER_THAN.name]="GREATER_THAN",t[te.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[te.EQUAL.name]="EQUAL",t[te.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t}(),hn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ln(t,e){g(!Qt(t),e+" is missing")}function fn(t){return"number"===typeof t?t:"string"===typeof t?Number(t):v("can't parse "+t)}var dn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:xe(t.code);return new S(e,t.message||"")},t.prototype.toInt32Value=function(t){return Qt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return e="object"===typeof t?t.value:t,Qt(e)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"===typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=fn(t.seconds||"0"),n=t.nanos||0;return new ht(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=hn.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new ht(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"===typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),st.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),st.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),ce.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=yt.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new bt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?yt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){var t=new yt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]);return t.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new yt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ot)return{nullValue:"NULL_VALUE"};if(t instanceof Nt)return{booleanValue:t.value()};if(t instanceof Pt)return{integerValue:""+t.value()};if(t instanceof Lt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof jt?{stringValue:t.value()}:t instanceof Wt?{mapValue:this.toMapValue(t)}:t instanceof Kt?{arrayValue:this.toArrayValue(t)}:t instanceof Ft?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Bt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Vt?{bytesValue:this.toBytes(t.value())}:t instanceof qt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t["value_type"];if(pn(t,n,"nullValue"))return Ot.INSTANCE;if(pn(t,n,"booleanValue"))return Nt.of(t.booleanValue);if(pn(t,n,"integerValue"))return new Pt(fn(t.integerValue));if(pn(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Lt.NAN;if("Infinity"===t.doubleValue)return Lt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Lt.NEGATIVE_INFINITY}return new Lt(t.doubleValue)}if(pn(t,n,"stringValue"))return new jt(t.stringValue);if(pn(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(pn(t,n,"arrayValue")){ln(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Kt(r.map(function(t){return e.fromValue(t)}))}if(pn(t,n,"timestampValue"))return ln(t.timestampValue,"timestampValue"),new Ft(this.fromTimestamp(t.timestampValue));if(pn(t,n,"geoPointValue")){ln(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new Bt(new ct(i,o))}if(pn(t,n,"bytesValue")){ln(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new Vt(a)}if(pn(t,n,"referenceValue")){ln(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),u=new dt(s.get(1),s.get(3)),c=new bt(this.extractLocalPathFromResourceName(s));return new qt(u,c)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new _t(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Wt.EMPTY;return C(n,function(t,n){r=r.set(new gt([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),ln(t.found.name,"doc.found.name"),ln(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new _t(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new St(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t["result"];return pn(t,e,"found")?this.fromFound(t):pn(t,e,"missing")?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Qe.Added:return"ADD";case Qe.Current:return"CURRENT";case Qe.NoChange:return"NO_CHANGE";case Qe.Removed:return"REMOVE";case Qe.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof en)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof tn){if(t.newDoc instanceof _t){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof St){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof nn){var n=void 0;return t.cause&&(n={code:Re(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t["response_type"];if(pn(t,n,"targetChange")){ln(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new nn(r,i,o,s||null)}else if(pn(t,n,"documentChange")){ln(t.documentChange,"documentChange"),ln(t.documentChange.document,"documentChange.name"),ln(t.documentChange.document.name,"documentChange.document.name"),ln(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),h=this.fromVersion(u.document.updateTime),l=this.fromFields(u.document.fields||{}),f=new _t(c,h,l,{},u.document),d=u.targetIds||[],p=u.removedTargetIds||[];e=new tn(d,p,f.key,f)}else if(pn(t,n,"documentDelete")){ln(t.documentDelete,"documentDelete"),ln(t.documentDelete.document,"documentDelete.document");var m=t.documentDelete;c=this.fromName(m.document),h=m.readTime?this.fromVersion(m.readTime):ce.forDeletedDoc(),f=new St(c,h),p=m.removedTargetIds||[];e=new tn([],p,f.key,f)}else if(pn(t,n,"documentRemove")){ln(t.documentRemove,"documentRemove"),ln(t.documentRemove.document,"documentRemove");var y=t.documentRemove;c=this.fromName(y.document),p=y.removedTargetIds||[];e=new tn([],p,c,null)}else{if(!pn(t,n,"filter"))return v("Unknown change type "+JSON.stringify(t));ln(t.filter,"filter"),ln(t.filter.targetId,"filter.targetId");var g=t.filter,b=g.count||0,w=new Ce(b),_=g.targetId;e=new en(_,w)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Qe.NoChange:"ADD"===t?Qe.Added:"REMOVE"===t?Qe.Removed:"CURRENT"===t?Qe.Current:"RESET"===t?Qe.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){var e=t["response_type"];if(!pn(t,e,"targetChange"))return ce.MIN;var n=t.targetChange;return n.targetIds&&n.targetIds.length?ce.MIN:n.readTime?this.fromVersion(n.readTime):ce.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof be)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Se)e={delete:this.toName(t.key)};else if(t instanceof we)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof _e))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ve.NONE;if(t.update){ln(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new we(r,i,o,n)}return new be(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new Se(r,n)}if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new _e(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ve.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ve.exists(t.exists):ve.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ye(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(g(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof Te)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ee)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof Ie)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t["transform_type"],r=null;if(pn(t,n,"setToServerValue"))g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=Te.instance;else if(pn(t,n,"appendMissingElements")){var i=t.appendMissingElements.values||[];r=new Ee(i.map(function(t){return e.fromValue(t)}))}else if(pn(t,n,"removeAllFromArray")){i=t.removeAllFromArray.values||[];r=new Ie(i.map(function(t){return e.fromValue(t)}))}else v("Unknown transform proto: "+JSON.stringify(t));var o=gt.fromServerFormat(t.fieldPath);return new me(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;g(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Jt.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(yt.EMPTY_PATH);else{var n=t.path;g(n.length%2!==0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];e=e.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Jt(e,a,o,s,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Xt.Listen:return null;case Xt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Xt.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof ee?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new oe(r,n)},t.prototype.toDirection=function(t){return un[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return ie.ASCENDING;case"DESCENDING":return ie.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return cn[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return te.EQUAL;case"GREATER_THAN":return te.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return te.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return te.LESS_THAN;case"LESS_THAN_OR_EQUAL":return te.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return te.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return gt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new ae(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof ee?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new ee(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof re?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof ne?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new re(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new ne(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=t.fieldPaths||[],n=e.map(function(t){return gt.fromServerFormat(t)});return pe.fromArray(n)},t}();function pn(t,e,n){return e===n||!e&&n in t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),yn="Connection",vn="google.firestore.v1.Firestore",gn="v1",bn={BatchGetDocuments:"batchGet",Commit:"commit"},wn="gl-js/ fire/"+h,_n=15,Sn=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=wn},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();p(yn,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:p(yn,'RPC "'+t+'" timed out'),a(new S(_.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();p(yn,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new S(Me(n),"Server responded with status "+s.getStatusText())):(p(yn,'RPC "'+t+'" failed'),a(new S(_.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{p(yn,'RPC "'+t+'" completed.')}});var c=JSON.stringify(e);p(yn,"XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),s.send(i,"POST",c,h,_n)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/",vn,"/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),c.isReactNative()||(i["httpHeadersOverwriteParam"]="$httpHeaders");var o=n.join("");p(yn,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,h=!1,l=new mn({sendFn:function(t){h?p(yn,"Not sending because WebChannel is closed:",t):(s||(p(yn,"Opening WebChannel transport."),a.open(),s=!0),p(yn,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(u.WebChannel.EventType.OPEN,function(){h||p(yn,"WebChannel transport opened.")}),f(u.WebChannel.EventType.CLOSE,function(){h||(h=!0,p(yn,"WebChannel transport closed"),l.callOnClose())}),f(u.WebChannel.EventType.ERROR,function(t){h||(h=!0,p(yn,"WebChannel transport errored:",t),l.callOnClose(new S(_.UNAVAILABLE,"The operation could not be completed")))}),f(u.WebChannel.EventType.MESSAGE,function(t){if(!h){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p(yn,"WebChannel received error:",n);var r=n.status,i=Ne(r),o=n.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),h=!0,l.callOnClose(new S(i,o)),a.close()}else p(yn,"WebChannel received:",e),l.callOnMessage(e)}}),setTimeout(function(){l.callOnOpen()},0),l},t.prototype.makeUrl=function(t){var e=bn[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/",gn];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),Tn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new Sn(t))},t.prototype.newSerializer=function(t){return new dn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
b.setPlatform(new Tn);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var En,In=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),kn=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["All"]="all",t["ListenStreamIdle"]="listen_stream_idle",t["ListenStreamConnectionBackoff"]="listen_stream_connection_backoff",t["WriteStreamIdle"]="write_stream_idle",t["WriteStreamConnectionBackoff"]="write_stream_connection_backoff",t["OnlineStateTimeout"]="online_state_timeout",t["ClientMetadataRefresh"]="client_metadata_refresh",t["LruGarbageCollection"]="lru_garbage_collection"})(En||(En={}));var An=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=Date.now()+r,s=new t(e,n,a,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),Cn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(e>=0,"Attempted to schedule an operation with a negative delay of "+e),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=An.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){var r=n[e];if(r.timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===En.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==En.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),Dn="",On="",Nn="",xn="";function Rn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Pn(e)),e=Mn(t.get(n),e);return Pn(e)}function Mn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=Dn+Nn;break;case Dn:n+=Dn+xn;break;default:n+=o}}return n}function Pn(t){return t+Dn+On}function Ln(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===Dn&&t.charAt(1)===On,"Non-empty path "+t+" had length 2"),yt.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(Dn,o);(a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"');var s=t.charAt(a+1);switch(s){case On:var u=t.substring(o,a),c=void 0;0===i.length?c=u:(i+=u,c=i,i=""),r.push(c);break;case Nn:i+=t.substring(o,a),i+="\0";break;case xn:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new yt(r)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,Fn=-1,Un=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n,g(n.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=We(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&et(this.mutations,t.mutations)},t}(),Vn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=qe(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),qn=1;(function(t){t[t["QueryCache"]=0]="QueryCache",t[t["SyncEngine"]=1]="SyncEngine"})(jn||(jn={}));var Bn=function(){function t(t,e){this.generatorId=t,g((t&qn)===t,"Generator ID "+t+" contains more than "+qn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<qn,t},t.prototype.after=function(t){return this.seek(t+(1<<qn)),this.next()},t.prototype.seek=function(t){g((t&qn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){var e=new t(jn.QueryCache,2);return e},t.forSyncEngine=function(){return new t(jn.SyncEngine)},t}(),Wn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++){var a=o[i];r(a)}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Kn="SimpleDb",$n=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),p(Kn,"Opening database:",e),new Wn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onblocked=function(){o(new S(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new S(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(t){p(Kn,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Gn(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,dr).next(function(){p(Kn,"Database upgrade to version "+dr+" complete")})}}).toPromise()},t.delete=function(t){return p(Kn,"Removing database:",t),Qn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",BASE_URL:"/"}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=Gn.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),Wn.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Hn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Qn(this.dbCursor.delete())},t}(),Gn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new kn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p(Kn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new zn(e)},t}(),zn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p(Kn,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(p(Kn,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Qn(n)},t.prototype.add=function(t){p(Kn,"ADD",this.store.name,t,t);var e=this.store.add(t);return Qn(e)},t.prototype.get=function(t){var e=this,n=this.store.get(t);return Qn(n).next(function(n){return void 0===n&&(n=null),p(Kn,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){p(Kn,"DELETE",this.store.name,t);var e=this.store.delete(t);return Qn(e)},t.prototype.count=function(){p(Kn,"COUNT",this.store.name);var t=this.store.count();return Qn(t)},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p(Kn,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Wn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Wn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Hn(i),a=e(i.primaryKey,i.value,o);if(a instanceof Wn){var s=a.catch(function(t){return o.done(),Wn.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Wn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"===typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return new Wn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Bn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return ce.fromTimestamp(new ht(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return tr(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Xn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return g(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Xn(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Wn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return Xn(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return Zn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return Jn(t).put(xr.key,e)},t.prototype.saveQueryData=function(t,e){return Xn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Xn(t).iterate({range:i,index:Or.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=er(t);return e.forEach(function(e){var a=Rn(e.path);i.push(o.put(new Nr(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Wn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=er(t);return Wn.forEach(e,function(e){var o=Rn(e.path);return Wn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=er(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=er(t),i=We();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Ln(t[1]),o=new bt(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Rn(e.path),r=IDBKeyRange.bound([n],[nt(n)],!1,!0),i=0;return er(t).iterate({index:Nr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return Xn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function Xn(t){return bi.getStore(t,Or.store)}function Jn(t){return bi.getStore(t,xr.store)}function Zn(t){var e=$n.getStore(t,xr.store);return e.get(xr.key).next(function(t){return g(null!==t,"Missing metadata row."),t})}function tr(t){return Zn(t).next(function(t){return t.highestListenSequenceNumber})}function er(t){return bi.getStore(t,Nr.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){C(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return D(this.inner)},t}(),rr=function(){function t(){this.changes=Le(),this.documentSizes=new nr(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges(),i=r.get(e);return i?Wn.resolve(i):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments,r=t.sizeMap;return r.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),ir="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",or=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=$n.getStore(t,Lr.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=cr(t),o=We(),a=0,s=e;a<s.length;a++){var u=s[a],c=u.key,h=u.doc;r.push(i.put(lr(c),h)),o=o.add(c)}this.keepDocumentChangeLog&&r.push(hr(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Wn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=cr(t),r=lr(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return fr(t)}):Wn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return cr(t).get(lr(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return cr(t).get(lr(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:fr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=je();return this.forEachDbEntry(t,e,function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=je(),i=new Et(bt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,fr(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Wn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return cr(t).iterate({range:r},function(t,e,r){var a=bt.fromSegments(t);while(o&&bt.comparator(o,a)<0)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){while(o)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=Ue(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return cr(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof _t&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=We(),r=Le(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=hr(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Wn.reject(new S(_.DATA_LOSS,ir))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new St(n,ce.forDeletedDoc());r=r.insert(n,e)}))}),Wn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return hr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new sr(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ar(t).get(Cr.key).next(function(t){return g(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return ar(t).put(Cr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return bi.getStore(t,Cr.store)}var sr=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);g(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=fr(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(rr);function ur(t){return t.code===_.DATA_LOSS&&t.message===ir}function cr(t){return bi.getStore(t,Ar.store)}function hr(t){return bi.getStore(t,Lr.store)}function lr(t){return t.path.toArray()}function fr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=7,pr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=dr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(gr(t),_r(t),Rr(t),Er(t));var o=Wn.resolve();return n<3&&r>=3&&(0!==n&&(Mr(t),Rr(t)),o=o.next(function(){return Pr(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return Sr(t,e)})),o=o.next(function(){Ur(t),jr(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return Dr(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ar.store).iterate(function(t,n){e+=fr(n)}).next(function(){var n=new Cr(e);return t.store(Cr.store).put(Cr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(br.store),r=t.store(wr.store);return n.loadAll().next(function(n){return Wn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,Fn],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(wr.userMutationsIndex,i).next(function(r){return Wn.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return zr(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Nr.store),n=t.store(Ar.store);return tr(t).next(function(t){var r=function(n){return e.put(new Nr(0,Rn(n),t))},i=[];return n.iterate(function(t,n){var o=new yt(t),a=mr(o);i.push(e.get(a).next(function(t){return t?Wn.resolve():r(o)}))}).next(function(){return Wn.waitFor(i)})})},t}();function mr(t){return[0,Rn(t)]}var yr=function(){function t(t,e){this.seconds=t,this.nanoseconds=e}return t}(),vr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();function gr(t){t.createObjectStore(vr.store)}var br=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),wr=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();function _r(t){t.createObjectStore(br.store,{keyPath:br.keyPath});var e=t.createObjectStore(wr.store,{keyPath:wr.keyPath,autoIncrement:!0});e.createIndex(wr.userMutationsIndex,wr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tr.store)}function Sr(t,e){var n=e.store(wr.store);return n.loadAll().next(function(n){t.deleteObjectStore(wr.store);var r=t.createObjectStore(wr.store,{keyPath:wr.keyPath,autoIncrement:!0});r.createIndex(wr.userMutationsIndex,wr.userMutationsKeyPath,{unique:!0});var i=e.store(wr.store),o=n.map(function(t){return i.put(t)});return Wn.waitFor(o)})}var Tr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Rn(e)]},t.key=function(t,e,n){return[t,Rn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();function Er(t){t.createObjectStore(Ar.store)}var Ir=function(){function t(t,e){this.path=t,this.readTime=e}return t}(),kr=function(){function t(t,e){this.path=t,this.version=e}return t}(),Ar=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Cr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();function Dr(t){t.createObjectStore(Cr.store)}var Or=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Nr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,g(0===t===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),xr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function Rr(t){var e=t.createObjectStore(Nr.store,{keyPath:Nr.keyPath});e.createIndex(Nr.documentTargetsIndex,Nr.documentTargetsKeyPath,{unique:!0});var n=t.createObjectStore(Or.store,{keyPath:Or.keyPath});n.createIndex(Or.queryTargetsIndexName,Or.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(xr.store)}function Mr(t){t.deleteObjectStore(Nr.store),t.deleteObjectStore(Or.store),t.deleteObjectStore(xr.store)}function Pr(t){var e=t.store(xr.store),n=new xr(0,0,ce.MIN.toTimestamp(),0);return e.put(xr.key,n)}var Lr=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();function jr(t){t.createObjectStore(Lr.store,{keyPath:"id",autoIncrement:!0})}var Fr=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}();function Ur(t){t.createObjectStore(Fr.store,{keyPath:Fr.keyPath})}var Vr=[br.store,wr.store,Tr.store,Ar.store,Or.store,vr.store,xr.store,Nr.store],qr=Vr,Br=qr.concat([Fr.store,Lr.store]),Wr=Br.concat([Cr.store]),Kr=Wr,$r=function(){function t(t,e,n){this.userId=t,this.serializer=e,this.referenceDelegate=n,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r){g(""!==e.uid,"UserID must not be an empty string.");var i=e.isAuthenticated()?e.uid:"";return new t(i,n,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yr(t).iterate({index:wr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Qr(n),Jr(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Qr(e),Jr(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=Xr(t),o=Yr(t);return o.add({}).next(function(t){g("number"===typeof t,"Auto-generated key is not a number");var a=new Un(t,e,n),s=r.serializer.toDbMutationBatch(r.userId,a);r.documentKeysByBatchId[t]=a.keys();for(var u=[],c=0,h=n;c<h.length;c++){var l=h[c],f=Tr.key(r.userId,l.key.path,t);u.push(o.put(s)),u.push(i.put(f,Tr.PLACEHOLDER))}return Wn.waitFor(u).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Yr(t).get(e).next(function(t){return t?(g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Wn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return Yr(t).iterate({index:wr.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(g(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,Fn],[this.userId,Number.POSITIVE_INFINITY]);return Yr(t).loadAll(wr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Tr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xr(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],h=Ln(u);if(s===n.userId&&e.path.isEqual(h))return Yr(t).get(c).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+c);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fe(Z),i=[];return e.forEach(function(e){var o=Tr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Xr(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Ln(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Wn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=Tr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new fe(Z);return Xr(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],h=Ln(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Yr(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Wn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return zr(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Wn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Wn.resolve();var r=IDBKeyRange.lowerBound(Tr.prefixForUser(e.userId)),i=[];return Xr(t).iterate({range:r},function(t,n,r){var o=t[0];if(o===e.userId){var a=Ln(t[1]);i.push(a)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Hr(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Jr(t).get(this.userId).next(function(t){return t||new br(e.userId,Fn,"")})},t}();function Hr(t,e,n){var r=Tr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Xr(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Gr(t,e){var n=!1;return Jr(t).iterateSerial(function(r){return Hr(t,r,e).next(function(t){return t&&(n=!0),Wn.resolve(!t)})}).next(function(){return n})}function zr(t,e,n){var r=t.store(wr.store),i=t.store(Tr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=Tr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Wn.waitFor(o).next(function(){return c})}function Qr(t){return t instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",BASE_URL:"/"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Yr(t){return bi.getStore(t,wr.store)}function Xr(t){return bi.getStore(t,Tr.store)}function Jr(t){return bi.getStore(t,br.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=bt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new St(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=bt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new Tt(e,n)}return v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof _t){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new Ar(null,null,e,n)}if(t instanceof St){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new Ar(null,new Ir(r,i),null,n)}if(t instanceof Tt){r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new Ar(new kr(r,i),null,null,!0)}return v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new yr(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new ht(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new wr(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=ht.fromMillis(t.localWriteTimeMs);return new Un(t.batchId,r,n)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(Rn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=We(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new bt(Ln(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=ti(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new le(e,t.targetId,Xt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Xt.Listen===t.purpose,"Only queries with purpose "+Xt.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",BASE_URL:"/"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Or(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function ti(t){return void 0!==t.documents}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Z(n,i);return 0===a?Z(r,o):a}var ni=function(){function t(t){this.maxElements=t,this.buffer=new fe(ei),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ei(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),ri={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ii=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),oi=6e4,ai=3e5,si=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==ii.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?ai:oi;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(En.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(_i)})},t}(),ui=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Wn.resolve(In.INVALID);var r=new ni(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===ii.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),Wn.resolve(ri)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ri):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,o,a,s,u,c,h,l=this;return a=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,u=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return o=e,c=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){if(h=Date.now(),f()<=i.DEBUG){var e="LRU Garbage Collection\n\tCounted targets in "+(s-a)+"ms\n\tDetermined least recently used "+r+" in "+(u-s)+"ms\n\tRemoved "+o+" targets in "+(c-u)+"ms\n\tRemoved "+t+" documents in "+(h-c)+"ms\nTotal Duration: "+(h-a)+"ms";p("LruGarbageCollector",e)}return Wn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),ci=function(){function t(){}return t}(),hi="IndexedDbPersistence",li=18e5,fi=5e3,di=4e3,pi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mi="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",yi="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",vi="firestore_zombie",gi=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return s.__extends(e,t),e}(ci),bi=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new S(_.UNIMPLEMENTED,yi);if(this.referenceDelegate=new Ei(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Zr(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Yn(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new or(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new S(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof gi)return $n.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,a){return s.__awaiter(this,void 0,void 0,function(){var u;return s.__generator(this,function(s){switch(s.label){case 0:return u=new t(e,n,r,i,o,a),[4,u.start()];case 1:return s.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,a,u){return s.__awaiter(this,void 0,void 0,function(){var c;return s.__generator(this,function(s){switch(s.label){case 0:return c=new t(e,n,r,i,o,a,u),[4,c.start()];case 1:return s.sent(),[2,c]}})})},t.prototype.start=function(){var t=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),$n.openOrCreate(this.dbName,dr,new pr(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[xr.store],function(e){return tr(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new In(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Kr,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Kr,function(e){var n=Ti(e);return n.put(new Fr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this,n=Si(t);return n.get(vr.key).next(function(t){return Wn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){var e=Ti(t);return e.delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,li)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,Fr.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,li),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Wn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if(e=e.filter(function(t){return t.clientId!==r.clientId}),e.length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(En.ClientMetadataRefresh,di,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this,n=Si(t);return n.get(vr.key).next(function(n){var r=null!==n&&e.isWithinAge(n.leaseTimestampMs,fi)&&!e.isClientZombied(n.ownerId);if(r){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(_.FAILED_PRECONDITION,mi);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ti(t).loadAll().next(function(t){var n=e.filterActiveClients(t,fi).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1});return void 0===n})}).next(function(t){return e.isPrimary!==t&&p(hi,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[vr.store,Fr.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,$n.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Fr.store],function(e){return Ti(e).loadAll().next(function(e){return t.filterActiveClients(e,li).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),$r.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;return p(hi,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Kr,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new S(_.FAILED_PRECONDITION,pi);return n(new gi(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new gi(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this,n=Si(t);return n.get(vr.key).next(function(t){var n=null!==t&&e.isWithinAge(t.leaseTimestampMs,fi)&&!e.isClientZombied(t.ownerId);if(n&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new S(_.FAILED_PRECONDITION,mi)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new vr(this.clientId,this.allowTabSynchronization,Date.now());return Si(t).put(vr.key,e)},t.isAvailable=function(){return $n.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Si(t);return n.get(vr.key).next(function(t){return e.isLocalClient(t)?(p(hi,"Releasing primary lease."),n.delete(vr.key)):Wn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now(),r=n-e,i=n;return!(t<r)&&(!(t>i)||(m("Detected an update time that is in the future: "+t+" > "+i),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return p(hi,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(hi,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return vi+"_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function wi(t){return t.code===_.FAILED_PRECONDITION&&t.message===pi}function _i(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(!wi(t))throw t;return p(hi,"Unexpectedly lost primary lease"),[2]})})}function Si(t){return t.store(vr.store)}function Ti(t){return t.store(Fr.store)}var Ei=function(){function t(t,e){this.db=t,this.garbageCollector=new ui(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t),n=this.db.getQueryCache().getQueryCount(t);return n.next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Ai(t,e)},t.prototype.removeReference=function(t,e){return Ai(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Ai(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Wn.resolve(!0):Gr(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[],a=this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}});return a.next(function(){return Wn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n=0,r=this.db.getRemoteDocumentCache();return Wn.waitFor([er(t).delete(Ii(e)),r.removeEntry(t,e).next(function(t){n+=t})]).next(function(){return n})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ai(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=er(t),i=In.INVALID;return r.iterate({index:Nr.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==In.INVALID&&e(new bt(Ln(n)),i),i=s,n=a):i=In.INVALID}).next(function(){i!==In.INVALID&&e(new bt(Ln(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ii(t){return[0,Rn(t.path)]}function ki(t,e){return new Nr(0,Rn(t.path),e)}function Ai(t,e){return er(t).put(ki(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){var o=i[r];t=o.applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=je();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a.applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Le();return i.forEach(function(t,e){e||(e=new St(t,ce.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return bt.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new bt(e)).next(function(t){var e=Ue();return t instanceof _t&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var h=n.get(c),l=u.applyToLocalView(h,h,o.localWriteTime);n=l instanceof _t?n.insert(c,l):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Di=function(){function t(){this.refsByKey=new fe(Oi.compareByKey),this.refsByTarget=new fe(Oi.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Oi(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Oi(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=bt.EMPTY,r=new Oi(n,t),i=new Oi(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=bt.EMPTY,n=new Oi(e,t),r=new Oi(e,t+1),i=We();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Oi(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Oi=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return bt.comparator(t.key,e.key)||Z(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Z(t.targetOrBatchId,e.targetOrBatchId)||bt.comparator(t.key,e.key)},t}(),Ni="LocalStore",xi=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Di,this.queryDataByTarget={},g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Ci(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Ci(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=We(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){c=p[d];o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++){f=y[m];a=a.add(f.key)}}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=ht.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){r=t;var i=r.keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Wn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return g(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=We();k(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var h=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(h,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=Le(),u=We();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),o.push(r.getEntries(i,u).next(function(t){e.documentUpdates.forEach(function(u,c){var h=t.get(u);null==h||c.version.isEqual(ce.MIN)||a.has(c.key)&&!h.hasPendingWrites||c.version.compareTo(h.version)>=0?(r.addEntry(c),s=s.insert(u,c)):p(Ni,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var c=e.snapshotVersion;if(!c.isEqual(ce.MIN)){var h=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return g(c.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)});o.push(h)}return Wn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){if(0===e.resumeToken.length)return!1;if(0===t.resumeToken.length)return!0;var r=e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds();if(r>=this.RESUME_TOKEN_MAX_AGE_MICROS)return!0;var i=n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size;return i>0},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Wn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Wn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=Fn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Wn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new le(t,i,Xt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return g(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){g(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Wn.resolve():Wn.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Wn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(r,o,e),o?n.addEntry(o):g(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Ri=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new fe(Oi.compareByKey)}return t.prototype.checkEmpty=function(t){return Wn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Wn.resolve()},t.prototype.getLastStreamToken=function(t){return Wn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Wn.resolve()},t.prototype.addMutationBatch=function(t,e,n){g(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){var i=this.mutationQueue[this.mutationQueue.length-1];g(i.batchId<r,"Mutation batchIDs must be monotonically increasing order")}var o=new Un(r,e,n);this.mutationQueue.push(o);for(var a=0,s=n;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Oi(u.key,r))}return Wn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Wn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return g(null!=n,"Failed to find local mutation batch."),Wn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Wn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getAllMutationBatches=function(t){return Wn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Oi(e,0),i=new Oi(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Wn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fe(Z);return e.forEach(function(t){var e=new Oi(t,0),i=new Oi(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Wn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bt.isDocumentKey(i)||(i=i.child(""));var o=new Oi(new bt(i),0),a=new fe(Z);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Wn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this,r=this.indexOfExistingBatchId(e.batchId,"removed");g(0===r,"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return Wn.forEach(e.mutations,function(r){var o=new Oi(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(t,r.key)}).next(function(){n.batchesByDocumentKey=i})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Oi(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Wn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Wn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){if(0===this.mutationQueue.length)return 0;var e=this.mutationQueue[0].batchId;return t-e},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n},t}(),Mi=function(){function t(t){this.persistence=t,this.queries=new nr(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=ce.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Di,this.targetCount=0,this.targetIdGenerator=Bn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Wn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Wn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Wn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Wn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Wn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Wn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Wn.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Wn.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Wn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Wn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Wn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Wn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Wn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Wn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Wn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Wn.resolve(n)},t.prototype.containsKey=function(t,e){return Wn.resolve(this.references.containsKey(e))},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pi(){return new Et(bt.comparator)}var Li,ji=function(){function t(t){this.sizer=t,this.docs=Pi(),this.newDocumentChanges=We(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],a=o.maybeDocument.key;this.docs=this.docs.insert(a,o),this.newDocumentChanges=this.newDocumentChanges.add(a)}return this.size+=n,Wn.resolve()},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Wn.resolve(n.size)):Wn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Wn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Wn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=je();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Wn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=je(),i=new Et(bt.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),Wn.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=Ue(),r=new bt(e.path.child("")),i=this.docs.getIteratorFrom(r);while(i.hasNext()){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!e.path.isPrefixOf(a.path))break;s instanceof _t&&e.matches(s)&&(n=n.insert(s.key,s))}return Wn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Wn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Le();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new St(t,ce.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=We(),Wn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Fi(this.sizer,this)},t.prototype.getSize=function(t){return Wn.resolve(this.size)},t}(),Fi=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);g(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(rr),Ui="MemoryPersistence",Vi=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new In(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Mi(this);var r=function(t){return n.referenceDelegate.documentSize(t)};this.remoteDocumentCache=new ji(r)}return t.createLruPersistence=function(e,n,r){var i=function(t){return new Wi(t,new Zr(n),r)};return new t(e,i)},t.createEagerPersistence=function(e){var n=function(t){return new Bi(t)};return new t(e,n)},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Ri(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;p(Ui,"Starting transaction:",t);var i=new qi(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Wn.or(A(this.mutationQueues).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),qi=function(){function t(t){this.currentSequenceNumber=t}return t}(),Bi=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Wn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Wn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Wn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Wn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Wn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Wn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Wn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Wi=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new nr(function(t){return Rn(t.path)}),this.garbageCollector=new ui(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Wn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t),n=this.persistence.getQueryCache().getTargetCount(t);return n.next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Wn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Wn.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Wn.resolve():(r++,i.removeEntry(t,o).next())})});return o.next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Wn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Wn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Wn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Ki="ExponentialBackoff",$i=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p(Ki,"Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Hi="PersistentStream";(function(t){t[t["Initial"]=0]="Initial",t[t["Starting"]=1]="Starting",t[t["Open"]=2]="Open",t[t["Error"]=3]="Error",t[t["Backoff"]=4]="Backoff"})(Li||(Li={}));var Gi,zi,Qi=1e3,Yi=6e4,Xi=1.5,Ji=6e4,Zi=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Li.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new $i(t,e,Qi,Xi,Yi)}return t.prototype.isStarted=function(){return this.state===Li.Starting||this.state===Li.Open||this.state===Li.Backoff},t.prototype.isOpen=function(){return this.state===Li.Open},t.prototype.start=function(){this.state!==Li.Error?(g(this.state===Li.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Li.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Li.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,Ji,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close(Li.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===Li.Error||Qt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Li.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===Li.Initial,"Must be in initial state to auth"),this.state=Li.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new S(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===Li.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===Li.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Li.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===Li.Error,"Should only perform backoff when in Error state"),this.state=Li.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return g(this.state===Li.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Li.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),p(Hi,"close with error: "+t),this.stream=null,this.close(Li.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(p(Hi,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),to=function(t){function e(e,n,r,i,o){var a=t.call(this,e,En.ListenStreamConnectionBackoff,En.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Zi),eo=function(t){function e(e,n,r,i,o){var a=t.call(this,e,En.WriteStreamConnectionBackoff,En.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Zi),no=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new eo(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new to(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Le();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),ro=function(){function t(t){this.datastore=t,this.readVersions=qe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof _t)e=t.version;else{if(!(t instanceof St))throw v("Document in a transaction was a "+t.constructor.name);e=ce.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new S(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof St||t instanceof _t?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new S(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ve.updateTime(e):ve.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(ce.forDeletedDoc()))throw new S(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ve.updateTime(e):ve.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new Se(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,ce.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();(function(t){t[t["Unknown"]=0]="Unknown",t[t["Online"]=1]="Online",t[t["Offline"]=2]="Offline"})(Gi||(Gi={})),function(t){t[t["RemoteStore"]=0]="RemoteStore",t[t["SharedClientState"]=1]="SharedClientState"}(zi||(zi={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var io="OnlineStateTracker",oo=1,ao=1e4,so=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Gi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Gi.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(En.OnlineStateTimeout,ao,function(){return t.onlineStateTimer=null,g(t.state===Gi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within "+ao/1e3+" seconds."),t.setAndBroadcast(Gi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Gi.Online?(this.setAndBroadcast(Gi.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=oo&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed "+oo+" times. Most recent error: "+t.toString()),this.setAndBroadcast(Gi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Gi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):p(io,e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),uo="RemoteStore",co=10,ho=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new so(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Gi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Gi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(p(uo,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return p(uo,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Gi.Unknown),[2]}})})},t.prototype.listen=function(t){g(!E(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(E(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),D(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Gi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new on(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!D(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return k(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Gi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Gi.Online),t instanceof nn&&t.state===Qe.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof tn?this.watchChangeAggregator.handleDocumentChange(t):t instanceof en?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof nn,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(ce.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual(ce.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return k(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:w()}),e.sendUnwatchRequest(t);var r=new le(n.query,t,Xt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return E(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e;return s.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:Fn,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return e=n.sent(),null!==e?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<co},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(_i)},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Vn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(e=void 0,e=this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t),[2,e.then(function(){n.shouldStartWriteStream()&&n.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return De(t.code)?(p(uo,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(_i)]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return Oe(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new ro(this.datastore)},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(p(uo,"RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(Gi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Gi.Unknown),e.label=4;case 4:return[2]}})})},t}(),lo=function(){function t(){this.listeners=[]}return t}(),fo=function(){function t(t){this.syncEngine=t,this.queries=new nr(function(t){return t.canonicalId()}),this.onlineState=Gi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new lo,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return s.__generator(this,function(o){return e=t.query,n=!1,r=this.queries.get(e),r&&(i=r.listeners.indexOf(t),i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){var u=s[a];u.onViewSnapshot(r)}o.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){var o=i[r];o.onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++){var o=i[r];o.applyOnlineStateChange(t)}})},t}(),po=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Gi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==He.Metadata&&e.push(i)}t=new Xe(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==Gi.Offline;return this.options.waitForSyncWhenOnline&&n?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Gi.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Xe.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),mo=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=We(),i=We(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case He.Added:r=r.add(s.doc.key);break;case He.Removed:i=i.add(s.doc.key);break;default:}}return new t(e,r,i)},t}(),yo=function(){function t(t){this.key=t}return t}(),vo=function(){function t(t){this.key=t}return t}(),go=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=We(),this.mutatedKeys=We(),this.documentSet=new ze(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ye,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),h=e instanceof _t?e:null;h&&(g(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var l=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;if(c&&h){var p=c.data.isEqual(h.data);p?l!==f&&(r.track({type:He.Metadata,doc:h}),d=!0):n.shouldWaitForSyncedDocument(c,h)||(r.track({type:He.Modified,doc:h}),d=!0,u&&n.query.docComparator(h,u)>0&&(s=!0))}else!c&&h?(r.track({type:He.Added,doc:h}),d=!0):c&&!h&&(r.track({type:He.Removed,doc:c}),d=!0,u&&(s=!0));d&&(h?(a=a.add(h),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())while(a.size>this.query.limit){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:He.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return bo(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current,u=s?Ge.Synced:Ge.Local,c=u!==this.syncState;if(this.syncState=u,0!==o.length||c){var h=new Xe(this.query,t.documentSet,i,o,t.mutatedKeys,u===Ge.Local,c,!1);return{snapshot:h,limboChanges:a}}return{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Gi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ye,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=We(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new vo(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new yo(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=We();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Xe.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ge.Local)},t}();function bo(t,e){var n=function(t){switch(t){case He.Added:return 1;case He.Modified:return 2;case He.Metadata:return 2;case He.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo="SyncEngine",_o=function(){function t(t,e,n){this.query=t,this.targetId=e,this.view=n}return t}(),So=function(){function t(t){this.key=t}return t}(),To=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new nr(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Et(bt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Di,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Bn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Gi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){g(null!==t,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return s.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),r=this.queryViewsByQuery.get(t),r?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new go(r,o),s=a.computeDocChanges(i),u=Ze.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==Gi.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var h=new _o(r,t.targetId,a);return n.queryViewsByQuery.set(r,h),n.queryViewsByTarget[t.targetId]=h,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return s.__awaiter(e,void 0,void 0,function(){var e;return s.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),e=this.queryViewsByQuery.get(t),g(!!e,"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),n=this.sharedClientState.isActiveQueryTarget(e.targetId),n?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){r.sharedClientState.clearQueryState(e.targetId),r.remoteStore.unlisten(e.targetId),r.removeAndCleanupQuery(e)}).catch(_i)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction(),i=function(){try{var e=t(r);return!Qt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}};return i().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return C(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(_i)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===zi.RemoteStore||!this.isPrimary&&e===zi.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],r=n&&n.key,r?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=new Et(bt.comparator),i=i.insert(r,new St(r,ce.forDeletedDoc())),o=We().add(r),a=new Je(ce.MIN,{},new fe(Z),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return u=this.queryViewsByTarget[t],g(!!u,"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(_i)];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,e),s.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return r=i.sent(),null===r?(p(wo,"Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(_i)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(_i)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Et(Z)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){var n=e.limboDocumentRefs.containsKey(t);n||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof yo)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof vo){p(wo,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t);var o=this.limboDocumentRefs.containsKey(i.key);o||this.removeLimboTarget(i.key)}else v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p(wo,"New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Jt.atPath(e.path);this.limboResolutionsByTarget[n]=new So(e),this.remoteStore.listen(new le(r,n,Xt.LimboResolution,In.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=mo.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){g(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),k(this.queryViewsByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then(function(){return c.unlisten(e.query)}),c.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;k(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Et(bt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,o,a;return s.__generator(this,function(s){switch(s.label){case 0:return n=this.queryViewsByTarget[t],n?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return o=s.sent(),o.snapshot&&i.push(o.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return a=s.sent(),g(!!a,"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=s.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(e),[2]}})})})},a=0,u=t;a<u.length;a++){var c=u[a];o(c)}return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:if(this.isPrimary)return p(wo,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(r=e,r){case"current":return[3,1];case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return s.__awaiter(o,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return r=Je.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return s.__awaiter(o,void 0,void 0,function(){var e;return s.__generator(this,function(n){switch(n.label){case 0:return ur(t)?(e=[],k(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return i=this.queryViewsByTarget[t],this.removeAndCleanupQuery(i),[4,this.localStore.releaseQuery(i.query,!0)];case 3:return a.sent(),this.syncEngineListener.onWatchError(i.query,n),[3,5];case 4:v("Unexpected target state: "+e),a.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h,l,f=this;return s.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(l=r[n],g(!this.queryViewsByTarget[l],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(l)]):[3,6];case 2:return i=d.sent(),g(!!i,"Query data for active target "+l+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return s.__generator(this,function(n){switch(n.label){case 0:return e=u.queryViewsByTarget[t],e?[4,u.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(_i)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,h=e,d.label=7;case 7:return c<h.length?(l=h[c],[5,a(l)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?We().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:We()},t}(),Eo=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Io="SharedClientState",ko="firestore_clients",Ao="firestore_mutations",Co="firestore_targets",Do="firestore_online_state",Oo="firestore_sequence_number",No=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,g(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),a=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code,o&&(a=new S(i.error.code,i.error.message))),o?new t(e,n,i.state,a):(m(Io,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xo=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,g(void 0!==n===("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code,i&&(o=new S(r.error.code,r.error.message))),i?new t(e,r.state,o):(m(Io,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ro=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=$e(),a=0;i&&a<r.activeTargetIds.length;++a)i=Yt(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(m(Io,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Mo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e),r="object"===typeof n&&void 0!==Gi[n.onlineState]&&"string"===typeof n.clientId;return r?new t(n.clientId,Gi[n.onlineState]):(m(Io,"Failed to parse online state: "+e),null)},t}(),Po=function(){function t(){this.activeTargetIds=$e()}return t.prototype.addQueryTarget=function(t){g(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Lo=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new S(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Oo+"_"+r,this.activeClients[this.localClientId]=new Po,this.clientStateKeyRe=new RegExp("^"+ko+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ao+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Co+"_"+a+"_(\\d+)$"),this.onlineStateKey=Do+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,c,h,l,f=this;return s.__generator(this,function(s){switch(s.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)r=n[e],r!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)),i&&(o=Ro.fromWebStorageEntry(r,i),o&&(this.activeClients[o.clientId]=o)));for(this.persistClientState(),a=this.storage.getItem(this.onlineStateKey),a&&(u=this.fromWebStorageOnlineState(a),u&&this.handleOnlineStateEvent(u)),c=0,h=this.earlyEvents;c<h.length;c++)l=h[c],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return f.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=$e();return C(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=xo.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p(Io,"READ",t,e),e},t.prototype.setItem=function(t,e){p(Io,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p(Io,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(p(Io,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue),e)return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue),r))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue),i))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue),o))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),a=jo(t.newValue),a!==In.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new No(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:Gi[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new xo(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return g(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),ko+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Co+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ao+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return g(null!==n,"Cannot parse client state key '"+t+"'"),Ro.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);g(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return No.fromWebStorageEntry(new Eo(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);g(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return xo.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Mo.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(p(Io,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();function jo(t){var e=In.INVALID;if(null!=t)try{var n=JSON.parse(t);g("number"===typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(Io,"Failed to read sequence number from WebStorage",r)}return e}var Fo=function(){function t(){this.localState=new Po,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Po,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Uo="FirestoreClient",Vo=20,qo=22,Bo=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return ii.withCacheSize(this.cacheSizeBytes)},t}(),Wo=function(){function t(){}return t}(),Ko=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=J.newId()}return t.prototype.start=function(t){var e=this,n=new kn,r=new kn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Bo?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof S?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&t instanceof DOMException)||(t.code===qo||t.code===Vo)},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=bi.buildStoragePrefix(this.databaseInfo),i=new dn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(n,void 0,void 0,function(){var n,o;return s.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!Lo.isAvailable(this.platform))throw new S(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new Lo(this.asyncQueue,this.platform,r,this.clientId,t),[4,bi.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Fo,[4,bi.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Vi.createEagerPersistence(this.clientId),this.sharedClientState=new Fo,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return p(Uo,"Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return s.__awaiter(n,void 0,void 0,function(){var n,i,o,a,u=this;return s.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new xi(this.persistence,t),e&&(this.lruScheduler=new si(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new no(this.asyncQueue,r,this.credentials,n),o=function(t){return u.syncEngine.applyOnlineStateChange(t,zi.RemoteStore)},a=function(t){return u.syncEngine.applyOnlineStateChange(t,zi.SharedClientState)},this.remoteStore=new ho(this.localStore,i,this.asyncQueue,o),this.syncEngine=new To(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new fo(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return s.__awaiter(u,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p(Uo,"Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new po(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof _t)return t;if(t instanceof St)return null;throw new S(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=We(),r=new go(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new kn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),$o=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ho=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];M("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new S(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Q("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(gt.keyField().canonicalString()),t}(),Go=new RegExp("[~\\*/\\[\\]]");
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){var e=t.search(Go);if(e>=0)throw new S(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ho.bind.apply(Ho,[void 0].concat(t.split("."))))}catch(n){throw new S(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo=function(){function t(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}return t}(),Yo=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Eo.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Xo=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new S(_.ABORTED,"getToken aborted due to token change.");return n?(g("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Qo(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return g(null===t||"string"===typeof t,"Received invalid UID: "+t),new Eo(t)},t}(),Jo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Eo.FIRST_PARTY,g(this.gapi&&this.gapi["auth"]&&this.gapi["auth"]["getAuthHeaderValueForFirstParty"],"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi["auth"]["getAuthHeaderValueForFirstParty"]([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Zo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,g(this.gapi&&this.gapi["auth"]&&this.gapi["auth"]["getAuthHeaderValueForFirstParty"],"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Jo(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Eo.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ta(t){if(!t)return new Yo;switch(t.type){case"gapi":return new Zo(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new S(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){return na(t,["next","error","complete"])}function na(t,e){if("object"!==typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra,ia=function(){function t(t){this._methodName=t}return t.delete=function(){return oa.instance},t.serverTimestamp=function(){return aa.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayUnion",arguments,1),new sa(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayRemove",arguments,1),new ua(t)},t.prototype.isEqual=function(t){return this===t},t}(),oa=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(ia),aa=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(ia),sa=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return s.__extends(e,t),e}(ia),ua=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return s.__extends(e,t),e}(ia),ca=T(ia,"Use FieldValue.<field>() instead."),ha=/^__.*__$/,la=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new we(t,this.data,this.fieldMask,e)):n.push(new be(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _e(t,this.fieldTransforms)),n},t}(),fa=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new we(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new _e(t,this.fieldTransforms)),n},t}();function da(t){switch(t){case ra.Set:case ra.MergeSet:case ra.Update:return!0;case ra.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}(function(t){t[t["Set"]=0]="Set",t[t["Update"]=1]="Update",t[t["MergeSet"]=2]="MergeSet",t[t["Argument"]=3]="Argument"})(ra||(ra={}));var pa=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(da(this.dataSource)&&ha.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ma=function(){function t(t,e){this.databaseId=t,this.key=e}return t}(),ya=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new pa(ra.Set,t,gt.EMPTY_PATH);ga("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new la(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new pa(ra.MergeSet,t,gt.EMPTY_PATH);ga("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new fe(gt.comparator),u=0,c=n;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof Ho)l=h._internalPath;else{if("string"!==typeof h)throw v("Expected stringOrFieldPath to be a string or a FieldPath");l=wa(t,h)}if(!r.contains(l))throw new S(_.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");s=s.add(l)}i=pe.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=pe.fromArray(r.fieldMask),o=r.fieldTransforms;return new la(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new pa(ra.Update,t,gt.EMPTY_PATH);ga("Data must be an object, but it was:",r,e);var i=new fe(gt.comparator),o=Wt.EMPTY;C(e,function(e,a){var s=wa(t,e),u=r.childContextForFieldPath(s);if(a=n.runPreConverter(a,u),a instanceof oa)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=pe.fromSet(i);return new fa(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new pa(ra.Update,t,gt.EMPTY_PATH),o=[ba(t,e)],a=[n];if(r.length%2!==0)throw new S(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(ba(t,r[s])),a.push(r[s+1]);var u=new fe(gt.comparator),c=Wt.EMPTY;for(s=0;s<o.length;++s){var h=o[s],l=i.childContextForFieldPath(h),f=this.runPreConverter(a[s],l);if(f instanceof oa)u=u.add(h);else{var d=this.parseData(f,l);null!=d&&(u=u.add(h),c=c.set(h,d))}}var p=pe.fromSet(u);return new fa(c,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new pa(ra.Argument,t,gt.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=_a(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(t=this.runPreConverter(t,e),va(t))return ga("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof ia)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new Et(Z);return D(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):C(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Wt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=Ot.INSTANCE),n.push(s),r++}return new Kt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!da(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof oa){if(e.dataSource!==ra.MergeSet)throw e.dataSource===ra.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof aa)e.fieldTransforms.push(new me(e.path,Te.instance));else if(t instanceof sa){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new Ee(n);e.fieldTransforms.push(new me(e.path,r))}else if(t instanceof ua){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new Ie(n);e.fieldTransforms.push(new me(e.path,i))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ot.INSTANCE;if("number"===typeof t)return Yt(t)?new Pt(t):new Lt(t);if("boolean"===typeof t)return Nt.of(t);if("string"===typeof t)return new jt(t);if(t instanceof Date)return new Ft(ht.fromDate(t));if(t instanceof ht)return new Ft(new ht(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ct)return new Bt(t);if(t instanceof st)return new Vt(t);if(t instanceof ma)return new qt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+$(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new pa(ra.Argument,t,gt.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function va(t){return"object"===typeof t&&null!==t&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof ht)&&!(t instanceof ct)&&!(t instanceof st)&&!(t instanceof ma)&&!(t instanceof ia)}function ga(t,e,n){if(!va(n)||!K(n)){var r=$(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function ba(t,e){if(e instanceof Ho)return e._internalPath;if("string"===typeof e)return wa(t,e);var n="Field path arguments must be of type string or FieldPath.";throw new S(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}function wa(t,e){try{return zo(e)._internalPath}catch(r){var n=_a(r);throw new S(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function _a(t){return t instanceof Error?t.message:t.toString()}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa="firestore.googleapis.com",Ta=!0,Ea=!0,Ia=ii.COLLECTION_DISABLED,ka=!1,Aa=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new S(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sa,this.ssl=Ta}else j("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,Ta);if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,Ea),F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ii.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Ia&&t.cacheSizeBytes<ii.MINIMUM_CACHE_SIZE_BYTES)throw new S(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ii.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes},t}(),Ca=function(){function t(){}return t}(),Da=function(){function t(e){var n=this;this._queue=new Cn,this.INTERNAL={delete:function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new Ca;if("object"===typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Xo(i)}else{var o=e;if(!o.projectId)throw new S(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new dt(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Yo}r.settings=new Aa({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(N("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),E(t,"persistence"))throw new S(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Aa(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new S(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=ta(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new S(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Bo(this._config.settings.cacheSizeBytes,void 0!==t&&I(t.experimentalTabSynchronization,ka)))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Wo),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),g(!this._firestoreClient,"configureClient() called multiple times");var n=new lt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl),r=function(t){if(t instanceof xa){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new S(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ma(e._config.databaseId,t._key)}return t};return this._dataConverter=new ya(r),this._firestoreClient=new Ko(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!E(e,"projectId"))throw new S(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e["projectId"];if(!n||"string"!==typeof n)throw new S(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new dt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new S(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(N("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),!t)throw new S(_.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Va(yt.fromString(t),this)},t.prototype.doc=function(t){if(N("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),!t)throw new S(_.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),xa.forPath(yt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return N("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Oa(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Na(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(N("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(i.DEBUG);break;case"error":d(i.ERROR);break;case"silent":d(i.SILENT);break;default:throw new S(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Oa=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;N("Transaction.get",arguments,1);var n=Ka("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof St)return new Ma(e._firestore,n._key,null,!1,!1);if(r instanceof _t)return new Ma(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){R("Transaction.set",arguments,2,3);var r=Ka("Transaction.set",t,this._firestore);n=qa("Transaction.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"===typeof e||e instanceof Ho?(x("Transaction.update",arguments,3),r=Ka("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(N("Transaction.update",arguments,2),r=Ka("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){N("Transaction.delete",arguments,1);var e=Ka("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Na=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){R("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Ka("WriteBatch.set",t,this._firestore);n=qa("WriteBatch.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ve.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof e||e instanceof Ho?(x("WriteBatch.update",arguments,3),r=Ka("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(N("WriteBatch.update",arguments,2),r=Ka("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ve.exists(!0))),this},t.prototype.delete=function(t){N("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Ka("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Se(e._key,ve.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),xa=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!==0)throw new S(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new bt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Va(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(N("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new S(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=yt.fromString(t);return new Va(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Q("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){R("DocumentReference.set",arguments,1,2),e=qa("DocumentReference.set",e);var n=e.merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ve.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"===typeof t||t instanceof Ho?(x("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(N("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ve.exists(!0)))},t.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Se(this._key,ve.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof t[i]||ea(t[i])||(r=t[i],z("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ea(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),L("DocumentReference.onSnapshot","function",i+1,t[i+1]),L("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new $o({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Ma(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Jt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return R("DocumentReference.get",arguments,0,1),Wa("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Ma(e.firestore,e._key,t,!0,t instanceof _t&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new S(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new S(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Ra=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ma=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return R("DocumentSnapshot.data",arguments,0,1),t=Ba("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,Ct.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(R("DocumentSnapshot.get",arguments,1,2),e=Ba("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ba("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,Ct.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xa(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ra(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Q("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Wt)return this.convertObject(t,e);if(t instanceof Kt)return this.convertArray(t,e);if(t instanceof qt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new xa(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Pa=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Ma),La=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;N("Query.where",arguments,3),P("Query.where","non-empty string",2,n),G("Query.where",3,r);var o=ba("Query.where",e),a=te.fromString(n);if(o.isKeyField()){if(a===te.ARRAY_CONTAINS)throw new S(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"===typeof r){if(-1!==r.indexOf("/"))throw new S(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new S(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new yt([r]));g(s.length%2===0,"Path should be a document key"),i=new qt(this.firestore._databaseId,new bt(s))}else{if(!(r instanceof xa))throw new S(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+$(r)+".");var u=r;i=new qt(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=Zt.create(o,a,i);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(R("Query.orderBy",arguments,1,2),L("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=ie.ASCENDING;else{if("desc"!==n)throw new S(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ie.DESCENDING}if(null!==this._query.startAt)throw new S(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ba("Query.orderBy",e),o=new ae(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(N("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new S(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Q("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(G(t,1,e),e instanceof Ma){if(n.length>0)throw new S(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new S(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new qt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Ut)throw new S(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new S(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new oe(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new S(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o],s=r[o];if(s.field.isKeyField()){if("string"!==typeof a)throw new S(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new S(_.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var u=new bt(this._query.path.child(a));i.push(new qt(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new oe(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof t[i]||ea(t[i])||(r=t[i],z("Query.onSnapshot",r,["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ea(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),L("Query.onSnapshot","function",i+1,t[i+1]),L("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new $o({next:function(t){e.next&&e.next(new ja(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return R("Query.get",arguments,0,1),Wa("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new ja(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new S(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof ee)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new S(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===te.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new S(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new S(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),ja=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ra(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;R("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new La(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new S(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=$a(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Q("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Pa(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();function Fa(){throw new S(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}var Ua=["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]);Ua.forEach(function(t){try{Object.defineProperty(ja.prototype.docChanges,t,{get:function(){return Fa()}})}catch(e){}});var Va=function(t){function e(e,n){var r=t.call(this,Jt.atPath(e),n)||this;if(e.length%2!==1)throw new S(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new xa(new bt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=J.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new S(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=yt.fromString(t);return xa.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){N("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(La);function qa(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),V(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"===typeof t||t instanceof Ho}),void 0!==e.mergeFields&&void 0!==e.merge)throw new S(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ba(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),B(t,"options","serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Wa(t,e){L(t,"object",1,e),e&&(z(t,e,["source"]),B(t,"options","source",e.source,["default","server","cache"]))}function Ka(t,e,n){if(e instanceof xa){if(e.firestore!==n)throw new S(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Q(t,"DocumentReference",1,e)}function $a(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Pa(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return g(e.type===He.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==He.Metadata}).map(function(e){var r=new Pa(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==He.Added&&(i=o.indexOf(e.doc.key),g(i>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==He.Removed&&(o=o.add(e.doc),a=o.indexOf(e.doc.key)),{type:Ha(e.type),doc:r,oldIndex:i,newIndex:a}})}function Ha(t){switch(t){case He.Added:return"added";case He.Modified:case He.Metadata:return"modified";case He.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Ga=T(Da,"Use firebase.firestore() instead."),za=T(Oa,"Use firebase.firestore().runTransaction() instead."),Qa=T(Na,"Use firebase.firestore().batch() instead."),Ya=T(xa,"Use firebase.firestore().doc() instead."),Xa=T(Ma),Ja=T(Pa),Za=T(La),ts=T(ja),es=T(Va,"Use firebase.firestore().collection() instead."),ns={Firestore:Ga,GeoPoint:ct,Timestamp:ht,Blob:ut,Transaction:za,WriteBatch:Qa,DocumentReference:Ya,DocumentSnapshot:Xa,Query:Za,QueryDocumentSnapshot:Ja,QuerySnapshot:ts,CollectionReference:es,FieldPath:Ho,FieldValue:ca,setLogLevel:Da.setLogLevel,CACHE_SIZE_UNLIMITED:Ia};function rs(t){t.INTERNAL.registerService("firestore",function(t){return new Da(t)},O(ns))}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){rs(t)}is(o),e.registerFirestore=is},e9df:function(t,e,n){"use strict";var r=n("235a"),i=n("998f")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("74d1")(o)},ea7b:function(t,e,n){"use strict";n("b7aa");
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */},eb5a:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},ebd6:function(t,e,n){var r=n("cb7c"),i=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},ef81:function(t,e,n){"use strict";var r=n("f40b"),i=n("96ff"),o=n("50e6"),a=n("8ffe"),s=n("1f50"),u=Object.assign;t.exports=!u||n("eb5a")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=a(t),u=arguments.length,c=1,h=i.f,l=o.f;while(u>c){var f,d=s(arguments[c++]),p=h?r(d).concat(h(d)):r(d),m=p.length,y=0;while(m>y)l.call(d,f=p[y++])&&(n[f]=d[f])}return n}:u},f0be:function(t,e){t.exports=!1},f22d:function(t,e,n){"use strict";var r=n("aad8"),i=n("8343"),o=n("948a"),a=n("235a"),s=n("4c35"),u=n("3b2a").KEY,c=n("eb5a"),h=n("7b3a"),l=n("03ed"),f=n("53ff"),d=n("8d98"),p=n("78a3"),m=n("bb4d"),y=n("1928"),v=n("a313"),g=n("5051"),b=n("669d"),w=n("ad20"),_=n("2223"),S=n("c46b"),T=n("c6b0"),E=n("e1fb"),I=n("6ca5"),k=n("cad0"),A=n("f40b"),C=I.f,D=k.f,O=E.f,N=r.Symbol,x=r.JSON,R=x&&x.stringify,M="prototype",P=d("_hidden"),L=d("toPrimitive"),j={}.propertyIsEnumerable,F=h("symbol-registry"),U=h("symbols"),V=h("op-symbols"),q=Object[M],B="function"==typeof N,W=r.QObject,K=!W||!W[M]||!W[M].findChild,$=o&&c(function(){return 7!=T(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(q,e);r&&delete q[e],D(t,e,n),r&&t!==q&&D(q,e,r)}:D,H=function(t){var e=U[t]=T(N[M]);return e._k=t,e},G=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},z=function(t,e,n){return t===q&&z(V,e,n),g(t),e=_(e,!0),g(n),i(U,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=T(n,{enumerable:S(0,!1)})):(i(t,P)||D(t,P,S(1,{})),t[P][e]=!0),$(t,e,n)):D(t,e,n)},Q=function(t,e){g(t);var n,r=y(e=w(e)),i=0,o=r.length;while(o>i)z(t,n=r[i++],e[n]);return t},Y=function(t,e){return void 0===e?T(t):Q(T(t),e)},X=function(t){var e=j.call(this,t=_(t,!0));return!(this===q&&i(U,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,P)&&this[P][t])||e)},J=function(t,e){if(t=w(t),e=_(e,!0),t!==q||!i(U,e)||i(V,e)){var n=C(t,e);return!n||!i(U,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=O(w(t)),r=[],o=0;while(n.length>o)i(U,e=n[o++])||e==P||e==u||r.push(e);return r},tt=function(t){var e,n=t===q,r=O(n?V:w(t)),o=[],a=0;while(r.length>a)!i(U,e=r[a++])||n&&!i(q,e)||o.push(U[e]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(V,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),$(this,t,S(1,n))};return o&&K&&$(q,t,{configurable:!0,set:e}),H(t)},s(N[M],"toString",function(){return this._k}),I.f=J,k.f=z,n("18cc").f=E.f=Z,n("50e6").f=X,n("96ff").f=tt,o&&!n("f0be")&&s(q,"propertyIsEnumerable",X,!0),p.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!B,{Symbol:N});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=A(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=N(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),a(a.S+a.F*!B,"Object",{create:Y,defineProperty:z,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),x&&a(a.S+a.F*(!B||c(function(){var t=N();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!G(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,R.apply(x,r)}}),N[M][L]||n("1982")(N[M],L,N[M].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},f28b:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},f40b:function(t,e,n){var r=n("232e"),i=n("9129");t.exports=Object.keys||function(t){return r(t,i)}},f499:function(t,e,n){t.exports=n("a21f")},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fbb0:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return h}),n.d(e,"__generator",function(){return l}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return S});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof y?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){s("next",t)}function h(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof d?d(t):t[Symbol.iterator]()}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}}}]);
//# sourceMappingURL=chunk-vendors.b766992b.js.map