(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f37a58d0","chunk-785d5075"],{"20ac":function(e,t,i){var a=i("c1fe");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("499e").default;r("c68c8f52",a,!0,{sourceMap:!1,shadowMode:!1})},"3a16":function(e,t,i){"use strict";var a=i("20ac"),r=i.n(a);r.a},"4a0e":function(e,t,i){var a=i("c087");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("499e").default;r("cde0bef8",a,!0,{sourceMap:!1,shadowMode:!1})},"6b35":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"Image-input"},[i("div",{staticClass:"Image-input__image-wrapper"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!e.imageSrc,expression:"!imageSrc"}],staticClass:"icon fa fa-picture-o"}),i("img",{staticClass:"Image-input__image",attrs:{src:e.imageSrc}})]),i("div",{staticClass:"Image-input__input-wrapper"},[e._v("\n        Вибери зображення\n        "),i("input",{staticClass:"Image-input__input",attrs:{name:"thumbnail",type:"file"},on:{change:e.previewThumbnail}})])])},r=[],o={name:"previewImage",props:["currentImage"],data:function(){return{imageSrc:""}},created:function(){this.currentImage&&(this.imageSrc=this.currentImage)},methods:{previewThumbnail:function(e){var t=e.target;if(t.files&&t.files[0]){var i=new FileReader,a=this;i.onload=function(e){a.imageSrc=e.target.result,a.$emit("getImg",a.imageSrc)},i.readAsDataURL(t.files[0])}}}},s=o,n=(i("3a16"),i("2877")),c=Object(n["a"])(s,a,r,!1,null,null,null);t["default"]=c.exports},7147:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("h1",{staticClass:"section-title__text"},[e._v("Редагувати запис: "+e._s(e.article.title))]),i("form",{on:{submit:function(t){return t.preventDefault(),e.update(e.article.id,e.item)}}},[i("div",{staticClass:"row-wrapper"},[i("div",{staticClass:"cl-12"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"title"}},[e._v("Назва запису")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.item.title,expression:"item.title"}],staticClass:"form-control",attrs:{required:"",type:"text",id:"title"},domProps:{value:e.item.title},on:{input:function(t){t.target.composing||e.$set(e.item,"title",t.target.value)}}})])]),i("div",{staticClass:"cl-6"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"number"}},[e._v("Час на прочитання")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.item.read,expression:"item.read"}],staticClass:"form-control",attrs:{required:"",type:"number",id:"number"},domProps:{value:e.item.read},on:{input:function(t){t.target.composing||e.$set(e.item,"read",t.target.value)}}})])]),i("div",{staticClass:"cl-6"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"show"}},[e._v("Видимість запису")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.item.show,expression:"item.show"}],staticClass:"form-control",attrs:{required:"",type:"checkbox",checked:"",id:"show"},domProps:{checked:Array.isArray(e.item.show)?e._i(e.item.show,null)>-1:e.item.show},on:{change:function(t){var i=e.item.show,a=t.target,r=!!a.checked;if(Array.isArray(i)){var o=null,s=e._i(i,o);a.checked?s<0&&e.$set(e.item,"show",i.concat([o])):s>-1&&e.$set(e.item,"show",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.item,"show",r)}}})])]),i("div",{staticClass:"cl-12"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"pre"}},[e._v("Прев'ю запису:")]),i("PreviewImage",{attrs:{currentImage:e.article.img},on:{getImg:e.getSrc}})],1)])]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"excerpt"}},[e._v("Короткий опис:")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.item.excerpt,expression:"item.excerpt"}],staticClass:"form-control",attrs:{required:"",name:"excerpt",id:"excerpt"},domProps:{value:e.item.excerpt},on:{input:function(t){t.target.composing||e.$set(e.item,"excerpt",t.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"describe"}},[e._v("Контент:")]),i("vue-editor",{attrs:{for:"describe"},model:{value:e.item.content,callback:function(t){e.$set(e.item,"content",t)},expression:"item.content"}})],1),e.draft?i("div",[i("button",{staticClass:"admin-button",on:{click:function(t){return e.deleteItem(e.article.id)}}},[e._v("Видалити чернетку")]),i("button",{staticClass:"admin-button",on:{click:function(t){return e.addPost(e.article.id,e.item)}}},[e._v("Додати запис")])]):i("button",{staticClass:"admin-button",attrs:{type:"submit"}},[e._v("Оновити запис")])]),i("router-link",{staticClass:"admin-button",attrs:{tag:"button",to:{name:"live_preview",params:{title:e.$_friendlyUrl(e.item.title),item:e.item}}},on:{click:function(t){return e.addToStorage(e.item)}}},[e._v("\n\t\t      \tПопередній перегляд\n\t\t    ")])],1)},r=[],o=i("f499"),s=i.n(o),n=i("cebc"),c=i("b3e9"),l=i("6b35"),m={name:"NewPost",props:["article","draft","proId"],data:function(){return{item:JSON.parse(localStorage.getItem("item"))||{title:this.article.title,read:this.article.read,show:this.article.show,img:this.article.img,excerpt:this.article.excerpt,content:this.article.content}}},components:{VueEditor:c["VueEditor"],PreviewImage:l["default"]},methods:{update:function(e,t){if(!this.draft){new Date;this.$_db.collection("blog").doc(e).update(Object(n["a"])({},t)),localStorage.removeItem("item"),localStorage.removeItem("articleId")}},addToStorage:function(e){localStorage.setItem("item",s()(e)),localStorage.setItem("articleId",s()(this.proId))},getSrc:function(e){this.item.img=e},addPost:function(e,t){var i=new Date;this.$_db.collection("blog").add(Object(n["a"])({},t,{createdAt:i})),this.$_db.collection("draft_post").doc(e).delete(),localStorage.removeItem("item"),localStorage.removeItem("articleId")},deleteItem:function(e){this.$_db.collection("draft_post").doc(e).delete(),localStorage.removeItem("item"),localStorage.removeItem("articleId")}}},u=m,d=(i("fdc5"),i("2877")),p=Object(d["a"])(u,a,r,!1,null,"ff398990",null);t["a"]=p.exports},c087:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".quillWrapper .ql-toolbar.ql-snow[data-v-ff398990]{position:-webkit-sticky!important;position:sticky!important;top:75px!important}",""])},c1fe:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".Image-input,.Image-input__image-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.Image-input__image-wrapper{-ms-flex-preferred-size:80%;flex-basis:80%;height:200px;-webkit-box-flex:2.5;-ms-flex:2.5;flex:2.5;margin-right:10px;overflow-y:hidden;border-radius:1px;background:#eee;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.Image-input__image-wrapper>.icon{color:#ccc;font-size:50px;cursor:default}.Image-input__image{max-width:100%;border-radius:1px}.Image-input__input-wrapper{overflow:hidden;position:relative;background:#eee;border-radius:1px;float:left;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.2);-webkit-transition:background .4s;transition:background .4s}.Image-input__input-wrapper:hover{background:#e0e0e0}.Image-input__input{cursor:inherit;display:block;font-size:999px;min-height:100%;opacity:0;position:absolute;right:0;text-align:right;top:0;cursor:pointer}",""])},fdc5:function(e,t,i){"use strict";var a=i("4a0e"),r=i.n(a);r.a}}]);