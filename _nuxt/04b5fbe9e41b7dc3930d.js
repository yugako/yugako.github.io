(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{363:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=r(108))&&"object"==typeof n&&"default"in n?n.default:n;r(195);var c,h=r(80),l=r(109),f=r(111),d=function(){function t(t,e,r,n){this.client=t,this.storage=e,this.storageCache=r,this.logger=n}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-e,n=r<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+n+"."),n},t.prototype.fetch=function(t){return h.__awaiter(this,void 0,void 0,(function(){var e,r,n,o,c;return h.__generator(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=h.sent(),r=e[0],(n=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,n]:(t.eTag=n&&n.eTag,[4,this.client.fetch(t)]);case 2:return o=h.sent(),c=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&c.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(c)];case 3:return h.sent(),[2,o]}}))}))},t}(),m=((c={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",c["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",c["registration-api-key"]="Undefined API key. Check Firebase app initialization.",c["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",c["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',c["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',c["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c),_=new l.ErrorFactory("remoteconfig","Remote Config",m);var v=function(){function t(t,e,r,n,o,c){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=r,this.projectId=n,this.apiKey=o,this.appId=c}return t.prototype.fetch=function(t){return h.__awaiter(this,void 0,void 0,(function(){var e,r,n,o,c,l,f,d,m,v,w,y,C,S,T,M,E,F,L;return h.__generator(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=h.sent(),r=e[0],n=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",c=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},f={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:n,app_id:this.appId,language_code:(void 0===I&&(I=navigator),I.languages&&I.languages[0]||I.language)},d={method:"POST",headers:l,body:JSON.stringify(f)},m=fetch(c,d),v=new Promise((function(e,r){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",r(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([m,v])];case 3:return h.sent(),[4,m];case 4:return w=h.sent(),[3,6];case 5:throw y=h.sent(),C="fetch-client-network","AbortError"===y.name&&(C="fetch-timeout"),_.create(C,{originalErrorMessage:y.message});case 6:if(S=w.status,T=w.headers.get("ETag")||void 0,200!==w.status)return[3,11];F=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,w.json()];case 8:return F=h.sent(),[3,10];case 9:throw L=h.sent(),_.create("fetch-client-parse",{originalErrorMessage:L.message});case 10:M=F.entries,E=F.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===E?S=500:"NO_CHANGE"===E?S=304:"NO_TEMPLATE"!==E&&"EMPTY_CONFIG"!==E||(M={}),304!==S&&200!==S)throw _.create("fetch-status",{httpStatus:S});return[2,{status:S,eTag:T,config:M}]}var I}))}))},t}(),w=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),y="",C=["1","true","t","yes","y","on"],S=function(){function t(t,e){void 0===e&&(e=y),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&C.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),T=6e4,M=432e5,E=function(){function t(t,e,r,n,o){this.app=t,this._client=e,this._storageCache=r,this._storage=n,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:T,minimumFetchIntervalMillis:M},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=f.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=f.LogLevel.SILENT;break;default:this._logger.logLevel=f.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return h.__awaiter(this,void 0,void 0,(function(){var t,e,r;return h.__generator(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=n.sent(),e=t[0],r=t[1],e&&e.config&&e.eTag&&e.eTag!==r?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return h.__awaiter(this,void 0,void 0,(function(){var t=this;return h.__generator(this,(function(e){return[2,new Promise((function(e,r){return h.__awaiter(t,void 0,void 0,(function(){var t,n,o,c=this;return h.__generator(this,(function(f){switch(f.label){case 0:t=new w,setTimeout((function(){return h.__awaiter(c,void 0,void 0,(function(){return h.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return f.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return f.sent(),e(),[3,6];case 4:return n=f.sent(),m="fetch-throttle",o=(d=n)instanceof l.FirebaseError&&-1!==d.code.indexOf(m)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(o)];case 5:return f.sent(),r(n),[3,6];case 6:return[2]}var d,m}))}))}))]}))}))},t.prototype.fetchAndActivate=function(){return h.__awaiter(this,void 0,void 0,(function(){return h.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(h.__assign(h.__assign({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,r){return e[r]=t.getValue(r),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new S("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new S("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new S("static"))},t}();function F(t,e){var r=t.target.error||void 0;return _.create(e,{originalErrorMessage:r&&r.message})}var L="app_namespace_store",I="firebase_remote_config",P=1;var k=function(){function t(t,e,r,n){void 0===n&&(n=new Promise((function(t,e){var r=indexedDB.open(I,P);r.onerror=function(t){e(F(t,"storage-open"))},r.onsuccess=function(e){t(e.target.result)},r.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(L,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=r,this.openDbPromise=n}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return h.__awaiter(this,void 0,void 0,(function(){var e,r=this;return h.__generator(this,(function(n){switch(n.label){case 0:return[4,this.openDbPromise];case 1:return e=n.sent(),[2,new Promise((function(n,o){var c=e.transaction([L],"readonly").objectStore(L),h=r.createCompositeKey(t);try{var l=c.get(h);l.onerror=function(t){o(F(t,"storage-get"))},l.onsuccess=function(t){var e=t.target.result;n(e?e.value:void 0)}}catch(t){o(_.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return h.__awaiter(this,void 0,void 0,(function(){var r,n=this;return h.__generator(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise((function(o,c){var h=r.transaction([L],"readwrite").objectStore(L),l=n.createCompositeKey(t);try{var f=h.put({compositeKey:l,value:e});f.onerror=function(t){c(F(t,"storage-set"))},f.onsuccess=function(){o()}}catch(t){c(_.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return h.__awaiter(this,void 0,void 0,(function(){var e,r=this;return h.__generator(this,(function(n){switch(n.label){case 0:return[4,this.openDbPromise];case 1:return e=n.sent(),[2,new Promise((function(n,o){var c=e.transaction([L],"readwrite").objectStore(L),h=r.createCompositeKey(t);try{var l=c.delete(h);l.onerror=function(t){o(F(t,"storage-delete"))},l.onsuccess=function(){n()}}catch(t){o(_.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),A=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return h.__awaiter(this,void 0,void 0,(function(){var t,e,r,n,o,c;return h.__generator(this,(function(h){switch(h.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return(n=h.sent())&&(this.lastFetchStatus=n),[4,e];case 2:return(o=h.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return(c=h.sent())&&(this.activeConfig=c),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}(),N=1e3,O=2,j=144e5,D=.5;function R(t){var e=N*Math.pow(O,t),r=Math.round(D*e*(Math.random()-.5)*2);return Math.min(j,e+r)}function z(t,e){return new Promise((function(r,n){var o=Math.max(e-Date.now(),0),c=setTimeout(r,o);t.addEventListener((function(){clearTimeout(c),n(_.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var K=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return h.__awaiter(this,void 0,void 0,(function(){var e;return h.__generator(this,(function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var r=e.throttleEndTimeMillis,n=e.backoffCount;return h.__awaiter(this,void 0,void 0,(function(){var e,o,c;return h.__generator(this,(function(h){switch(h.label){case 0:return[4,z(t.signal,r)];case 1:h.sent(),h.label=2;case 2:return h.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=h.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return h.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof l.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(o=h.sent()))throw o;return c={throttleEndTimeMillis:Date.now()+R(n),backoffCount:n+1},[4,this.storage.setThrottleMetadata(c)];case 6:return h.sent(),[2,this.attemptFetch(t,c)];case 7:return[2]}}))}))},t}(),x="@firebase/remote-config";function V(t){t.INTERNAL.registerService("remoteConfig",(function(e,r,n){if("undefined"==typeof window)throw _.create("registration-window");var o=e.options,c=o.projectId,h=o.apiKey,l=o.appId;if(!c)throw _.create("registration-project-id");if(!h)throw _.create("registration-api-key");if(!l)throw _.create("registration-app-id");n=n||"firebase";var m=new k(l,e.name,n),w=new A(m),y=new f.Logger(x);y.logLevel=f.LogLevel.ERROR;var C=new v(e.installations(),t.SDK_VERSION,n,c,h,l),S=new K(C,m),T=new d(S,m,w,y),M=new E(e,T,w,m,y);return M.ensureInitialized(),M}),void 0,void 0,!0)}V(o),e.registerRemoteConfig=V},369:function(t,e,r){"use strict";r.r(e);r(363)}}]);