{
  "title": "Vue SPA в режимі історії на GitHub Pages? ",
  "thumbnail": "/img/github.png",
  "date": "2019-11-02T18:15:30.007Z",
  "description": "При публікації SPA-додатку на github pages виникає проблема в опрацюванні Github маршрутів, до яких звертаються напряму.",
  "body": "При публікації SPA-додатку на github pages виникає проблема в опрацюванні Github маршрутів, до яких звертаються напряму. Наприклад, якщо я в адресному полі напишу yugako.github.io/blog, то отримаю наступне\n\n![Error ](/img/error.png \"404 not found\")\n\nЩоб вирішити цю проблему, достатньо перед публікацією в папку dist (папка, яка генерується при виконанні команди npm run build) помістити файл 404.html з наступним вмістом\n\n```\n<!DOCTYPE html>\n```\n\n```\n<html>\n```\n\n```\n<head>\n```\n\n```\n    <script>\n```\n\n```\n    sessionStorage.redirect = location.href;\n```\n\n```\n    </script>\n```\n\n```\n    <meta http-equiv=\"refresh\" content=\"0;URL='/'\">\n```\n\n```\n</head>\n```\n\n```\n\n```\n\n```\n\n```\n\n```\n</html>\n```\n\nІ у файл public/index.html помістити наступний код\n\n```\n(function(){\n```\n\n```\n   var redirect = sessionStorage.redirect;\n```\n\n```\n       delete sessionStorage.redirect;\n```\n\n```\n\n```\n\n```\n       if (redirect && redirect != location.href) {\n```\n\n```\n             history.replaceState(null, null, redirect);\n```\n\n```\n       }\n```\n\n```\n})();\n```\n\nПісля публікації маршрути будуть працювати як по маслу :)"
}