{
  "title": "Vue SPA in history mode on GitHub Pages?",
  "thumbnail": "/img/github.png",
  "date": "2019-11-02T19:27:31.514Z",
  "description": "When publishing a SPA application on github pages, there is a problem in working out the Github routes that they go directly to.",
  "body": "When publishing a SPA application on github pages, there is a problem in working out the Github routes that they go directly to.\n\nFor example, if I type yugako.github.io/blog in the address box, I will get the following\n\n![404](/img/error.png \"Page not found in history mode\")\n\nTo resolve this issue, it is sufficient to place a **404.html** file with the following content in the dist folder (the folder generated by the _npm run build_ command)\n\n```\n<!DOCTYPE html><html>  <head>    <script>      sessionStorage.redirect = location.href;    </script>    <meta http-equiv=\"refresh\" content=\"0;URL='/'\">  </head></html>\n```\n\nAnd put the following code in the **public / index.html** file\n\n```\n(function(){   var redirect = sessionStorage.redirect;       delete sessionStorage.redirect;       if (redirect && redirect != location.href) {             history.replaceState(null, null, redirect);       }})();\n```\n\nAfter publication routes will work like clockwork :)"
}